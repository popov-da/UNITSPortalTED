/*! Cortona3D Solo 2.1.0, Copyright (c) 2015-2023 Paragraphics Ltd. | cd37abfe701a671dfbcaab351f1b5fb9 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Cortona3DSolo=t():e.Cortona3DSolo=t()}(window,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=23)}([function(e,t){function n(e){return"function"==typeof e}function i(e){return"number"==typeof e}function r(e){return"string"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports={extend:function(e){function t(){}return t.prototype=e.prototype||e,new t},defineClass:function(e,t,n){function i(){}if(e&&(i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.superClass=e),n)for(var r in n)n.hasOwnProperty(r)&&(t.prototype[r]=n[r]);return t},expand:function e(t){for(var i=1;i<arguments.length;i++){var r=arguments[i];if(o(r))for(var a in r)r.hasOwnProperty(a)&&(a in t?n(t[a])&&n(r[a])||Array.isArray(t[a])&&Array.isArray(r[a])?t[a]=r[a]:o(t[a])&&o(r[a])&&r[a]!=={}?e(t[a],r[a]):t[a]=r[a]:t[a]=r[a])}return t},RGB:function(e,t,n){return e+256*t+65536*n},fromHTMLColor:function(e){return i(e)?e:r(e)&&e.match(/^#?([0-9A-F]{6})$/i)?parseInt(RegExp.$1.substr(4,2)+RegExp.$1.substr(2,2)+RegExp.$1.substr(0,2),16):0},loadScript:function(e,t,n,i){var r=document.createElement("script");return r.type="text/javascript",r.src=e,a(t)||(r.async=!!t),r.onload=n,r.onerror=i,document.getElementsByTagName("head")[0].appendChild(r),r},loadStyleSheet:function(e,t,n){var i=document.createElement("link");return i.href=e,i.rel="stylesheet",i.type="text/css",i.onload=t,i.onerror=n,document.getElementsByTagName("head")[0].appendChild(i),i},isFunction:n,isNumber:i,isString:r,isObject:o,isPromise:function(e){return"[object Promise]"===Object.prototype.toString.call(e)||o(e)&&n(e.then)&&n(e.catch)&&n(e.finally)},isHTMLNode:function(e){return e instanceof Node||/^\[object HTML.*Element]$/.test(Object.prototype.toString.call(e))},isUndefined:a,detectAMDLoader:function(){return n(window.requirejs)&&n(window.define)&&window.define.amd},getBaseURL:function(e){if("string"!=typeof e&&(e="#"),!/^[a-z]+\:\/\//i.test(e)&&!/^\/\//.test(e)&&/^[a-z]+\:/i.test(e))return"";var t=document.createElement("a");return t.href=e,(e=(t=t.cloneNode(!1)).protocol+"//"+t.host+("/"===t.pathname[0]?"":"/")+t.pathname).substring(0,e.lastIndexOf("/")+1)},loadResource:function(e,t,n){return new Promise((function(i,r){var o=window.URL||window.webkitURL||window,a=new XMLHttpRequest;function s(e){window.Cortona3DSolo&&window.Cortona3DSolo.dispatch("app.onProgress",0,-1,e.type)}t&&a.overrideMimeType&&a.overrideMimeType(t),a.open("GET",e,!0),n&&(a.responseType=n),a.onprogress=function(e){var t=e.loaded,n=e.lengthComputable||void 0===e.lengthComputable?e.total:0;window.Cortona3DSolo&&window.Cortona3DSolo.dispatch("app.onProgress",t,n,e.type)},a.onabort=s,a.onerror=s,a.onload=s,a.onreadystatechange=function(t){a.readyState===XMLHttpRequest.DONE&&(/^blob:/i.test(e)&&o.revokeObjectURL(e),200===a.status||0===a.status?i(a):r(new Error(e+" "+a.status+" "+a.statusText)))};try{a.send(null)}catch(e){r(e)}}))},toggleClass:function(e,t,n){e&&((n=a(n)?!e.classList.contains(t):n)?e.classList.add(t):e.classList.remove(t))}},Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)})},function(e,t,n){var i=n(0),r=i.expand,o=n(12),a=0,s={addons:{}},u=!1,c={configureInstance:function(e,t){var i=e||0,r=t||0;if(a|=i,a&=~r,s.core&&(!Module.ccall||Module.runtimeReady&&!c.modelInfo?n(2).once("app.didFinishLoadDocument",(function(){c.configureInstance(i,r)})):Module._tiramisu_configure(32767&i,32767&r)),s.drawing){var o=s.drawing.config.features||0;o|=i,o&=~r,s.drawing.config.features=o,n(5).configure(s.drawing.config)}return a},initialize:function(e,t){var i=t,r=n(2);function o(){u=!0}if("string"==typeof e?(i=e,s.drawing||s.core||r.use("core",{src:i,features:a})):e&&t&&(s.core&&e&&(r.core.canvas=e),r.use("core",{canvas:e,src:t,features:a})),r.once("app.didFinishLoadDocument",o),r.once("app.didFailLoadDocument",o),s.drawing&&(n(5).attach(r.core&&r.core.canvas),!s.core))return(i=i||s.drawing.config.src)?(r.app.drawing.show(!0),new Promise((function(e,t){r.once("app.didFinishLoadDocument",e),r.app.drawing.load(i).catch(t)}))):Promise.resolve({});if(s.core){r.core.canvas&&(r.core.canvas.setAttribute("touch-action","none"),r.core.canvas.style.touchAction="none");var c=n(15).Arguments;return s.tag?c.instanceClass="stella":(i=i||c.document,c.document=i?r.app.util.toUrl(i):URL.createObjectURL(new Blob(["#VRML V2.0 utf8"],{type:"model/vrml"}))),c.features=32767&a,c.contentScaleFactor=window.devicePixelRatio||1,c.toModule(),s.tag?new Promise((function(e,t){r.once("app.firstFrameDidArrive",e)})):new Promise((function(e,t){r.once("core.onError",t),r.once("app.didFinishLoadDocument",e),r.once("app.didFailLoadDocument",t)}))}return Promise.reject(new Error("Solo initialize: nothing to do"))},version:function(){return"2.1.0"},isDocumentLoaded:function(){return u},loadCompanionFile:function(e){return i.loadResource(e,"text/xml").then((function(t){var a,s;return t.responseXML?(s=o(t.responseXML),(a={baseURL:i.getBaseURL(e),options:n(10)(s),interactivity:{json:s}}).specificationName=a.options.SpecID,s.ipc?r(a,{type:"ipc",metadata:n(7)(s.$("ipc/figure/metadata/value"))},n(36)(a.interactivity,a.baseURL)):s.SimulationInteractivity&&r(a,{type:"procedure",metadata:n(7)(s.$("SimulationInteractivity/SimulationInformation/metadata/value"))},n(37)(a.interactivity,a.baseURL)),Promise.resolve(a)):Promise.reject(new Error(e+" empty content"))}))},getResourceUrl:function(e,t){return t&&!/^(data|blob)/i.test(t)?c.util.toUrl(e,t):c.modelInfo&&c.modelInfo.bundleURL?c.util.createResourceURL(e)||c.util.toUrl(e,c.modelInfo.bundleURL):c.util.toUrl(e,c.modelInfo&&c.modelInfo.baseURL)}};Object.defineProperty(c,"DISABLE_DOCUMENT_INTERACTIVITY",{value:1,writable:!1}),Object.defineProperty(c,"DISABLE_PROCEDURE_TEXT_EMISSION",{value:2,writable:!1}),Object.defineProperty(c,"DISABLE_AUDIO",{value:4,writable:!1}),Object.defineProperty(c,"DISABLE_VERTEX_ARRAY_OBJECT_OES",{value:8,writable:!1}),Object.defineProperty(c,"DISABLE_DISCARDABLE_GEOMETRY_DATA",{value:16,writable:!1}),Object.defineProperty(c,"DISABLE_PROPERTY_VALUE_ANIMATIONS",{value:32,writable:!1}),Object.defineProperty(c,"ENABLE_GLES3",{value:64,writable:!1}),Object.defineProperty(c,"DISABLE_ANTIALIASING_GLES3",{value:128,writable:!1}),Object.defineProperty(c,"TRANSPARENT_BACKGROUND",{value:256,writable:!1}),Object.defineProperty(c,"DISABLE_OBJECT_HOVERING",{value:512,writable:!1}),Object.defineProperty(c,"DISABLE_GEOMETRY_PREWARMING",{value:1024,writable:!1}),Object.defineProperty(c,"DEFAULT_WHELL_ACTION_ZOOM_MAC",{value:2048,writable:!1}),Object.defineProperty(c,"ENABLE_NAVIGATION_FIT_TO_OBJECT",{value:32768,writable:!1}),Object.defineProperty(c,"DISABLE_INTERACTIVITY_XML_EMISSION",{value:65536,writable:!1}),Object.defineProperty(c,"DRAWING_HOTSPOT_HIGHLIGHT_SOLID",{value:131072,writable:!1}),Object.defineProperty(c,"ENABLE_AUTO_SWITCHING_DISPLAY_MODE",{value:262144,writable:!1}),Object.defineProperty(c,"ENABLE_VRML_TEXT_NODE",{value:524288,writable:!1}),Object.defineProperty(c,"DISABLE_DRAWING_INTERACTIVITY_OPTIMIZATION",{value:1048576,writable:!1}),e.exports={app:c,checkConfigureOptions:function(e){return(a&e)===e},getInstanceConfigurationFlags:function(){return a},getDocumentURL:function(){var e="";if(s.core){var t=Module.arguments;if(t){var n=t.indexOf("document");n>=0&&(e=t[n+1])}}return e},usedModules:s}},function(e,t,n){var i=(0,n(0).expand)(new(0,n(9).EventEmitter),window.Cortona3DSolo||{});i.setMaxListeners(0);var r=i.baseUrl||i.baseURL||document.currentScript&&document.currentScript.src.replace(/[^\\\/]+$/,"")||"";Object.defineProperty(i,"baseURL",{get:function(){return r},set:function(e){r=e},enumerable:!0}),Object.defineProperty(i,"baseUrl",{get:function(){return r},set:function(e){r=e},enumerable:!0}),Object.defineProperty(i,"__trace",{value:!1,writable:!0}),e.exports=i},function(e,t,n){"use strict";var i,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function a(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},i=[],r=0;r<e.length;r++){var s=e[r],u=t.base?s[0]+t.base:s[0],c=n[u]||0,l="".concat(u," ").concat(c);n[u]=c+1;var d=a(l),f={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(o[d].references++,o[d].updater(f)):o.push({identifier:l,updater:m(f,t),references:1}),i.push(l)}return i}function u(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var o=n.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var a=r(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,l=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function d(e,t,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=l(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function f(e,t,n){var i=n.css,r=n.media,o=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var h=null,p=0;function m(e,t){var n,i,r;if(t.singleton){var o=p++;n=h||(h=u(t)),i=d.bind(null,n,o,!1),r=d.bind(null,n,o,!0)}else n=u(t),i=f.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var r=a(n[i]);o[r].references--}for(var u=s(e,t),c=0;c<n.length;c++){var l=a(n[c]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}n=u}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,i,r,o=e[1]||"",a=e[3];if(!a)return o;if(t&&"function"==typeof btoa){var s=(n=a,i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(r," */")),u=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[o].concat(u).concat([s]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(r[a]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);i&&r[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},function(e,t,n){var i=n(2),r=n(1).app,o=n(0).expand;n(30);var a=n(32),s=n(1).usedModules,u=!1,c="",l="#FF0000",d="#FF0000",f=i.app.ui.css();function h(){f.render({".cortona3dsolo-svg svg a[name]":{"& .hover":{stroke:l,strokeOpacity:1},"& path.hover":{strokeWidth:"2px"},"& text.hover":{strokeWidth:".1em"},"& path.select":{fill:d,fillOpacity:.8}}})}o(a,{delegate:{onProgress:function(e,t){i.dispatch("app.onProgress",e,t)},didClickHotspot:function(e,t){i.dispatch("app.drawing.didSelectHotspot",e,t)},didEnterHotspot:function(e){a.toggleHotspotClass(e,"hover",!0),i.dispatch("app.drawing.didEnterHotspot",e),i.dispatch("app.drawing.didHoverHotspot",e,!0)},didLeaveHotspot:function(e){a.toggleHotspotClass(e,"hover",!1),i.dispatch("app.drawing.didLeaveHotspot",e),i.dispatch("app.drawing.didHoverHotspot",e,!1)},didCallContextMenu:function(e,t,n,r){i.dispatch("app.drawing.didCallContextMenu",e,t,n,r)},onZoomChange:function(e){i.dispatch("app.drawing.didChangeScale",e)}}});var p=n(6).getDocumentBaseURL,m={drawing:{load:function(e){if(i.dispatch("app.drawing.didStartLoadDrawing",e),"function"==typeof r.drawing.willStartLoadDrawing){var t=r.drawing.willStartLoadDrawing.call(r,e);"string"==typeof t&&(e=t)}return(e=e.replace(/\.(cgm|tiff?)$/i,".svg"))==c?(i.dispatch("app.drawing.didFinishLoadDrawing",e),Promise.resolve()):(r.util&&r.util.createResourceURL&&(o=r.util.createResourceURL(e)),o||/^[^\/]+:/.test(o=e)||(o=p()+o),new Promise((function(t,u){a.delegate.didCompleteLoad=function(o){if(r.util&&r.util.revokeResourceURL&&r.util.revokeResourceURL(o),c=e,i.dispatch("app.drawing.didFinishLoadDrawing",e),!s.core){var a={type:"drawing",baseURL:n(6).getBaseURL(e)};i.dispatch("app.didFinishLoadDocument",a)}t()},a.delegate.failedLoadingDocument=function(t,n){r.util&&r.util.revokeResourceURL&&r.util.revokeResourceURL(t),c=e,a.unload(),i.dispatch("app.drawing.didFailLoadDrawing",e,n),s.core||i.dispatch("app.didFailLoadDocument",n),u(new Error("Image loading failed: status "+n))},a.load(o,/\.(png|jpe?g|jpe|gif)$/i.test(e))})));var o},show:function(e){a[(e=void 0===e||!!e)?"show":"hide"](),u=!!e},isVisible:function(){return u},selectHotspot:function(e,t){""===(t=void 0===t?d:t)?a.unselect(e):a.select(e,t)},highlightHotspot:function(e,t){""===(t=void 0===t?l:t)?a.unhighlight(e):a.highlight(e,t)},hoverHotspot:function(e){a.setObjectsWithClassName(e,"hover")},toggleHotspotClass:a.toggleHotspotClass.bind(a),reset:a.reset.bind(a),scaleBy:a.scaleBy.bind(a),shiftBy:a.shiftBy.bind(a),centerTo:a.centerTo.bind(a),fitTo:a.fitTo.bind(a),hotspotExists:function(e){return Array.prototype.slice.call(a.svg.getElementsByTagName("a")).some((function(t){return t.getAttribute("name")===e}))},addSelectedObjects:function(e){a.addObjectsWithClassName(e,"select")},setSelectedObjects:function(e){a.setObjectsWithClassName(e,"select")},removeSelectedObjects:function(e){a.removeObjectsWithClassName(e,"select")},getSelectedObjects:function(){return a.getObjectsWithClassName("select")},addHoveredObjects:function(e){a.addObjectsWithClassName(e,"hover")},setHoveredObjects:function(e){a.setObjectsWithClassName(e,"hover")},removeHoveredObjects:function(e){a.removeObjectsWithClassName(e,"hover")},getHoveredObjects:function(){return a.getObjectsWithClassName("hover")},addObjectsWithClassName:a.addObjectsWithClassName.bind(a),setObjectsWithClassName:a.setObjectsWithClassName.bind(a),removeObjectsWithClassName:a.removeObjectsWithClassName.bind(a),getObjectsWithClassName:a.getObjectsWithClassName.bind(a)}};Object.defineProperties(m.drawing,{svg:{get:function(){return a.svg},enumerable:!0},hoverColor:{get:function(){return l},set:function(e){l=e,h()},enumerable:!0},selectionColor:{get:function(){return d},set:function(e){d=e,h()},enumerable:!0},maxScale:{get:function(){return a.maxScale},set:function(e){a.maxScale=e},enumerable:!0},minScale:{get:function(){return a.minScale},set:function(e){a.minScale=e},enumerable:!0}}),e.exports={configure:function(e){return l=(e=e||{}).hotspotHoverColor||e.hotspotHighlightColor||l,d=e.hotspotSelectionColor||d,a.enableHoverFilling=(e.features||0)&r.DRAWING_HOTSPOT_HIGHLIGHT_SOLID,a.enableDrawingOptimization=!((e.features||0)&r.DISABLE_DRAWING_INTERACTIVITY_OPTIMIZATION),e.maxScale&&(a.maxScale=+e.maxScale),e.minScale&&(a.minScale=+e.minScale),h(),m},attach:function(e){if(!a.svg){var t=s.drawing.config.element||s.drawing.config.svg||function(){var t,i=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=e;return e?t=e.parentNode:(n(14),r=document.body.firstChild,t=document.body),t.insertBefore(i,r),i}();t.parentNode.style.overflow="hidden",a.initialize(t)}},getSVGViewer:function(){return a}}},function(e,t,n){var i=n(0).getBaseURL;e.exports={getBaseURL:i,getDocumentBaseURL:function(){return i(n(1).getDocumentURL())}}},function(e,t){e.exports=function(e){var t={};return e.forEach((function(e){var n=e.$text();/^(Yes|No)$/.test(n)&&(n="Yes"==n),t[e.$attr("decl-id")]=n})),t}},function(e,t,n){var i=n(0);function r(e){for(var t,n,i,r=[],o=/(^[^.#]+|\.[^.#]+|#[^.#]+)/g;o.exec(e);)switch((t=RegExp.$1).substring(0,1)){case".":r.push(t.substr(1));break;case"#":n=t.substr(1);break;default:i=t}return{id:n,classList:r,tag:i||"div"}}function o(e){var t=document.createElement("div");return t.innerHTML=e,Array.prototype.slice.call(t.childNodes)}e.exports={parseSelector:r,createElement:function(e,t,n){var a,s={},u=function(e){return i.isObject(e)&&i.isFunction(e.forEach)},c=i.isObject(t)&&!u(t)&&!(t instanceof Node);if(s=r(e),a=document.createElement(s.tag),Array.prototype.slice.call(arguments,c?2:1).forEach((function e(t){i.isString(t)?a.append.apply(a,o(t)):u(t)?t.forEach(e):a.append(t||"")})),c)for(var l in t)if(!i.isUndefined(t[l]))if(t.hasOwnProperty(l)){if("dataset"===l&&i.isObject(t[l]))for(var d in t.dataset)i.isUndefined(t.dataset[d])||t.dataset.hasOwnProperty(d)&&(a.dataset[d]=t.dataset[d]);a[l]=t[l]}else a.setAttribute(l,t[l]);return s.id&&(a.id=s.id),s.classList.map((function(e){return e.replace(/\s/g,"_")})).forEach((function(e){a.classList.add(e)})),a},createElementsFromHTML:o}},function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,o),i(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,r)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,i){var r,o,a,s;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=l(e))>0&&a.length>r&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=f.bind(i);return r.listener=n,i.wrapFn=r,r}function p(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):v(r,r.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function g(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(o){i.once&&e.removeEventListener(t,r),n(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=r[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var c=u.length,l=v(u,c);for(n=0;n<c;++n)o(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,i,r,o,a;if(c(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t){e.exports=function(e){var t={};function n(e){var n=e.$text();/^(Yes|No)$/.test(n)&&(n="Yes"==n),t[e.$attr("name")]=n}if(e.ipc)e.$("ipc/figure/media").filter((function(e){return 1==e.$attr("id")}))[0].$("value").forEach(n);else if(e.SimulationInteractivity){e.$("SimulationInteractivity/SimulationInformation/Options/Value").forEach(n);var i=e.SimulationInteractivity.SimulationInformation;t.PublisherVersion=i.$text("ExporterVersionNumber"),t.SpecID=i.$text("SpecID"),t.SpecVersion=i.$text("SpecVersion"),t.SpecLang=i.$text("SpecLang"),t.ModificationDate=i.$text("ModificationDate"),t.DocumentFile=i.$text("DocumentFile")}return t}},function(e,t){function n(e,t,n){this.r=r(Math.round(e||0)),this.b=r(Math.round(n||0)),this.g=r(Math.round(t||0))}function i(e){return Math.max(0,Math.min(1,e))}function r(e){return Math.max(0,Math.min(255,e))}function o(e,t){return Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function s(e){var t,r,s,u,c;if("string"==typeof e){if(c=e.match(/^#?([0-9A-F]{6})$/i))return t=c[1],new n(r=parseInt(t.substr(0,2),16),s=parseInt(t.substr(2,2),16),u=parseInt(t.substr(4,2),16));if(c=e.match(/^#?([0-9A-F]{3})$/i))return t=c[1],new n(r=parseInt(t.substr(0,1)+t.substr(0,1),16),s=parseInt(t.substr(1,1)+t.substr(1,1),16),u=parseInt(t.substr(2,1)+t.substr(2,1),16));throw new Error("Not a hex color: "+e)}if(Array.isArray(e)){if(e.length>2)return new n(255*i(e[0]),255*i(e[1]),255*i(e[2]));throw new Error("Can not recognize color array")}if("object"==typeof e){if(void 0!==e.r&&void 0!==e.g&&void 0!==e.b)return new n(e.r,e.g,e.b);if(void 0!==e.h&&void 0!==e.s&&void 0!==e.l){var l=o(e.h,360),d=o(e.s,100),f=o(e.l,100);if(0===d)r=s=u=f;else{var h=f<.5?f*(1+d):f+d-f*d,p=2*f-h;r=a(p,h,l+1/3),s=a(p,h,l),u=a(p,h,l-1/3)}return new n(255*r,255*s,255*u)}throw new Error("Can not recognize color object")}return"number"==typeof e?new n(r=e>>16&255,s=e>>8&255,u=255&e):new n}n.prototype.toRgb=function(){return{r:this.r,g:this.g,b:this.b}},n.prototype.toHsl=function(){var e=o(this.r,255),t=o(this.g,255),n=o(this.b,255),i=Math.max(e,t,n),r=Math.min(e,t,n),a=0,s=0,u=(i+r)/2;if(i!==r){var c=i-r;switch(s=u>.5?c/(2-i-r):c/(i+r),i){case e:a=(t-n)/c+(t<n?6:0);break;case t:a=(n-e)/c+2;break;case n:a=(e-t)/c+4}a/=6}return{h:360*a,s:100*s,l:100*u}},n.prototype.toString=function(){var e="000000"+((this.r<<16)+(this.g<<8)+this.b).toString(16).toUpperCase();return"#"+e.substring(e.length-6)},n.prototype.toArray=function(){return[this.r/255,this.g/255,this.b/255]},n.prototype.toValue=function(){return this.r<<16|this.g<<8|this.b},n.prototype.toHslString=function(){var e=this.toHsl();return"hsl("+Math.round(e.h)+","+Math.round(e.s)+","+Math.round(e.l)+")"},n.prototype.toRgbString=function(){return"rgb("+this.r+","+this.g+","+this.b+")"},n.prototype.inverse=function(){var e=this.toRgb();return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,s(e)},n.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,i=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))},n.prototype.desaturate=function(e){e=0===e?0:e||10;var t=this.toHsl();return t.s-=e,t.s=100*i(t.s/100),s(t)},n.prototype.saturate=function(e){e=0===e?0:e||10;var t=this.toHsl();return t.s+=e,t.s=100*i(t.s/100),s(t)},n.prototype.grayscale=function(){return this.desaturate(100)},n.prototype.lighten=function(e){e=0===e?0:e||10;var t=this.toHsl();return t.l+=e,t.l=100*i(t.l/100),s(t)},n.prototype.darken=function(e){e=0===e?0:e||10;var t=this.toHsl();return t.l-=e,t.l=100*i(t.l/100),s(t)},n.prototype.spin=function(e){var t=this.toHsl(),n=(t.h+e)%360;return t.h=n<0?360+n:n,s(t)},n.prototype.brighten=function(e){e=0===e?0:e||10;var t=this.toRgb();return t.r=r(t.r-Math.round(e/100*-255)),t.g=r(t.g-Math.round(e/100*-255)),t.b=r(t.b-Math.round(e/100*-255)),s(t)},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,s(e)},e.exports=s},function(e,t,n){var i=n(29);e.exports=function e(t){var n=new i;if(1==t.nodeType&&(n["@name"]=t.nodeName,t.attributes.length>0)){n["@attributes"]={};for(var r=0;r<t.attributes.length;r++){var o=t.attributes.item(r);n["@attributes"][o.nodeName]=o.nodeValue}}var a=!1,s=!1,u=!1,c=!1;if(t.hasChildNodes()){n["@children"]=[];for(var l=0;l<t.childNodes.length;l++){var d=t.childNodes.item(l),f=d.nodeName,h=1===d.nodeType,p=3===d.nodeType,m=e(d);if(a=a||p,u=u||!p,c=c||4===d.nodeType,void 0===n[f])n[f]=m;else{if(void 0===n[f].push){s=s||p;var v=n[f];n[f]=[],n[f].push(v)}n[f].push(m)}(h||p&&m)&&n["@children"].push(m)}s&&(n["#text"]=n["#text"].join("").replace(/^[\s\r\n]*$/,"")),a&&u&&delete n["#text"],c&&(n["#text"]=n["#cdata-section"],delete n["#cdata-section"])}else"string"==typeof t.nodeValue&&(n=t.nodeValue.replace(/^[\s\r\n]*$/,""));return n}},function(e,t,n){var i;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(r,o){"use strict";var a,s=["","webkit","Moz","MS","ms","o"],u=o.createElement("div"),c=Math.round,l=Math.abs,d=Date.now;function f(e,t,n){return setTimeout(y(e,n),t)}function h(e,t,n){return!!Array.isArray(e)&&(p(e,n[t],n),!0)}function p(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function m(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),e.apply(this,arguments)}}a="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign;var v=m((function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&void 0===e[i[r]])&&(e[i[r]]=t[i[r]]),r++;return e}),"extend","Use `assign`."),g=m((function(e,t){return v(e,t,!0)}),"merge","Use `assign`.");function b(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&a(i,n)}function y(e,t){return function(){return e.apply(t,arguments)}}function _(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function w(e,t){return void 0===e?t:e}function E(e,t,n){p(S(t),(function(t){e.addEventListener(t,n,!1)}))}function A(e,t,n){p(S(t),(function(t){e.removeEventListener(t,n,!1)}))}function T(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function O(e,t){return e.indexOf(t)>-1}function S(e){return e.trim().split(/\s+/g)}function P(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function x(e){return Array.prototype.slice.call(e,0)}function M(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];P(r,a)<0&&i.push(e[o]),r[o]=a,o++}return n&&(i=t?i.sort((function(e,n){return e[t]>n[t]})):i.sort()),i}function k(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<s.length;){if((i=(n=s[o])?n+r:t)in e)return i;o++}}var I=1;function C(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var R="ontouchstart"in r,L=void 0!==k(r,"PointerEvent"),j=R&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),N=["x","y"],D=["clientX","clientY"];function F(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){_(e.options.enable,[e])&&n.handler(t)},this.init()}function H(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&t&&i-r==0,a=12&t&&i-r==0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=U(t)),r>1&&!n.firstMultiple?n.firstMultiple=U(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=t.center=z(i);t.timeStamp=d(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=Y(s,u),t.distance=$(s,u),function(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=V(t.deltaX,t.deltaY);var c,f,h=B(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=h.x,t.overallVelocityY=h.y,t.overallVelocity=l(h.x)>l(h.y)?h.x:h.y,t.scale=a?(c=a.pointers,$((f=i)[0],f[1],D)/$(c[0],c[1],D)):1,t.rotation=a?function(e,t){return Y(t[1],t[0],D)+Y(e[1],e[0],D)}(a.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,r,o,a=e.lastInterval||t,s=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(s>25||void 0===a.velocity)){var u=t.deltaX-a.deltaX,c=t.deltaY-a.deltaY,d=B(s,u,c);i=d.x,r=d.y,n=l(d.x)>l(d.y)?d.x:d.y,o=V(u,c),e.lastInterval=t}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=o}(n,t);var p=e.element;T(t.srcEvent.target,p)&&(p=t.srcEvent.target),t.target=p}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function U(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:c(e.pointers[n].clientX),clientY:c(e.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:t,center:z(t),deltaX:e.deltaX,deltaY:e.deltaY}}function z(e){var t=e.length;if(1===t)return{x:c(e[0].clientX),y:c(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:c(n/t),y:c(i/t)}}function B(e,t,n){return{x:t/e||0,y:n/e||0}}function V(e,t){return e===t?1:l(e)>=l(t)?e<0?2:4:t<0?8:16}function $(e,t,n){n||(n=N);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function Y(e,t,n){n||(n=N);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}F.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&A(this.element,this.evEl,this.domHandler),this.evTarget&&A(this.target,this.evTarget,this.domHandler),this.evWin&&A(C(this.element),this.evWin,this.domHandler)}};var G={mousedown:1,mousemove:2,mouseup:4};function X(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,F.apply(this,arguments)}b(X,F,{handler:function(e){var t=G[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var W={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Z={2:"touch",3:"pen",4:"mouse",5:"kinect"},q="pointerdown",K="pointermove pointerup pointercancel";function J(){this.evEl=q,this.evWin=K,F.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(q="MSPointerDown",K="MSPointerMove MSPointerUp MSPointerCancel"),b(J,F,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=W[i],o=Z[e.pointerType]||e.pointerType,a="touch"==o,s=P(t,e.pointerId,"pointerId");1&r&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&r&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var Q={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ee(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,F.apply(this,arguments)}function te(e,t){var n=x(e.touches),i=x(e.changedTouches);return 12&t&&(n=M(n.concat(i),"identifier",!0)),[n,i]}b(ee,F,{handler:function(e){var t=Q[e.type];if(1===t&&(this.started=!0),this.started){var n=te.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var ne={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ie(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},F.apply(this,arguments)}function re(e,t){var n=x(e.touches),i=this.targetIds;if(3&t&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=x(e.changedTouches),s=[],u=this.target;if(o=n.filter((function(e){return T(e.target,u)})),1===t)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),12&t&&delete i[a[r].identifier],r++;return s.length?[M(o.concat(s),"identifier",!0),s]:void 0}function oe(){F.apply(this,arguments);var e=y(this.handler,this);this.touch=new ie(this.manager,e),this.mouse=new X(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ae(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,se.call(this,t)):12&e&&se.call(this,t)}function se(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)}),2500)}}function ue(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),a=Math.abs(n-r.y);if(o<=25&&a<=25)return!0}return!1}b(ie,F,{handler:function(e){var t=ne[e.type],n=re.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}),b(oe,F,{handler:function(e,t,n){var i="touch"==n.pointerType,r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)ae.call(this,t,n);else if(r&&ue.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ce=k(u.style,"touchAction"),le=void 0!==ce,de=function(){if(!le)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||r.CSS.supports("touch-action",n)})),e}();function fe(e,t){this.manager=e,this.set(t)}function he(e){this.options=a({},this.defaults,e||{}),this.id=I++,this.manager=null,this.options.enable=w(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function pe(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function me(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function ve(e,t){var n=t.manager;return n?n.get(e):e}function ge(){he.apply(this,arguments)}function be(){ge.apply(this,arguments),this.pX=null,this.pY=null}function ye(){ge.apply(this,arguments)}function _e(){he.apply(this,arguments),this._timer=null,this._input=null}function we(){ge.apply(this,arguments)}function Ee(){ge.apply(this,arguments)}function Ae(){he.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Te(e,t){return(t=t||{}).recognizers=w(t.recognizers,Te.defaults.preset),new Oe(e,t)}function Oe(e,t){this.options=a({},Te.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new(this.options.inputClass||(L?J:j?ie:R?oe:X))(this,H),this.touchAction=new fe(this,this.options.touchAction),Se(this,!0),p(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Se(e,t){var n,i=e.element;i.style&&(p(e.options.cssProps,(function(r,o){n=k(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}fe.prototype={set:function(e){"compute"==e&&(e=this.compute()),le&&this.manager.element.style&&de[e]&&(this.manager.element.style[ce]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return p(this.manager.recognizers,(function(t){_(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(O(e,"none"))return"none";var t=O(e,"pan-x"),n=O(e,"pan-y");return t&&n?"none":t||n?t?"pan-x":"pan-y":O(e,"manipulation")?"manipulation":"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,r=O(i,"none")&&!de.none,o=O(i,"pan-y")&&!de["pan-y"],a=O(i,"pan-x")&&!de["pan-x"];if(r){var s=1===e.pointers.length,u=e.distance<2,c=e.deltaTime<250;if(s&&u&&c)return}if(!a||!o)return r||o&&6&n||a&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}},he.prototype={defaults:{},set:function(e){return a(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(h(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=ve(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return h(e,"dropRecognizeWith",this)||(e=ve(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(h(e,"requireFailure",this))return this;var t=this.requireFail;return-1===P(t,e=ve(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(h(e,"dropRequireFailure",this))return this;e=ve(e,this);var t=P(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+pe(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+pe(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=a({},e);if(!_(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},b(ge,he,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=6&t,r=this.attrTest(e);return i&&(8&n||!r)?16|t:i||r?4&n?8|t:2&t?4|t:2:32}}),b(be,ge,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,a=e.deltaY;return r&t.direction||(6&t.direction?(r=0===o?1:o<0?2:4,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===a?1:a<0?8:16,n=a!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return ge.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=me(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),b(ye,ge,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),b(_e,he,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!n||12&e.eventType&&!r)this.reset();else if(1&e.eventType)this.reset(),this._timer=f((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),b(we,ge,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),b(Ee,ge,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return be.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&l(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=me(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),b(Ae,he,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||$(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=f((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=f((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Te.VERSION="2.0.7",Te.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[we,{enable:!1}],[ye,{enable:!1},["rotate"]],[Ee,{direction:6}],[be,{direction:6},["swipe"]],[Ae],[Ae,{event:"doubletap",taps:2},["tap"]],[_e]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Oe.prototype={set:function(e){return a(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(r=t.curRecognizer=n),o++}},get:function(e){if(e instanceof he)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(h(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(h(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=P(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var n=this.handlers;return p(S(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(void 0!==e){var n=this.handlers;return p(S(e),(function(e){t?n[e]&&n[e].splice(P(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&Se(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(Te,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Oe,Input:F,TouchAction:fe,TouchInput:ie,MouseInput:X,PointerEventInput:J,TouchMouseInput:oe,SingleTouchInput:ee,Recognizer:he,AttrRecognizer:ge,Tap:Ae,Pan:be,Swipe:Ee,Pinch:ye,Rotate:we,Press:_e,on:E,off:A,each:p,merge:g,extend:v,assign:a,inherit:b,bindFn:y,prefixed:k}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Te,void 0===(i=function(){return Te}.call(t,n,t,e))||(e.exports=i)}(window,document)},function(e,t,n){var i=n(3),r=n(35);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){var i=n(2),r=n(1).checkConfigureOptions,o=n(0).expand;window.Module=o(window.Module||{},i.core||{}),"object"!=typeof Module.Tiramisu&&(Module.Tiramisu={});var a={toModule:function(){for(var e in Module.arguments=[],this)this.hasOwnProperty(e)&&"function"!=typeof this[e]&&(Module.arguments.push(e),Module.arguments.push(String(this[e])))},features:0};function s(e){this.name="TiramisuLoadingError",this.message=e||""}s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,e.exports={Arguments:a,load:function(e){try{var t=new window.XMLHttpRequest;t.overrideMimeType&&t.overrideMimeType("text/javascript");var n=e||(r(i.app.ENABLE_VRML_TEXT_NODE)?"Cortona3DSoloCoreText.js":"Cortona3DSoloCore.js");n=Module.locateFile(n),t.open("GET",n,!0),t.onerror=function(e){Module.onprogress&&Module.onprogress({loaded:0,total:-1,type:e.type}),i.emit("core.onError",new Error(n+" "+t.statusText))},t.onprogress=function(e){Module.onprogress&&Module.onprogress(e)},t.onload=function(e){if(Module.onprogress&&Module.onprogress({loaded:0,total:-1,type:e.type}),200===t.status||0===t.status){var r=document.createElement("script"),o=window.URL||window.webkitURL||window,a=o.createObjectURL(new Blob([t.response]));r.onload=function(){o.revokeObjectURL(a),i.emit("core.onLoad"),window.addEventListener("error",(function(e,t,n,r,o){t!=a&&e.filename!=a||i.emit("core.onError",o||e)}))},r.onerror=function(e){o.revokeObjectURL(a),i.emit("core.onError",new Error(n+" "+e))},r.src=a,document.body.appendChild(r)}else i.emit("core.onError",new Error(n+" "+t.statusText))},t.send(null)}catch(e){throw new s(e.message||e)}}}},function(e,t,n){var i=n(2),r=n(1).app,o=n(0),a=o.expand,s=o.isFunction,u=o.isNumber,c=i.app.util.b64toBlob,l=n(17);n(38),n(40);var d=!1;i.core=a(i.core||{},i.config||{});var f=i.core=a({printErr:function(e){e=l(Array.prototype.slice.call(arguments).join(" ")),console.error(e),i.core.lastErrorText=e},print:function(){text=l(Array.prototype.slice.call(arguments).join(" ")),console.log(text)},setStatus:function(e){},didChangeLayout:function(){if(d){var e=i.core.canvas,t=e.clientWidth,n=e.clientHeight;i.app.resize(t,n)}}},i.core);a(i.core,{onprogress:function(e){var t=e.lengthComputable||void 0===e.lengthComputable?e.total:0,n=e.loaded;i.dispatch("app.onProgress",n,t,e.type)},isRuntimeReady:function(){return d},onRuntimeInitialized:function(){d=!0,Object.defineProperty(Module,"runtimeReady",{get:function(){return d},enumerable:!0}),Object.defineProperty(Module,"canvas",{value:Module.canvas,writable:!1,enumerable:!0}),s(f.didChangeLayout)&&window.addEventListener("resize",(function(){i.dispatch("core.didChangeLayout")}),!1),r.ui&&r.ui.showCanvas(!1),i.emit("core.onRuntimeInitialized"),i.dispatch("app.onReady")}}),e.exports={configure:function(e){var t,o,s={};(e=e||{}).prefixURL&&(i.baseUrl=e.prefixURL),(t=e.element||e.canvas||(o=document.createElement("canvas"),n(14),document.body.insertBefore(o,document.body.firstChild),o)).classList.add("cortona3dsolo-canvas"),t.id||(t.id="canvas");var l=t.clientWidth,f=t.clientHeight;t.width=l,t.height=f;var h=n(15),p=h.Arguments;return p.canvas="#"+t.id,Module.canvas=t,Module.runtimeReady=d,function(e){(e=e||{}).features=e.features||0;var t,n,r=window.URL||window.webkitURL||window,o=e.src;if(!o)if(n=document.querySelector("script[type^='application/solo']")){if(e.totalMemory=+n.getAttribute("data-total-memory")||e.totalMemory||64,e.features=e.features|+n.getAttribute("data-features"),!(o=n.getAttribute("src")))return c(n.textContent,"application/zip").then((function(t){return e.src=r.createObjectURL(t),n.parentNode.removeChild(n),e}));e.src=o,n.parentNode.removeChild(n)}else(n=document.querySelector("script[type='model/vrml']"))&&((o=n.getAttribute("src"))?e.src=o:(0!==(t=n.textContent.replace(/^\s+/,"")).indexOf("#VRML V2.0 utf8")&&(t="#VRML V2.0 utf8\n"+t),e.isRAContent=/PROTO\s+ObjectVM/.test(t),e.isViewpointInScene=/Viewpoint\s*{/.test(t),e.isTextInScene=/Text\s*{/.test(t),e.src=r.createObjectURL(new Blob([t],{type:"model/vrml"}))),e.totalMemory=+n.getAttribute("data-total-memory")||e.totalMemory||64,e.features=e.features|+n.getAttribute("data-features"),e.isRAContent||(e.features|=+i.app.DISABLE_DISCARDABLE_GEOMETRY_DATA),e.isTextInScene&&(e.features|=+i.app.ENABLE_VRML_TEXT_NODE),n.parentNode.removeChild(n));return Promise.resolve(e)}(e).then((function(e){i.core.locateFile||(s.locateFile=function(e){return i.baseUrl+e}),u(e.totalMemory)&&(s.TOTAL_MEMORY=1024*e.totalMemory*1024),e.features&&r.configureInstance(e.features),a(i.core,s),e.src&&(p.document=i.app.util.toUrl(e.src)),e.features&&(p.features=32767&e.features),p.toModule(),h.load(e.coreURL)})).catch((function(e){i.emit("core.onError",e)})),Module}}},function(e,t){e.exports=function(e){return e.replace(/Tiramis.(\s+Emstrangen)?/g,"Cortona3D Solo Core")}},function(e,t,n){var i,r,o,a=n(2),s=Module.Tiramisu,u=n(1).app,c=n(1).checkConfigureOptions,l=n(0),d=l.expand,f=n(6).getBaseURL,h=n(17),p=n(11),m="ontouchstart"in window,v=m&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),g=", you must set ENABLE_GLES3 and DISABLE_ANTIALIASING_GLES3 flags before the library is initialized.",b=n(13),_=!1,w=.5,E=.95,A=!1,T=!1,O={};function S(){var e=PanelService.didDrawScene;"function"==typeof e&&(PanelService.didDrawScene=function(){a.dispatch("core.didDrawAnimationFrame"),e.call(PanelService)});var t=PanelService.willDrawScene;"function"==typeof t&&(PanelService.willDrawScene=function(){a.dispatch("core.willDrawAnimationFrame"),t.call(PanelService)}),Module.Stella&&(i={type:"generic"});var n="generic"===i.type;n||(u.pickerTransparencyThreshold=0),u.ui.showCanvas(n||u.getChildObjects().length>0),a.dispatch("core.didChangeLayout"),u.ui.setBannerImage(u.util.fetchBannerImage())}function P(e){var t=stackSave(),n=stackAlloc(68),i=n>>2,r=function(){var e=Module.canvas.getBoundingClientRect(),t=e.left;return y=e.top,container=Array.from(parent.document.querySelectorAll("iframe")).find((function(e){return e.contentDocument===document})),container&&(e=container.getBoundingClientRect(),t+=Math.round(e.left+container.clientLeft),y+=Math.round(e.top+container.clientLeft)),{x:t,y:y}}(),o="mouseup"===event.type?Module._tiramisu_mouseUp:Module._tiramisu_mouseDragged,a=Array.from(parent.document.querySelectorAll("iframe")).find((function(t){return t.contentDocument===e.view.document}));if(a){var s=a.getBoundingClientRect();r.x-=Math.round(s.left+a.clientLeft),r.y-=Math.round(s.top+a.clientTop)}setValue(n,e.timeStamp,"double"),HEAP32[i+2]=e.screenX,HEAP32[i+3]=e.screenY,HEAP32[i+4]=e.clientX,HEAP32[i+5]=e.clientY,HEAP32[i+6]=e.ctrlKey,HEAP32[i+7]=e.shiftKey,HEAP32[i+8]=e.altKey,HEAP32[i+9]=e.metaKey,HEAP16[2*i+20]=e.button,HEAP16[2*i+21]=e.buttons,HEAP32[i+11]=e.movementX,HEAP32[i+12]=e.movementY,HEAP32[i+13]=e.clientX-r.x,HEAP32[i+14]=e.clientY-r.y,o(n),stackRestore(t)}function x(e){if(!e)return[];var t,n,i=[];for(t=e>>2;n=HEAPU32[t];++t)i.push(n);return i}function M(e){return[getValue(e,"float"),getValue(e+4,"float"),getValue(e+8,"float")]}function k(e){var t=e>>2;return{coord:[HEAPF32[t],HEAPF32[t+1],HEAPF32[t+2]],normal:[HEAPF32[t+3],HEAPF32[t+4],HEAPF32[t+5]],sceneCoord:[HEAPF32[t+6],HEAPF32[t+7],HEAPF32[t+8]],sceneNormal:[HEAPF32[t+9],HEAPF32[t+10],HEAPF32[t+11]],chain:x(e+48)}}function I(e){var t,n,i=HEAPU32[e>>2],r=e+4,o=[];for(n=0;n<i;++n)t=k(r),o.push(t),r+=52+4*t.chain.length;return o}function C(e,t){var n=e>>2;HEAPF32[n]=t[0],HEAPF32[n+1]=t[1],HEAPF32[n+2]=t[2]}function R(e,t){var n=0,i=0,r=stackSave();if(t){"number"==typeof t&&(t=[t]),i=stackAlloc(4*t.length),n=t.length;for(var o=0;o<n;++o)setValue(i+4*o,t[o],"i32")}e.apply(null,[i,n].concat(Array.prototype.slice.call(arguments,2))),stackRestore(r)}d(s,{didFinishLoadDocument:function(e){i=e,function(){function e(e){e.stopPropagation()}function t(e){if(!_){var t=e.target,n=t.getBoundingClientRect(),i=e.clientX-n.left,r=e.clientY-n.top;a.dispatch("app.didCallContextMenu",i,r,t),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()}}function n(e){"mouse"!==e.pointerType&&t(e)}function i(e){var t=e.target.getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top,r=u.pickObject(n,i);clearTimeout(o),!r&&c(u.DISABLE_DISCARDABLE_GEOMETRY_DATA)&&(r=u.pickObjectChain(n,i))&&(r={handle:r.chain[r.chain.length-2]}),c(u.ENABLE_NAVIGATION_FIT_TO_OBJECT)&&(r?u.fitObjectsInView([r.handle],!0):u.fitSceneInView(!0)),a.dispatch("app.didDoubleClick",r&&r.handle,n,i,e),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()}Array.prototype.slice.call(document.getElementsByClassName("cortona3dsolo-popover")).forEach((function(t){t.addEventListener("contextmenu",(function(e){e.preventDefault()}),!1),t.addEventListener("pointerdown",e,!1),t.addEventListener("pointerup",e,!1)}));var r=function(){if("function"!=typeof window.MSGesture)return!1;var e=Module.canvas,t=new MSGesture;function n(e){!function(e,t,n,i,r){Module._tiramisu_microsoftGesture(e,t,n,i,r)}(e.translationX,e.translationY,e.scale,e.rotation,e.detail)}function i(e,t,n){return Module._tiramisu_microsoftPointerUp(e,t,n)}return t.target=e,e.addEventListener("MSHoldVisual",(function(e){e.preventDefault()}),!1),e.addEventListener("MSGestureStart",n,!1),e.addEventListener("MSGestureEnd",n,!1),e.addEventListener("MSGestureChange",n,!1),e.addEventListener("MSInertiaStart",n,!1),e.addEventListener("MSGestureTap",n,!1),e.addEventListener("MSGestureHold",n,!1),e.addEventListener("pointerdown",(function(n){var i,r,o;"mouse"!=n.pointerType?(i=n.pointerId,r=n.offsetX,o=n.offsetY,Module._tiramisu_microsoftPointerDown(i,r,o)&&(e.setPointerCapture(n.pointerId),t.target||(t.target=e),t.addPointer(n.pointerId))):e.setPointerCapture(n.pointerId)}),!1),e.addEventListener("pointerup",(function(e){"mouse"!=e.pointerType&&(e.stopPropagation(),i(e.pointerId,e.offsetX,e.offsetY))}),!1),window.addEventListener("pointerup",(function(t){if("mouse"!=t.pointerType){var n=e.getBoundingClientRect(),r=n.left+window.pageXOffset-document.body.clientLeft,o=n.top+window.pageYOffset-document.body.clientTop;i(t.pointerId,t.pageX-r,t.pageY-o)}}),!1),!0}();Module.canvas.addEventListener("contextmenu",t),Module.canvas.addEventListener("pointerdown",(function(){document.activeElement&&document.activeElement.blur&&document.activeElement.blur()})),Module.canvas.addEventListener("click",(function(e){if(c(u.ENABLE_NAVIGATION_FIT_TO_OBJECT)){var t=+(e.shiftKey&&1)|+(e.ctrlKey&&2)|+(e.altKey&&4);if(4&t){var n=(e.target||e.srcElement).getBoundingClientRect(),i=e.clientX-n.left,r=e.clientY-n.top,a=u.pickObject(i,r);if((!a||!(2&t))&&c(u.DISABLE_DISCARDABLE_GEOMETRY_DATA)&&(a=u.pickObjectChain(i,r))){if(!(2&t)){var s=a.sceneCoord[0],l=a.sceneCoord[1],d=a.sceneCoord[2];return clearTimeout(o),o=setTimeout((function(){u.setRotationCenterToPoint(s,l,d),u.centerRotationCenterInView(!0)}),100),e.preventDefault(),void e.stopPropagation()}a={handle:a.chain[a.chain.length-2]}}if(a){var f=a.handle;clearTimeout(o),o=setTimeout((function(){u.setRotationCenterToObjects(f),u.centerRotationCenterInView(!0)}),100),e.preventDefault(),e.stopPropagation()}}}}),!1);var s=0,l={};if(r)Module.canvas.addEventListener("dblclick",i),Module.canvas.addEventListener("MSGestureTap",(function(e){var t,n;e.detail===e.MSGESTURE_FLAG_BEGIN+e.MSGESTURE_FLAG_END&&(s?(new Date).valueOf()-s<=250?(s=0,t=l,n={x:e.screenX,y:e.screenY},Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y))<100&&i(e)):s=0:(s=(new Date).valueOf(),l.x=e.screenX,l.y=e.screenY))})),Module.canvas.addEventListener("MSGestureHold",(function(e){e.detail&e.MSGESTURE_FLAG_BEGIN?(n(e),_=!0):e.detail&e.MSGESTURE_FLAG_END&&setTimeout((function(){_=!1}),250)}));else{var d={};!1===navigator.pointerEnabled&&(d.inputClass=v?b.TouchInput:m?b.TouchMouseInput:b.MouseInput);var f=new b.Manager(Module.canvas,d),h=new b.Press({time:750}),p=new b.Tap({event:"doubletap",taps:2,threshold:5,posThreshold:100,interval:250});p.recognizeWith(h),h.requireFailure(p),f.add(h),f.add(p),f.set({touchAction:"none"}),f.on("press",(function(e){n(e.srcEvent),_=!0})),f.on("pressup",(function(){setTimeout((function(){_=!1}),250)})),f.on("doubletap",(function(e){i(e.srcEvent)}))}}(),e.baseURL="",e.bundleURL||(e.baseURL=f(e.companionFile||n(1).getDocumentURL())),"Yes"===u.getOption("keep3DStructure")&&(u.recursiveObjectLookup=!0),"Yes"===u.getOption("KeepSurfaceEdges")&&(u.edgeColorWeights=[1,0,0]),function(e){var t=e.companionFile,n=!c(u.DISABLE_INTERACTIVITY_XML_EMISSION);if(n=(n=n&&!!t)&&("ipc"==e.type||"procedure"==e.type)){var i=u.util.createResourceURL(t)||t;if(i)return u.loadCompanionFile(i).then((function(e){if(e&&e.type){var t={};t[e.type]={interactivity:e.interactivity},d(u,t)}}))}return Promise.resolve()}(e).then((function(){e.type,A=!0,a.dispatch("app.didFinishLoadDocument",e),a.dispatch("app.didAttachDocument",e),T&&(S(),setTimeout((function(){a.dispatch("app.firstFrameDidArrive")}),0))})).catch((function(e){a.dispatch("app.didFailLoadDocument",e),console.error(e)}))},firstFrameDidArrive:function(e){T=!0,(A||Module.Stella)&&(S(),a.dispatch("app.firstFrameDidArrive",e))},didFailLoadDocument:function(e){a.dispatch("app.didFailLoadDocument",h(e))},didClickHyperlink:function(e){a.dispatch("app.didClickHyperlink",e)},willStartNavigateInScene:function(){a.dispatch("app.willStartNavigateInScene")},acquireMouseInput:function(){parent&&(r=[],parent.document.querySelectorAll("iframe").forEach((function(e){var t=e.contentDocument===document?parent.window:e.contentWindow;t.addEventListener("mousemove",P),t.addEventListener("mouseup",P),r.push(t)})))},unacquireMouseInput:function(){r&&(r.forEach((function(e){e.removeEventListener("mousemove",P),e.removeEventListener("mouseup",P)})),r=null)}}),d(s,{util:{wrapStringArray:function(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=UTF8ToString(getValue(e+4*i,"i32"));return n},wrapSheetArray:function(e,t){if(!t)return[];for(var n=new Array(t),i=0;i<t;++i,e+=12)n[i]={id:UTF8ToString(getValue(e,"i32")),description:UTF8ToString(getValue(e+4,"i32")),indentationLevel:getValue(e+8,"i32")};return n}}});var L={version:function(){var e=s.VERSION>>24,t=s.VERSION>>16&255,n=65535&s.VERSION;return new Date(1e3*s.BUILD_TIME),"2.1.0 (core: "+[e,t,n].join(".")+")"},resize:function(e,t){i&&Module._tiramisu_resize(e,t)},getObjectName:function(e){return Module.ccall("tiramisu_getObjectName","string",["number"],arguments)},getObjectTypeName:function(e){return Module.ccall("tiramisu_getObjectTypeName","string",["number"],arguments)},getObjectWithName:function(e){return Module.ccall("tiramisu_getObjectWithName","number",["string"],arguments)},isObjectIgnorableByPicker:function(e){return 0!==Module._tiramisu_isObjectIgnorableByPicker(e)},setObjectIgnorableByPicker:function(e,t){Module._tiramisu_setObjectIgnorableByPicker(e,t)},pickObject:function(e,t,n){var i=void 0===n?0:n?512:256;return node=Module._tiramisu_pickObject(e,t,i),node?{handle:node,name:Module.ccall("tiramisu_getObjectName","string",["number"],[node])}:null},pickObjectChain:function(e,t,n){var i=Module._tiramisu_pickObjectChain(e,t,n||0);if(!i)return null;var r=k(i);return Module._free(i),r},pickObjectChainWithRay:function(e,t){var n=stackSave(),i=stackAlloc(24);C(i,e.origin),C(i+12,e.direction);var r=Module._tiramisu_pickObjectChainWithRay(i,t||0);if(stackRestore(n),!r)return null;var o=k(r);return Module._free(r),o},pickAllObjectChains:function(e,t,n){var i=Module._tiramisu_pickAllObjectChains(e,t,n||0);if(!i)return null;var r=I(i);return Module._free(i),r},pickAllObjectChainsWithRay:function(e,t){var n=stackSave(),i=stackAlloc(24);C(i,e.origin),C(i+12,e.direction);var r=Module._tiramisu_pickAllObjectChainsWithRay(i,t||0);if(stackRestore(n),!r)return null;var o=I(r);return Module._free(r),o},getPickerTransparencyThreshold:function(){var e=Module._tiramisu_getPickerTransparencyThreshold();return e<0&&(e=-1),e>=0&&e<=11755e-42?0:e},setPickerTransparencyThreshold:function(e){return Module._tiramisu_setPickerTransparencyThreshold(e||11755e-42)},addSelectedObjects:function(e,t){R(Module._tiramisu_addSelectedObjects,e,t),a.dispatch("app.didChangeSelectedObjects")},setSelectedObjects:function(e,t){R(Module._tiramisu_setSelectedObjects,e,t),a.dispatch("app.didChangeSelectedObjects")},removeSelectedObjects:function(e,t){R(Module._tiramisu_removeSelectedObjects,e,t),a.dispatch("app.didChangeSelectedObjects")},getSelectedObjects:function(){var e=Module._tiramisu_getSelectedObjects(),t=x(e);return Module._free(e),t},addHoveredObjects:function(e,t){R(Module._tiramisu_addHoveredObjects,e,t),a.dispatch("app.didChangeHoveredObjects")},setHoveredObjects:function(e,t){R(Module._tiramisu_setHoveredObjects,e,t),a.dispatch("app.didChangeHoveredObjects")},removeHoveredObjects:function(e,t){R(Module._tiramisu_removeHoveredObjects,e,t),a.dispatch("app.didChangeHoveredObjects")},getHoveredObjects:function(){var e=Module._tiramisu_getHoveredObjects(),t=x(e);return Module._free(e),t},setDefaultBackgroundColors:function(e){var t,n=0,i=0,r=stackSave();if(e)for("string"==typeof e&&(e=[e]),n=e.length,i=stackAlloc(4*n),t=0;t<n;++t)setValue(i+4*t,p(e[t]).toValue(),"i32");Module._tiramisu_setDefaultBackgroundColors(i,n),stackRestore(r)},setMouseDragMode:function(e){Module._tiramisu_setMouseDragMode(e)},setObjectPropertyf:function(e,t,n,r,o,a,s){if(t===u.PROPERTY_VISIBILITY&&"generic"===i.type){var c=0!==Module._tiramisu_isObjectVisibile(e),l=!!r;return e in O||(O[e]=c),c!==l&&(Module._tiramisu_setObjectVisibility(e,l),!0)}return 0!==Module._tiramisu_setObjectPropertyf(e,t,n,r,o,a,s)},getObjectPropertyf:function(e,t){var n=stackSave(),i=stackAlloc(16),r=function(e,t){if(!e)return null;switch(t){case 0:return null;case 1:return getValue(e,"float");case 2:return r=e,[getValue(r,"float"),getValue(r+4,"float")];case 3:return M(e);case 4:return function(e){return[getValue(e,"float"),getValue(e+4,"float"),getValue(e+8,"float"),getValue(e+12,"float")]}(e);default:for(var n=new Array(t),i=0;i<t;i++)n[i]=getValue(e+4*i,"float");return n}var r}(i,Module._tiramisu_getObjectPropertyf(e,t,i));return stackRestore(n),r},restoreObjectProperty:function(e,t,n){if(t===u.PROPERTY_VISIBILITY&&"generic"===i.type){if(e){if(e in O){var r=0!==Module._tiramisu_isObjectVisibile(e),o=O[e];if(delete O[e],r!==o)return Module._tiramisu_setObjectVisibility(e,o),!0}return!1}for(var a in O)Module._tiramisu_setObjectVisibility(a,O[a]);O={}}return 0!==Module._tiramisu_restoreObjectProperty(e||0,t,n)},getObjectsWithDirtyProperty:function(e){if(e===u.PROPERTY_VISIBILITY&&"generic"===i.type){var t=[];for(var n in O)t.push(n);return t}var r=Module._tiramisu_getObjectsWithDirtyProperty(e),o=x(r);return Module._free(r),o},getObjectHighlightParams:function(e){var t=Module._tiramisu_getObjectHighlightParams(e)>>2;return t?{diffuseColor:p([HEAPF32[t],HEAPF32[t+1],HEAPF32[t+2]]).toString(),diffuseBrightnessDelta:HEAPF32[t+3],emissiveColor:p([HEAPF32[t+4],HEAPF32[t+5],HEAPF32[t+6]]).toString(),emissiveBrightnessDelta:HEAPF32[t+7]}:null},setObjectHighlightParams:function(e,t){if(t){var n=stackSave(),i=stackAlloc(32),r=i>>2;o(0,p(t.diffuseColor).toArray(),t.diffuseBrightnessDelta),o(4,p(t.emissiveColor).toArray(),t.emissiveBrightnessDelta),Module._tiramisu_setObjectHighlightParams(e,i),stackRestore(n)}else Module._tiramisu_setObjectHighlightParams(e,0);function o(e,t,n){t&&t.length>2?(HEAPF32[r+e]=t[0],HEAPF32[r+e+1]=t[1],HEAPF32[r+e+2]=t[2],HEAPF32[r+e+3]=void 0!==n?n:0):(HEAPF32[r+e]=0,HEAPF32[r+e+1]=0,HEAPF32[r+e+2]=0,HEAPF32[r+e+3]=void 0!==n?n:1)}},isRotationCenterVisible:function(){return 0!==_tiramisu_isRotationCenterVisible()},setRotationCenterVisibility:function(e){Module._tiramisu_setRotationCenterVisibility(e)},setDefaultView:function(e){Module._tiramisu_setDefaultView(e)},alignHorizon:function(e){Module._tiramisu_alignHorizon(e)},jumpToStandardView:function(e,t,n){Module.ccall("tiramisu_jumpToStandardView","null",["string","number","number"],[e,t,n||E])},fitSceneInView:function(e,t){Module._tiramisu_fitObjectsInView(0,-1,e,t||E)},fitSelectedObjectsInView:function(e,t){Module._tiramisu_fitObjectsInView(0,-2,e,t||w)},fitObjectsInView:function(e,t,n){var i=(Array.isArray(e)?e:[e]).filter((function(e){return u.getObjectVisibility(e)===u.OBJECT_VISIBILITY_VISIBLE}));R(Module._tiramisu_fitObjectsInView,i,t,n||w)},setRotationCenterToScene:function(){Module._tiramisu_setRotationCenterToObjects(0,-1,0)},setRotationCenterToSelectedObjects:function(){Module._tiramisu_setRotationCenterToObjects(0,-2,0)},setRotationCenterToObjects:function(e,t){R(Module._tiramisu_setRotationCenterToObjects,e,0),t&&Module._tiramisu_centerRotationCenterInView(t)},setRotationCenterToPoint:function(e,t,n){Module._tiramisu_setRotationCenterToPoint(e,t,n)},centerRotationCenterInView:function(e){Module._tiramisu_centerRotationCenterInView(e)},resetRotationCenter:function(){Module._tiramisu_resetRotationCenter()},getDocumentInfo:function(){return i&&d({},i)},getOptions:function(){var e,t,n=Module._tiramisu_getOptions(),i=0;if(n){for(e={},i=0;t=getValue(n+i,"i32");i+=8)e[UTF8ToString(t)]=UTF8ToString(getValue(n+i+4,"i32"));return Module._free(n),e}},getOption:function(e){var t=Module.ccall("tiramisu_getOption","number",["string"],[e]);if(t)return UTF8ToString(t)},setObjectName:function(e,t){Module.ccall("tiramisu_setObjectName","null",["number","string"],arguments)},getHoverColor:function(){return p(Module._tiramisu_getHoverColor()).toString()},setHoverColor:function(e){return Module._tiramisu_setHoverColor(p(e).toValue())},getSelectionColor:function(){return p(Module._tiramisu_getSelectionColor()).toString()},setSelectionColor:function(e){return Module._tiramisu_setSelectionColor(p(e).toValue())},getViewpoints:function(){var e,t,n=Module._tiramisu_getViewpoints(),i=[];if(n){for(t=0;e=getValue(n+t,"i32");t+=12)i.push({handle:e,name:UTF8ToString(getValue(n+t+4,"i32")),description:UTF8ToString(getValue(n+t+8,"i32"))});Module._free(n)}return i},getActiveViewpoint:function(){return Module._tiramisu_getActiveViewpoint()},setActiveViewpoint:function(e){Module._tiramisu_setActiveViewpoint(e)},addObjects:function(e,t){(l.isUndefined(e)?[]:Array.isArray(e)?e:[e]).forEach((function(e){Module._tiramisu_addObject(e,t)}))},removeObjects:function(e,t){(l.isUndefined(e)?[]:Array.isArray(e)?e:[e]).forEach((function(e){Module._tiramisu_removeObject(e,t)}))},removeAllObjects:function(e){Module._tiramisu_removeAllObjects(e)},getChildObjects:function(e){var t=Module._tiramisu_getChildObjects(e),n=x(t);return Module._free(t),n},setChildObjects:function(e,t){var n,i=0,r=stackSave();if(e){"number"==typeof e&&(e=[e]),objectArray=stackAlloc(4*e.length),i=e.length;for(var o=0;o<i;++o)setValue(objectArray+4*o,e[o],"i32")}return n=0!==Module._tiramisu_setChildObjects(t,objectArray,i),stackRestore(r),n},getParentObject:function(e){return Module._tiramisu_getParentObject(e)},getObjectVisibility:function(e,t){return Module._tiramisu_getObjectVisibility(e,t)},getObjectFlags:function(e){return Module._tiramisu_getObjectFlags(e)},getObjectBoundingBox:function(e,t){var n=stackSave(),i=stackAlloc(24),r=Module._tiramisu_getObjectBoundingBox(e,t,i)?{center:M(i),size:M(i+12)}:null;return stackRestore(n),r},createObjectsFromString:function(e,t){var n=Module.ccall("tiramisu_createObjects","number",["string","number","string"],[e,0,t||null]),i=x(n);return n?Module._free(n):Module.printErr('createObjectsFromString() failed: "'+e+'"'),i},createObjectsFromURL:function(e){return l.loadResource(e,"","arraybuffer").then((function(t){var n,i,r,o=t.response;return o&&(n=new Uint8Array(o),i=Module._malloc(n.byteLength),writeArrayToMemory(n,i),r=Module.ccall("tiramisu_createObjects","number",["number","number","string"],[i,n.byteLength,e]),handles=x(r),Module._free(i),r)?(Module._free(r),Promise.resolve(handles)):Promise.reject(new Error('createObjectsFromURL() failed: "'+e+'"'))}))},createObjectsFromDocumentBundle:function(e){var t=Module.ccall("tiramisu_createObjectsFromBundleItem","number",["string"],[e]),n=x(t);return t?Module._free(t):Module.printErr('createObjectsFromDocumentBundle() failed: "'+e+'"'),n},getCameraProperties:function(e){var t,n=stackSave(),i=stackAlloc(48),r=i>>2;return e?(t=0,e.hasOwnProperty("location")&&(t|=1),e.hasOwnProperty("orientation")&&(t|=2),e.hasOwnProperty("scalarParam")&&(t|=4),e.hasOwnProperty("rotationCenter")&&(t|=8)):(t=15,e={}),HEAPU32[r]=t,Module._tiramisu_getCameraProperties(i),1&t&&(e.location=[HEAPF32[r+1],HEAPF32[r+2],HEAPF32[r+3]]),2&t&&(e.orientation=[HEAPF32[r+4],HEAPF32[r+5],HEAPF32[r+6],HEAPF32[r+7]]),4&t&&(e.scalarParam=HEAPF32[r+8]),8&t&&(e.rotationCenter=[HEAPF32[r+9],HEAPF32[r+10],HEAPF32[r+11]]),stackRestore(n),e},setCameraProperties:function(e,t){var n=stackSave(),i=stackAlloc(48),r=i>>2,o=0;e.location&&(o|=1,HEAPF32[r+1]=e.location[0],HEAPF32[r+2]=e.location[1],HEAPF32[r+3]=e.location[2]),e.orientation&&(o|=2,HEAPF32[r+4]=e.orientation[0],HEAPF32[r+5]=e.orientation[1],HEAPF32[r+6]=e.orientation[2],HEAPF32[r+7]=e.orientation[3]),e.scalarParam&&e.scalarParam>0&&(o|=4,HEAPF32[r+8]=e.scalarParam),e.rotationCenter&&(o|=8,HEAPF32[r+9]=e.rotationCenter[0],HEAPF32[r+10]=e.rotationCenter[1],HEAPF32[r+11]=e.rotationCenter[2]),HEAPU32[r]=o,Module._tiramisu_setCameraProperties(i,t),stackRestore(n)},project:function(e){var t=stackSave(),n=stackAlloc(20),i=n>>2,r=null;return HEAPF32[i]=e[0],HEAPF32[i+1]=e[1],HEAPF32[i+2]=e[2],Module._tiramisu_project(n,n+12)&&(r=[Math.round(HEAPF32[i+3]),Math.round(HEAPF32[i+4])]),stackRestore(t),r},unproject:function(e,t){var n=stackSave(),i=stackAlloc(20),r=i>>2,o=null;return HEAPF32[r]=e[0],HEAPF32[r+1]=e[1],Module._tiramisu_unproject(i,t,i+8)&&(o=[HEAPF32[r+2],HEAPF32[r+3],HEAPF32[r+4]]),stackRestore(n),o},setObjectsTransparency:function(e,t,n){(l.isUndefined(e)?[]:Array.isArray(e)?e:[e]).forEach((function(e){u.setObjectPropertyf(e,u.PROPERTY_TRANSPARENCY,n,t)}))},getObjectsTransparency:function(e){return(l.isUndefined(e)?[]:Array.isArray(e)?e:[e]).reduce((function(e,t){return Math.max(u.getObjectPropertyf(t,u.PROPERTY_TRANSPARENCY),e)}),0)},toggleObjectsVisibility:function(e,t){var n=l.isUndefined(e)?[]:Array.isArray(e)?e:[e],i=!t;return void 0===t&&(i=!n.some((function(e){return!!u.getObjectVisibility(e)}))),n.forEach((function(e){i?u.setObjectPropertyf(e,u.PROPERTY_VISIBILITY,!1,-1):u.restoreObjectProperty(e,u.PROPERTY_VISIBILITY,!1)})),!i},navigate:function(e,t,n){return Module._tiramisu_navigate(e,t,n)},makeSnapshot:function(e,t,n,i,r){var o=i;Array.isArray(i)||(o={front:[0,1,0,Math.PI],back:[0,1,0,0],left:[0,-1,0,Math.PI/2],right:[0,1,0,Math.PI/2],top:[1,0,0,-Math.PI/2],bottom:[0,.707107,-.707107,Math.PI],isometric:[-.156558,-.912487,-337964,2.41886]}[i]);var a=stackSave(),s=o?stackAlloc(16):0,u=stackAlloc(4*e.length),c=u>>2;e.forEach((function(e){var t=lengthBytesUTF8(e)+1,n=stackAlloc(t);stringToUTF8Array(e,HEAP8,n,t),HEAP32[c]=n,++c})),s&&(c=s>>2,HEAPF32[c]=o[0],HEAPF32[c+1]=o[1],HEAPF32[c+2]=o[2],HEAPF32[c+3]=o[3]);var l=Module._tiramisu_makeSnapshot(u,e.length,t,n,s,r||0);if(stackRestore(a),!l)return null;t=HEAP32[l>>2],n=HEAP32[1+(l>>2)];var d=document.createElement("canvas"),f=d.getContext("2d"),h=f.createImageData(t,n);return h.data.set(HEAPU8.subarray(l+8,l+8+t*n*4)),d.width=t,d.height=n,f.putImageData(h,0,0),Module._free(l),d.toDataURL()},queryObjectOcclusion:function(e){var t,n=Module._tiramisu_queryObjectOcclusion(e),i=Object.create(null);if(n)for(t=n>>2;HEAPU32[t];t+=2)i[HEAPU32[t]]=HEAPU32[t+1];return Module._free(n),i}};Object.defineProperties(u,{globalEdgeColor:{get:function(){return p(Module._tiramisu_getGlobalEdgeColor()).toString()},set:function(e){Module._tiramisu_setGlobalEdgeColor(p(e).toValue())},enumerable:!0},edgeColorWeights:{get:function(){return M(Module._tiramisu_getEdgeColorWeights())},set:function(e){var t,n=stackSave(),i=stackAlloc(12);for(t=0;t<3;++t)setValue(i+4*t,e[t],"float");Module._tiramisu_setEdgeColorWeights(i),stackRestore(n)},enumerable:!0},ambientOcclusion:{get:function(){return!!Module._tiramisu_isAmbientOcclusionEnabled()},set:function(e){e&&!c(u.ENABLE_GLES3+u.DISABLE_ANTIALIASING_GLES3)&&console.info("To use the ambient occlusion"+g),Module._tiramisu_enableAmbientOcclusion(e)},enumerable:!0},selectionMode:{get:function(){return Module._tiramisu_getSelectionMode()},set:function(e){var t=+e||0;2!==t||c(u.ENABLE_GLES3+u.DISABLE_ANTIALIASING_GLES3)?Module._tiramisu_setSelectionMode(t):console.info('To use the "translucent shell" object selection mode'+g)},enumerable:!0},outlineHoveredObjects:{get:function(){return!!Module._tiramisu_isOutlineHoveredObjectsEnabled()},set:function(e){Module._tiramisu_enableOutlineHoveredObjects(e)},enumerable:!0},ambientOcclusionParams:{get:function(){var e=Module._tiramisu_getAmbientOcclusionParams()>>2;return{kernelSize:HEAP32[e],radius:HEAPF32[e+1],intensity:HEAPF32[e+2]}},set:function(e){var t=Module._tiramisu_getAmbientOcclusionParams()>>2,n=stackSave(),i=stackAlloc(12),r=i>>2;HEAP32[r]=e.kernelSize?e.kernelSize:HEAP32[t],HEAPF32[r+1]=e.radius?e.radius:HEAPF32[t+1],HEAPF32[r+2]=e.intensity?e.intensity:HEAPF32[t+2],Module._tiramisu_setAmbientOcclusionParams(i),stackRestore(n)}},lightingConfig:{get:function(){var e,t=Module._tiramisu_getLightingConfig(0,0),n=stackSave(),i=stackAlloc(32*t),r=i>>2,o=[];for(t=Module._tiramisu_getLightingConfig(i,t),e=0;e<t;++e)o.push({color:p([HEAPF32[r+0],HEAPF32[r+1],HEAPF32[r+2]]).toString(),direction:[HEAPF32[r+3],HEAPF32[r+4],HEAPF32[r+5]],intensity:HEAPF32[r+6],ambientIntensity:HEAPF32[r+7]}),r+=8;return stackRestore(n),o},set:function(e){var t,n,i,r=stackSave(),o=stackAlloc(32*e.length),a=o>>2;for(t=0;t<e.length;++t)i=void 0!==(n=e[t]).color?p(n.color).toArray():[1,1,1],HEAPF32[a]=i[0],HEAPF32[a+1]=i[1],HEAPF32[a+2]=i[2],HEAPF32[a+3]=n.direction?n.direction[0]:0,HEAPF32[a+4]=n.direction?n.direction[1]:0,HEAPF32[a+5]=n.direction?n.direction[2]:-1,HEAPF32[a+6]=n.intensity?n.intensity:1,HEAPF32[a+7]=n.ambientIntensity?n.ambientIntensity:0,a+=8;Module._tiramisu_setLightingConfig(o,e.length),stackRestore(r)}},outlineParams:{get:function(){var e=Module._tiramisu_getOutlineParams()>>2;return{visibleEdgeColor:[HEAPF32[e],HEAPF32[e+1],HEAPF32[e+2],HEAPF32[e+3]],invisibleEdgeColor:[HEAPF32[e+4],HEAPF32[e+5],HEAPF32[e+6],HEAPF32[e+7]],invisibleFillColor:[HEAPF32[e+8],HEAPF32[e+9],HEAPF32[e+10],HEAPF32[e+11]],size:HEAP32[e+12]}},set:function(e){var t=Module._tiramisu_getOutlineParams()>>2,n=stackSave(),i=stackAlloc(52),r=i>>2;function o(e,n){n&&n.length>3?(HEAPF32[r+e]=n[0],HEAPF32[r+e+1]=n[1],HEAPF32[r+e+2]=n[2],HEAPF32[r+e+3]=n[3]):(HEAPF32[r+e]=HEAPF32[t+e],HEAPF32[r+e+1]=HEAPF32[t+e+1],HEAPF32[r+e+2]=HEAPF32[t+e+2],HEAPF32[r+e+3]=HEAPF32[t+e+3])}o(0,e.visibleEdgeColor),o(4,e.invisibleEdgeColor),o(8,e.invisibleFillColor),HEAP32[r+12]=e.size?e.size:HEAP32[t+12],Module._tiramisu_setOutlineParams(i),stackRestore(n)}},antialiasing:{get:function(){var e=c(u.ENABLE_GLES3);return e&&c(u.DISABLE_ANTIALIASING_GLES3)?!!Module._tiramisu_isAntialiasingEnabled():!e},set:function(e){c(u.ENABLE_GLES3+u.DISABLE_ANTIALIASING_GLES3)||console.info("To use FXAA anti-aliasing"+g),Module._tiramisu_enableAntialiasing(e)},enumerable:!0},ambientOcclusionSupported:{get:function(){return!!Module._tiramisu_isAmbientOcclusionSupported()},enumerable:!0},hoverColor:{get:function(){return p(Module._tiramisu_getHoverColor()).toString()},set:function(e){Module._tiramisu_setHoverColor(p(e).toValue())},enumerable:!0},selectionColor:{get:function(){return p(Module._tiramisu_getSelectionColor()).toString()},set:function(e){Module._tiramisu_setSelectionColor(p(e).toValue())},enumerable:!0},pickerTransparencyThreshold:{get:function(){return value=Module._tiramisu_getPickerTransparencyThreshold(),value<0&&(value=-1),value>=0&&value<=11755e-42?0:value},set:function(e){Module._tiramisu_setPickerTransparencyThreshold(e||11755e-42)},enumerable:!0},modelInfo:{get:function(){return i&&d({},i)},enumerable:!0},activeViewpoint:{get:function(){return Module._tiramisu_getActiveViewpoint()},set:function(e){Module._tiramisu_setActiveViewpoint(e)},enumerable:!0},recursiveObjectLookup:{get:function(){return!!Module._tiramisu_isRecursiveObjectLookupEnabled()},set:function(e){Module._tiramisu_enableRecursiveObjectLookup(e)},enumerable:!0},coordinateAxesVisible:{get:function(){return!!Module._tiramisu_isCoordinateAxesVisible()},set:function(e){Module._tiramisu_setCoordinateAxesVisibility(e)},enumerable:!0},rotationCenterVisible:{get:function(){return!!Module._tiramisu_isRotationCenterVisible()},set:function(e){Module._tiramisu_setRotationCenterVisibility(e)},enumerable:!0},navigatorOptions:{get:function(){var e=Module._tiramisu_getNavigatorOptions();return c(u.DISABLE_DISCARDABLE_GEOMETRY_DATA)||(e&=~(u.AUTOMATIC_ZOOM_ANCHOR+u.AUTOMATIC_SPIN_CENTER)),e},set:function(e){Module._tiramisu_setNavigatorOptions(e)},enumerable:!0},defaultFitFactorObject:{get:function(){return w},set:function(e){w=e},enumerable:!0},defaultFitFactorScene:{get:function(){return E},set:function(e){E=e},enumerable:!0}}),Object.defineProperty(u,"MOUSE_DRAG_MODE_SPIN",{value:0,writable:!1}),Object.defineProperty(u,"MOUSE_DRAG_MODE_PAN",{value:1,writable:!1}),Object.defineProperty(u,"MOUSE_DRAG_MODE_ZOOM",{value:2,writable:!1}),Object.defineProperty(u,"MOUSE_DRAG_MODE_DEFAULT",{value:0,writable:!1}),Object.defineProperty(u,"PROPERTY_DIFFUSE_COLOR",{value:0,writable:!1}),Object.defineProperty(u,"PROPERTY_EMISSIVE_COLOR",{value:1,writable:!1}),Object.defineProperty(u,"PROPERTY_TRANSPARENCY",{value:2,writable:!1}),Object.defineProperty(u,"PROPERTY_VISIBILITY",{value:3,writable:!1}),Object.defineProperty(u,"PROPERTY_TRANSLATION",{value:4,writable:!1}),Object.defineProperty(u,"PROPERTY_ROTATION",{value:5,writable:!1}),Object.defineProperty(u,"PROPERTY_SCALE",{value:6,writable:!1}),Object.defineProperty(u,"MR_PARTNUMBER",{value:1,writable:!1}),Object.defineProperty(u,"MR_PARTDESC",{value:2,writable:!1}),Object.defineProperty(u,"MR_ITEM",{value:3,writable:!1}),Object.defineProperty(u,"MR_ITEMVAR",{value:4,writable:!1}),Object.defineProperty(u,"MR_INDENT",{value:5,writable:!1}),Object.defineProperty(u,"MR_UPA",{value:6,writable:!1}),Object.defineProperty(u,"MR_TOTALQTY",{value:7,writable:!1}),Object.defineProperty(u,"OBJECT_VISIBILITY_VISIBLE",{value:0,writable:!1}),Object.defineProperty(u,"OBJECT_VISIBILITY_HIDDEN",{value:1,writable:!1}),Object.defineProperty(u,"OBJECT_VISIBILITY_TRANSPARENT",{value:2,writable:!1}),Object.defineProperty(u,"OBJECT_VISIBILITY_IMPLICITLY_HIDDEN",{value:3,writable:!1}),Object.defineProperty(u,"NAVIGATOR_ACTION_SPIN",{value:0,writable:!1}),Object.defineProperty(u,"NAVIGATOR_ACTION_PAN",{value:1,writable:!1}),Object.defineProperty(u,"NAVIGATOR_ACTION_ZOOM",{value:2,writable:!1}),Object.defineProperty(u,"NAVIGATOR_ACTION_ROTATE",{value:3,writable:!1}),Object.defineProperty(u,"AUTOMATIC_ZOOM_ANCHOR",{value:1,writable:!1}),Object.defineProperty(u,"AUTOMATIC_SPIN_CENTER",{value:2,writable:!1}),Object.defineProperty(u,"DISABLE_ZOOM_SCALE_LIMITS",{value:4,writable:!1}),Object.defineProperty(u,"OBJECT_BOUNDING_BOX_LOCAL",{value:0,writable:!1}),Object.defineProperty(u,"OBJECT_BOUNDING_BOX_GLOBAL",{value:1,writable:!1}),Object.defineProperty(u,"OBJECT_BOUNDING_BOX_EXACT",{value:2,writable:!1}),Object.defineProperty(u,"SELECTION_MODE_DEFAULT",{value:0,writable:!1}),Object.defineProperty(u,"SELECTION_MODE_XRAY",{value:1,writable:!1}),Object.defineProperty(u,"SELECTION_MODE_TRANSLUCENT_SHELL",{value:2,writable:!1}),Object.defineProperty(u,"OBJECT_HIGHLIGHT_HOVERED",{value:0,writable:!1}),Object.defineProperty(u,"OBJECT_HIGHLIGHT_SELECTED",{value:1,writable:!1}),Object.defineProperty(u,"OBJECT_HIGHLIGHT_SELECTED_HOVERED",{value:2,writable:!1}),Object.defineProperty(u,"SNAPSHOT_DEFAULT",{value:0,writable:!1}),Object.defineProperty(u,"SNAPSHOT_UNDO_FIELD_VALUE_CHANGES",{value:1,writable:!1}),Object.defineProperty(u,"SNAPSHOT_USE_CURRENT_CAMERA_ORIENTATION",{value:2,writable:!1}),Object.defineProperty(u,"SNAPSHOT_REVEAL_HIDDEN_OBJECTS",{value:4,writable:!1}),Object.defineProperty(u,"QUERY_OBJECT_OCCLUSION_IMMEDIATE_PARENT",{value:256,writable:!1}),Object.defineProperty(u,"QUERY_OBJECT_OCCLUSION_TOP_LEVEL_PARENT",{value:512,writable:!1}),e.exports={app:L}},function(e,t,n){var i=null,r=n(1).app,o=!1,a={ui:{setBannerImage:function(e){window.PanelService&&e&&window.PanelService.setBannerImage(e)},showCanvas:function(e){if(Module.canvas){e=void 0===e||!!e,Module.canvas.style.display=e?"block":"none";var t=Module.canvas.parentNode.querySelector("#tiramisu-panel-group");t&&(t.style.display=e?"":"none"),r.ui.showPanels(e),o=e,e&&Cortona3DSolo.dispatch("core.didChangeLayout")}},showPanels:function(e){window.PanelService&&(e=void 0===e||!!e,window.PanelService.showPanels(e))},isDrawingDisplayMode:function(){var e=!1;return r.drawing&&(e=r.drawing.isVisible()&&!o),e},isCanvasVisible:function(){return o},toggleSpeakerIcon:function(e){if(window.PanelService){var t;if(e=void 0===e?!i:e){if(i)return;(t=document.createElement("div")).className="tiramisu-speaker",t.appendChild(document.createElement("div")),t.appendChild(document.createElement("span")),t.appendChild(document.createElement("span")),t.appendChild(document.createElement("span")),window.PanelService.appendChild(t),i=t,window.setTimeout((function(){t.style.opacity=1}),300)}else(t=i)&&(t.style.opacity=0,window.setTimeout((function(){t.parentNode.removeChild(t)}),300)),i=null;return e}}}};e.exports={app:a}},function(e,t,n){var i=n(6).getBaseURL();function r(e,t,n,i){if(0!==e){void 0===i&&(i=t?0:-1);var r=getValue(e,"i32"),o=Module.HEAPU8.subarray(e+4,e+r+4),a=window.URL||window.webkitURL||window,s=(n=n||{},a.createObjectURL(new Blob([o],n)));if(Module._free(e),t||(t=new Image),i>=0){function u(){i?setTimeout((function(){try{a.revokeObjectURL(s)}catch(e){}}),i):a.revokeObjectURL(s),t.removeEventListener("load",u,!1),t.removeEventListener("error",u,!1)}t.addEventListener("load",u,!1),t.addEventListener("error",u,!1)}return t.src=s,t}}var o={util:{createResourceURL:function(e){if(Module.ccall){var t=decodeURI(e),n=Module.ccall("tiramisu_copyResourceFromBundle","number",["string"],[t]);if(0!==n){var i=getValue(n,"i32"),r=Module.HEAPU8.subarray(n+4,n+i+4),o=window.URL||window.webkitURL||window,a=/\.svg$/i.test(t)?{type:"image/svg+xml"}:{},s=o.createObjectURL(new Blob([r],a));return Module._free(n),s}}},revokeResourceURL:function(e){e&&/^blob:/i.test(e)&&(window.URL||window.webkitURL||window).revokeObjectURL(e)},fetchImageFromDocumentBundle:function(e,t){var n,o,a;return"string"==typeof e?(n=new Image,o=e):0===(o=(n=e).getAttribute("src")).lastIndexOf(i,0)&&(o=o.slice(i.length)),o=decodeURI(o).replace(/\.cgm$/i,".svg"),a=/\.svg$/i.test(o)?{type:"image/svg+xml"}:{},r(Module.ccall("tiramisu_copyResourceFromBundle","number",["string"],[o]),n,a,t)},fetchBannerImage:function(){var e,t=stackSave(),n=stackAlloc(8),i=r(Module._tiramisu_copyBannerImage(n));return i&&(e={image:i,frameCount:getValue(n,"i32"),frameDuration:getValue(n+4,"i32")/1e3}),stackRestore(t),e},Vec3f:n(21),Rotation:n(45),inflate:function(e){var t=function(e){var t=e.BYTES_PER_ELEMENT*e.length,n=Module._malloc(t),i=new Uint8Array(Module.HEAPU8.buffer,n,t);return i.set(new Uint8Array(e.buffer)),i}(e),n=Module._tiramisu_utility_inflate(t.byteOffset,t.length);return Module._free(t.byteOffset),n?HEAPU8.subarray(n+4,n+4+getValue(n,"i32")):null},freeTypedArray:function(e){e&&Module._free(e.byteOffset-4)}}};e.exports={app:o}},function(e,t){function n(){3==arguments.length&&"number"==typeof arguments[0]?(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2]):1==arguments.length&&Array.isArray(arguments[0])&&3===arguments[0].length?(this.x=arguments[0][0],this.y=arguments[0][1],this.z=arguments[0][2]):(this.x=0,this.y=0,this.z=0)}n.prototype.toArray=function(){return[this.x,this.y,this.z]},n.prototype.toString=function(){return this.toArray().join(" ")},n.prototype.add=function(e){return new n(e.x+this.x,e.y+this.y,e.z+this.z)},n.prototype.subtract=function(e){return new n(this.x-e.x,this.y-e.y,this.z-e.z)},n.prototype.dot=function(e){return e.x*this.x+e.y*this.y+e.z*this.z},n.prototype.cross=function(e){return new n(this.y*e.z-e.y*this.z,this.z*e.x-e.z*this.x,this.x*e.y-e.x*this.y)},n.prototype.divide=function(e){return new n(this.x/e,this.y/e,this.z/e)},n.prototype.multiply=function(e){return new n(this.x*e,this.y*e,this.z*e)},n.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},n.prototype.normalize=function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return 0===e?this:this.divide(e)},n.prototype.negate=function(){return new n(-this.x,-this.y,-this.z)},e.exports=n},function(e,t,n){var i=n(0);function r(e,t){t&&(this.parent=t),this.rules=e||{},this.style=null}r.prototype.toString=function(){var e,t,n,o,a,s="",u=this.parent,c=/(^\s+|\s+$)/;for(t in this.rules){var l=0===t.indexOf("@media")&&!u;if(this.rules.hasOwnProperty(t)){if(s&&(s+="\n"),o=u?t.split(/\s*,\s*/).map((function(e){return(e=e.replace(c,"")).indexOf("&")<0?u+" "+e:e.replace(/&/,u)})).join(","):t.replace(c,""),s+=o+" {",l)s+="\n"+new r(this.rules[t]);else if(a=[],e=this.rules[t],i.isObject(e))for(n in e)e.hasOwnProperty(n)&&(n.indexOf("&")<0?s+="\n"+n.replace(/(\S)([A-Z])/g,(function(e,t,n){return t+"-"+n.toLowerCase()}))+": "+e[n]+";":"&"!==n&&a.push(n));s+="\n}",l||(a.forEach((function(t){var n={};n[t]=e[t],s+="\n"+new r(n,o)})),i.isObject(e["&"])&&(s+="\n"+new r(e["&"],o)))}}return s},r.prototype.render=function(e){return this.style||(this.style=document.head.appendChild(document.createElement("style")),this.style.type="text/css"),e&&i.expand(this.rules,e),this.style.innerHTML=this.toString(),this},r.prototype.clear=function(){return this.rules={},this},e.exports=function(e){return new r(e)}},function(e,t,n){n(24);var i,r,o,a=n(0);window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(e){e.hasOwnProperty("append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach((function(e){var n=a.isHTMLNode(e);t.appendChild(n?e:document.createTextNode(String(e)))})),this.appendChild(t)}})})),i=[window.Element,window.CharacterData,window.DocumentType],r=[],i.forEach((function(e){e&&r.push(e.prototype)})),function(e){e.forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}))}(r),Element.prototype.remove=(o=Element.prototype.remove,function(){arguments.length?Array.prototype.slice.call(arguments).forEach((function(e){this.removeChild(e)}),this):o.call(this)});var s=n(2);window.Cortona3DSolo||(window.Cortona3DSolo=s);var u=(a=n(0)).expand,c=n(28),l=n(1).usedModules;console.log("Cortona3D Solo v2.1.0"),e.exports=u(s,{use:function(e,t){"Cortona3DSoloSkin"===e?e="skin":"Cortona3DSoloTouch"===e&&(e="touch");var i=l[e],r=l.addons[e];switch(e){case"core":if(!i)return new Promise((function(r,o){l[e]=i={config:u({},t)},s.core=n(16).configure(t),u(s.app,n(18).app),u(s.app,n(42).app),u(s.app,n(43).app),u(s.app,n(19).app),u(s.app,n(20).app),s.once("core.onRuntimeInitialized",(function(){r(i)})),s.once("core.onError",o)}));break;case"tag":if(!i){if(l.core)return Promise.reject(new Error('The "core" and "tag" modules cannot be used simultaneously'));l[e]=i={config:u({},t)},l.core=i;var o=s.use("Cortona3DSoloTag");return new Promise((function(e,r){s.core=n(16).configure(u({coreURL:"Cortona3DSoloCoreTag.js"},t)),u(s.app,n(18).app),u(s.app,n(19).app),u(s.app,n(20).app),s.once("core.onRuntimeInitialized",(function(){o.then((function(){s.core.Stella=s.tag,s.on("app.willStartNavigateInScene",(function(){s.tag.Model3D.instance.tooltipOver3D&&s.tag.Model3D.instance.tooltipOver3D.hide()})),e(i)})).catch(r)})),s.once("core.onError",r)}))}break;case"drawing":i||(l[e]=i={config:u({},t)},u(s.app,n(5).configure(t)));break;case"touch":i||(l[e]=i={config:u({},t)},u(s,n(46).configure(t)));break;case"skin":i||(s.use("require"),l[e]=i={config:u({},t)},u(s,n(48).configure(t)));break;case"require":i||(a.detectAMDLoader()?console.log("The AMD loader is already on the page."):u(window,n(52)),l[e]=i={config:u({},t)},window.require.onError=function(){},window.require.config(i.config),n(54),n(55),n(56),n(57),n(58),n(59));break;default:return r?Promise.resolve(r):s.use("require").then((function(){var n=u({},t),i=l.require&&l.require.config||{},o=n.prefixURL||s.baseUrl;return l.addons[e]=r={config:n},o||l.core&&(o=Module.locateFile("")),(i=u({},i,{context:"Cortona3DSolo",baseUrl:o,config:{}})).config[e]=n,s.app.util.requirePromise(e,window.requirejs.config(i)).then((function(e){return r.exports=e,r}))}))}return Promise.resolve(i)},app:u(n(1).app,{util:{xmlToJSON:n(12),loadResource:a.loadResource,toUrl:function(e,t){var n="string"!=typeof e?"":e;if(n.match(/^[a-z]+\:\/\//i))return n;if(n.match(/^\/\//))return"http:"+n;if(n.match(/^[a-z]+\:/i))return n;var i=document.createElement("a");return"/"===n[0]?(i.href=a.getBaseURL(t),i.href=i.protocol+"//"+i.host+n):i.href=a.getBaseURL(t)+n,(n=i.href).match(/^file\:\/\//i)&&(n=decodeURI(n)),n.replace(/(\/\.\/|\/[^/]+\/\.\.\/)/g,"/").replace(/([^:/])\/{2,}/g,"$1/")},b64toBlob:c,defineClass:a.defineClass,requirePromise:function(e,t){return new Promise((function(n,i){t=t||window.requirejs,Promise.all([t([e],n,i)]).catch((function(){}))}))}},ui:{createElement:n(8).createElement,html:n(8).createElementsFromHTML,css:n(22),color:n(11)}}),expand:u,dispatch:function(e,t){!0===s.__trace&&-1===e.indexOf("AnimationFrame")&&console.log("EVENT("+e+"): ",Array.prototype.slice.call(arguments,1)),s.emit.apply(s,arguments);for(var n=e.split("."),i=n.pop(),r=s;n.length&&r;)r=r[n.shift()];if(r&&"function"==typeof r[i])switch(arguments.length){case 1:r[i].call(s);break;case 2:r[i].call(s,arguments[1]);break;case 3:r[i].call(s,arguments[1],arguments[2]);break;case 4:r[i].call(s,arguments[1],arguments[2],arguments[3]);break;case 5:r[i].call(s,arguments[1],arguments[2],arguments[3],arguments[3]);break;default:r[i].apply(s,Array.prototype.slice.call(arguments,1))}}}),Object.defineProperty(s,"version",{get:function(){return"2.1.0"},enumerable:!0})},function(e,t,n){"use strict";e.exports=n(25).polyfill()},function(e,t,n){(function(t,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
var i;i=function(){"use strict";function e(e){return"function"==typeof e}var i=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,o=void 0,a=void 0,s=function(e,t){p[r]=e,p[r+1]=t,2===(r+=2)&&(a?a(m):g())},u="undefined"!=typeof window?window:void 0,c=u||{},l=c.MutationObserver||c.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(m,1)}}var p=new Array(1e3);function m(){for(var e=0;e<r;e+=2)(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0;r=0}var v,g=void 0;function b(e,t){var n=this,i=new this.constructor(w);void 0===i[_]&&I(i);var r=n._state;if(r){var o=arguments[r-1];s((function(){return M(r,i,o,n._result)}))}else P(n,i,e,t);return i}function y(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(w);return A(t,e),t}d?g=function(){return t.nextTick(m)}:l?g=function(){var e=0,t=new l(m),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():f?((v=new MessageChannel).port1.onmessage=m,g=function(){return v.port2.postMessage(0)}):g=void 0===u?function(){try{var e=Function("return this")().require("vertx");return void 0!==(o=e.runOnLoop||e.runOnContext)?function(){o(m)}:h()}catch(e){return h()}}():h();var _=Math.random().toString(36).substring(2);function w(){}function E(t,n,i){n.constructor===t.constructor&&i===b&&n.constructor.resolve===y?function(e,t){1===t._state?O(e,t._result):2===t._state?S(e,t._result):P(t,void 0,(function(t){return A(e,t)}),(function(t){return S(e,t)}))}(t,n):void 0===i?O(t,n):e(i)?function(e,t,n){s((function(e){var i=!1,r=function(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}(n,t,(function(n){i||(i=!0,t!==n?A(e,n):O(e,n))}),(function(t){i||(i=!0,S(e,t))}),e._label);!i&&r&&(i=!0,S(e,r))}),e)}(t,n,i):O(t,n)}function A(e,t){if(e===t)S(e,new TypeError("You cannot resolve a promise with itself"));else if(r=typeof(i=t),null===i||"object"!==r&&"function"!==r)O(e,t);else{var n=void 0;try{n=t.then}catch(t){return void S(e,t)}E(e,t,n)}var i,r}function T(e){e._onerror&&e._onerror(e._result),x(e)}function O(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&s(x,e))}function S(e,t){void 0===e._state&&(e._state=2,e._result=t,s(T,e))}function P(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+1]=n,r[o+2]=i,0===o&&e._state&&s(x,e)}function x(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,o=e._result,a=0;a<t.length;a+=3)i=t[a],r=t[a+n],i?M(n,i,r,o):r(o);e._subscribers.length=0}}function M(t,n,i,r){var o=e(i),a=void 0,s=void 0,u=!0;if(o){try{a=i(r)}catch(e){u=!1,s=e}if(n===a)return void S(n,new TypeError("A promises callback cannot return that same promise."))}else a=r;void 0!==n._state||(o&&u?A(n,a):!1===u?S(n,s):1===t?O(n,a):2===t&&S(n,a))}var k=0;function I(e){e[_]=k++,e._state=void 0,e._result=void 0,e._subscribers=[]}var C=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(w),this.promise[_]||I(this.promise),i(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?O(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&O(this.promise,this._result))):S(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===y){var r=void 0,o=void 0,a=!1;try{r=e.then}catch(e){a=!0,o=e}if(r===b&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===R){var s=new n(w);a?S(s,o):E(s,e,r),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(i(e),t)},e.prototype._settledAt=function(e,t,n){var i=this.promise;void 0===i._state&&(this._remaining--,2===e?S(i,n):this._result[t]=n),0===this._remaining&&O(i,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;P(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},e}(),R=function(){function t(e){this[_]=k++,this._result=this._state=void 0,this._subscribers=[],w!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){A(e,t)}),(function(t){S(e,t)}))}catch(t){S(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return R.prototype.then=b,R.all=function(e){return new C(this,e).promise},R.race=function(e){var t=this;return i(e)?new t((function(n,i){for(var r=e.length,o=0;o<r;o++)t.resolve(e[o]).then(n,i)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},R.resolve=y,R.reject=function(e){var t=new this(w);return S(t,e),t},R._setScheduler=function(e){a=e},R._setAsap=function(e){s=e},R._asap=s,R.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===i&&!t.cast)return}e.Promise=R},R.Promise=R,R},e.exports=i()}).call(this,n(26),n(27))},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&h())}function h(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n=!1;try{atob(" ")}catch(e){n=!0}e.exports=function(e,t,i){var r=e,o="",a=0;if("data:"===e.substr(0,5)){for(a=5;","!==e.charAt(a++);)";"!==e.charAt(a)&&(o||(o=e.substring(5,a)));if(r=e.substring(a),-1===e.substring(5,a).indexOf(";base64"))return Promise.resolve(new Blob([r],{type:t||o}))}return new Promise((function(e,a){function s(n){e(new Blob(n,{type:t||o}))}function u(){var e=this;e.onmessage=function(t){for(var n=t.data[0],i=t.data[1],r=[],o=0;o<n.length;o+=i){for(var a=n.slice(o,o+i),s=new Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);r.push(new Uint8Array(s))}e.postMessage(r)}}var c;try{c=[atob(n?r.replace(/\s/g,""):r),i||1048576]}catch(e){return void a(e)}try{var l=("("+u+")();").replace('"use strict";',""),d=URL.createObjectURL(new Blob([l],{type:"application/javascript"})),f=new Worker(d);f.onmessage=function(e){URL.revokeObjectURL(d),s(e.data)},f.postMessage(c)}catch(e){try{var h={postMessage:s};u.call(h),h.onmessage({data:c})}catch(e){a(e)}}}))}},function(e,t){function n(){}n.prototype.$=function(e,t){var n=e||this;if("string"==typeof e&&e)if("*"===e)n=(this["@children"]||[]).filter((function(e){return"string"!=typeof e})),t&&(n=n.reduce((function(n,i){return n.concat(i,i.$(e,t))}),[]));else{var i=e.indexOf("/"),r=e.substring(0,i),o=e.substring(i+1),a=o.indexOf("/");i>=0&&0===a?(o=o.substring(1),n=this.$(r,t).reduce((function(e,t){return e.concat(t.$(o,!0))}),[])):n=t?this.$("*").reduce((function(t,n){return t.concat(n.$(e,!0))}),this.$(e)):i<0?this[e]:this.$(r).reduce((function(e,t){return e.concat(t.$(o))}),[])}return n?n.map?n:[n]:[]},n.prototype.$text=function(e){return e?this.$(e).reduce((function(e,t){return e+t.$text()}),""):this["#text"]||(this["@children"]||[]).reduce((function(e,t){return"string"==typeof t?e+t:e+t.$text()}),"")},n.prototype.$attr=function(e){return this["@attributes"]?this["@attributes"][e]:null},e.exports=n},function(e,t,n){var i=n(3),r=n(31);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(4)(!1)).push([e.i,".cortona3dsolo-svg {\n    width: 100%;\n    height: 100%;\n    display: block;\n    position: absolute;\n}\n\n.cortona3dsolo-svg a:hover {\n\tcursor: pointer;\n\ttext-decoration: none;\n}",""]),e.exports=t},function(e,t,n){n(33);var i,r,o,a=n(0).expand,s=n(9).EventEmitter,u="http://www.w3.org/2000/svg",c="http://www.w3.org/1999/xlink",l="ontouchstart"in window,d=l&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),f=n(13),h=n(34),p=[],m={},g=!1,b=50,y=1,_=!1,w=0,E=!1,A=!1,T=!1,O=!1,S=!0,P=!1,x="",M=null,k=null;function I(e,t){return new Promise((function(n,i){var r=new Blob([e],{type:"text/plain"}),o=new FileReader;o.onload=function(e){n(e.target.result)},o.readAsText(r,t)}))}function C(e){var t,n=Array.prototype.slice.call(e.getElementsByTagName("path")).filter((function(e){return e.classList.contains("hotspot-region")}))[0];if(!n&&(t=function(e){for(var t=e.firstChild;t&&!t.tagName;)t=t.nextSibling;return t}(e))&&"path"===t.tagName){n=t,t.classList.add("hotspot-region"),e.appendChild(t),Array.prototype.slice.call(e.getElementsByTagName("text")).forEach((function(t){var n=t.parentNode;n!==e?n.parentNode===e&&(e.appendChild(n.cloneNode()).appendChild(t),n.childElementCount||n.parentNode.removeChild(n)):e.appendChild(t)}));var i=e.previousElementSibling;i&&e.getAttribute("vm2d:name")===i.textContent.trim()&&Array.prototype.slice.call(i.getElementsByTagName("text")).forEach((function(t){var n=t.parentNode;e.appendChild(n.cloneNode()).appendChild(t),n.childElementCount||n.parentNode.removeChild(n)}))}return n}function R(e){var t=[],n=C(e);return n?t.push(n):t=t.concat(Array.prototype.slice.call(e.getElementsByTagName("path")),Array.prototype.slice.call(e.getElementsByTagName("text"))),t}function L(e){for(var t=e;t&&"a"!=t.nodeName.toLowerCase();)t=t.parentNode;return t}!function(){var e=function(e){return new RegExp("(^| )"+e+"( |$)")},t=function(e,t,n){for(var i=0;i<e.length;i++)t.call(n,e[i])};function n(e){this.element=e}n.prototype={add:function(){t(arguments,(function(e){this.contains(e)||(this.element.className.baseVal+=" "+e)}),this)},remove:function(){t(arguments,(function(t){this.element.className.baseVal=this.element.className.baseVal.replace(e(t),"")}),this)},toggle:function(e,t){return(t=void 0===t?!this.contains(e):t)?this.add(e):this.remove(e),t},contains:function(t){return e(t).test(this.element.className.baseVal)}},"classList"in SVGElement.prototype||Object.defineProperty(SVGElement.prototype,"classList",{get:function(){return new n(this)}})}();var j,N,D,F,H={mouseover:function(e){var t=L((e=e||window.event).target||e.srcElement),n=t?t.getAttribute("name"):"";re.dispatch("didEnterHotspot",n),e.preventDefault()},mouseout:function(e){var t=L((e=e||window.event).target||e.srcElement),n=t?t.getAttribute("name"):"";re.dispatch("didLeaveHotspot",n),e.preventDefault()}},U={contextmenu:function(e){if(e.preventDefault(),e.stopPropagation(),!T){var t=L((e=e||window.event).target||e.srcElement),n=t?t.getAttribute("name"):"",i=o.getBoundingClientRect(),r=e.clientX-i.left,a=e.clientY-i.top;re.dispatch("didCallContextMenu",n,r,a,o)}},wheel:function(e){return ee((e=e||window.event).deltaY<0?-.1:.1,e.offsetX,e.offsetY),e.preventDefault(),!1},dblclick:function(e){if(e.preventDefault(),e.stopPropagation(),!O){var t=Y(),n=t.currentScale,i=t.currentTranslate.x,r=t.currentTranslate.y,o=.4*(b-y)+y;Math.abs(o-n)<.001?Q():V(i=e.offsetX*devicePixelRatio+(-e.offsetX*devicePixelRatio+i)*(o/n),r=e.offsetY*devicePixelRatio+(-e.offsetY*devicePixelRatio+r)*(o/n),o)}}};function z(e){var t=e;t||(t=ne());var n=o.clientWidth||1,i=o.clientHeight||1,r=t.width||1,a=t.height||1,s=n/i,u=r/a,c=1;return s>u?(c=i/a,r=(a=i)*u):s<u?(c=n/r,a=(r=n)/u):(c=i/a,a=i,r=n),{x:t.x,y:t.y,h:a,w:r,scale:c}}function B(e,t){var n=Y();!function(e,t){var n=o.clientWidth*devicePixelRatio,i=o.clientHeight*devicePixelRatio,r=Y(),a=z(),s=(.8*n+a.w*devicePixelRatio*r.currentScale)/2,u=(.8*i+a.h*devicePixelRatio*r.currentScale)/2,c=n*(r.currentScale-1)/2,l=i*(r.currentScale-1)/2;V(e=Math.max(Math.min(e,s-c),-s-c),t=Math.max(Math.min(t,u-l),-u-l))}(n.currentTranslate.x+e*devicePixelRatio,n.currentTranslate.y+t*devicePixelRatio)}function V(e,t,n){var o=function(){F=null,i.style.display="block",r.style.visibility="hidden",$(i,r.currentTranslate.x,r.currentTranslate.y,r.currentScale)};clearTimeout(F),$(r,e,t,n),_&&g?(F||(r.style.visibility="visible",i.style.display="none",$(r,i.currentTranslate.x,i.currentTranslate.y,i.currentScale)),F=setTimeout(o,1e3)):o()}function $(e,t,n,i){e.currentTranslate.x=t,e.currentTranslate.y=n,void 0!==i&&(e.currentScale=i,re.dispatch("onZoomChange",i))}function Y(){return _&&F?r:i}function G(){var e,t,n,r={},s=i.getElementsByTagName("a");if(P&&!p.length){for(!1===navigator.pointerEnabled&&(r.inputClass=d?f.TouchInput:l?f.TouchMouseInput:f.MouseInput),n=0;n<s.length;n++)!function(n){var i=n.getAttribute("xlink:href");"#"!==i&&""!==i||n.removeAttribute("xlink:href");var o=n.getAttribute("vm2d:name");if(o&&n.setAttribute("name",o),(o=n.getAttribute("name"))||((o=n.textContent.replace(/[\r\n\s]+/g," ").trim())&&n.setAttribute("name",o),console.log('WARNING: Element "'+n.tagName+'" has no "name" attribute. Uses text content instead: "'+o+'"')),o){for(e in(t=new f.Manager(n,a({recognizers:[[f.Tap]]},r))).on("tap",(function(e){var t=e.srcEvent||e,n=+(t.shiftKey&&1)|+(t.ctrlKey&&2)|+(t.altKey&&4);m[o]?(clearTimeout(m[o]),delete m[o]):m[o]=setTimeout((function(){delete m[o],re.dispatch("didClickHotspot",o,n)}),250)})),p.push(t),H)n.addEventListener(e,H[e],!1);if(C(n))for(var s=n.firstChild;s;)s.classList&&!s.classList.contains("hotspot-region")&&s.setAttribute("pointer-events","none"),s=s.nextSibling}}(s[n]);t=new f.Manager(o,r);var u=new f.Press({time:750}),c=new f.Tap({event:"doubletap",taps:2,threshold:5,posThreshold:100,interval:250}),h=new f.Pinch({enable:!0}),v=new f.Pan({pointers:0,threshold:1});for(e in h.recognizeWith(v),t.add(u),t.add(c),t.add(h),t.add(v),t.set({touchAction:"none"}),t.on("press",(function(e){"mouse"!==e.pointerType&&(U.contextmenu(e.srcEvent),T=!0)})),t.on("pressup",(function(e){"mouse"!==e.pointerType&&setTimeout((function(){T=!1}),250)})),t.on("doubletap",(function(e){U.dblclick(e.srcEvent),O=!0,setTimeout((function(){O=!1}),250)})),t.on("pinchstart",(function(e){D=e.scale})),t.on("pinch",(function(e){var t=D-e.scale,n=o.getBoundingClientRect(),i=e.center.x,r=e.center.y,a=i-n.left,s=r-n.top;D=e.scale,ee(t,a,s)})),t.on("panstart",(function(e){o.style.cursor="move",j=e.deltaX,N=e.deltaY})),t.on("pan",(function(e){return"mouse"===e.pointerType&&0===e.srcEvent.buttons?(t.stop(),o.style.cursor="default",void(j=N=void 0)):void 0===j?(j=e.deltaX,void(N=e.deltaY)):(B(e.deltaX-j,e.deltaY-N),j=e.deltaX,void(N=e.deltaY))})),t.on("panend",(function(e){o.style.cursor="default",j=N=void 0})),p.push(t),U)o.addEventListener(e,U[e],!1)}}function X(){var e,t,n,r,a=i.getElementsByTagName("a");for(r=0;r<a.length;r++)for(e in(n=a[r]).__mc&&n.__mc.destroy(),delete n.__mc,H)n.removeEventListener(e,H[e],!1);for(e in U)o.removeEventListener(e,U[e],!1);for(t in p.forEach((function(e){e.destroy()})),p.length=0,m)clearTimeout(m[t]);m={},m_zoom=1,m_originX=0,m_originY=0}function W(){for(X();i.firstChild;)i.removeChild(i.firstChild);Z(),P=!1}function Z(){for(;r.firstChild;)r.removeChild(r.firstChild);g=!1}function q(){if(Z(),!(w<5e3)&&_){var e=(new XMLSerializer).serializeToString(i),t=self.URL||self.webkitURL||self,n=new Image,a=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),s=t.createObjectURL(a);n.onload=function(){if(t.revokeObjectURL(s),n.width||n.height){var e=o.appendChild(document.createElement("canvas"));e.style.display="none",e.width=n.width,e.height=n.height,e.getContext("2d").drawImage(n,0,0,n.width,n.height);var a=e.toDataURL("image/png"),l=document.createElementNS(u,"image");l.setAttribute("image-rendering","optimizeQuality"),l.setAttribute("width",n.width),l.setAttribute("height",n.height),r.setAttribute("viewBox","0 0 "+n.width+" "+n.height),l.setAttributeNS(c,"href",a),r.appendChild(l),$(r,i.currentTranslate.x,i.currentTranslate.y,i.currentScale),o.removeChild(e),g=!0}else _=!1},n.src=s}}function K(){if(!E)try{var e=i.getBBox();b=Math.sqrt(e.width*e.width+e.height*e.height)/50||50}catch(e){}}function J(e,t,n){var i=n;return te(e).flatMap(R).forEach((function(e){e.classList&&(i=e.classList.toggle(t,n))})),i}function Q(){V(0,0,1)}function ee(e,t,n){var i=Y(),r=i.currentScale,a=i.currentTranslate.x,s=i.currentTranslate.y,u=Math.max(y,Math.min(b,r*(1-e))),c=o.clientWidth,l=o.clientHeight;n=void 0===n?l/2:n,V(a=(t=void 0===t?c/2:t)*devicePixelRatio+(-t*devicePixelRatio+a)*(u/r),s=n*devicePixelRatio+(-n*devicePixelRatio+s)*(u/r),u)}function te(e){if(!i)return[];var t=String(e).valueOf();return Array.prototype.slice.call(i.getElementsByTagName("a")).filter((function(e){return e.getAttribute("name")===t}))}function ne(e){var t,n=Y();switch(typeof e){case"undefined":t=ne(n);break;case"object":if(Array.isArray(e))e.flatMap((function(e){return"string"==typeof e?te(e):e})).flatMap(R).forEach((function(e){var i=ne(e);t||((t=n.createSVGRect()).x=i.x,t.y=i.y),t.width=Math.max(t.x+t.width,i.x+i.width),t.height=Math.max(t.y+t.height,i.y+i.height),t.x=Math.min(t.x,i.x),t.y=Math.min(t.y,i.y),t.width-=t.x,t.height-=t.y}));else{var i=e.getBBox(),r=n.createSVGPoint(),o=n.createSVGPoint(),a=e.getCTM();r.x=i.x,r.y=i.y,o.x=i.x+i.width,o.y=i.y+i.height,r=r.matrixTransform(a),i.x=r.x,i.y=r.y,o=o.matrixTransform(a),i.width=o.x-r.x,i.height=o.y-r.y,t=i}break;case"string":t=ne([e]);break;default:t=ne(String(e).valueOf())}return t}function ie(){X(),o.style.visibility="hidden",S=!0}var re=a(new s,{dispatch:function(e){re.emit.apply(re,arguments),"function"==typeof re.delegate[e]&&re.delegate[e].apply(re,Array.prototype.slice.call(arguments,1))},initialize:function(e,t){e.setAttribute("touch-action","none"),e.style.touchAction="none",e.style.width="100%",e.style.height="100%",e.style.position="absolute",e.style.display="block",e.style.overflow="hidden",i=e,(o=document.createElement("div")).classList.add("cortona3dsolo-svg"),e.parentNode.replaceChild(o,e),o.appendChild(e),(r=o.appendChild(document.createElementNS(u,"svg"))).setAttribute("touch-action","none"),r.style.touchAction="none",r.style.pointerEvents="none",r.style.width="100%",r.style.height="100%",r.style.position="absolute",e.style.display="block",r.style.overflow="hidden",r.style.visibility="hidden",ie()},hide:ie,show:function(){G(),o.style.visibility="visible",S=!1,K()},reset:Q,scaleBy:ee,shiftBy:function(e,t){B(e,t)},centerTo:function(e){var t=ne(e);if(t){var n=o.clientWidth,i=o.clientHeight,r=Y(),a=(t.x+t.width/2)*r.currentScale,s=(t.y+t.height/2)*r.currentScale;V((n/2-a)*devicePixelRatio,(i/2-s)*devicePixelRatio)}},fitTo:function(e,t){t=t||.5;var n=ne(e);if(n){var i=Y(),r=o.clientWidth,a=o.clientHeight,s=i.currentScale,u=r/2-(n.x+n.width/2)*s,c=a/2-(n.y+n.height/2)*s,l=z(n),d=Math.max(y,Math.min(b,l.scale*t)),f=u*devicePixelRatio,h=c*devicePixelRatio,p=r/2,m=a/2;V(f=p*devicePixelRatio+(-p*devicePixelRatio+f)*(d/s),h=m*devicePixelRatio+(-m*devicePixelRatio+h)*(d/s),d)}},toggleHotspotClass:J,select:function(e,t){te(e).flatMap(R).forEach((function(e){A&&(e.style.stroke=t,e.style.strokeWidth="text"===e.tagName?".1em":".5px",e.style.strokeOpacity=1),"text"!==e.tagName&&(e.style.fill=t,e.style.fillOpacity=.8)}))},unselect:function(e){te(e).flatMap(R).forEach((function(e){A&&(e.style.stroke="",e.style.strokeWidth="",e.style.strokeOpacity=""),"text"!==e.tagName&&(e.style.fill="",e.style.fillOpacity="")}))},highlight:function(e,t){te(e).flatMap(R).forEach((function(e){A?"text"!==e.tagName&&(e.style.fill=t,e.style.fillOpacity=.5):(e.style.stroke=t,e.style.strokeWidth="text"===e.tagName?".1em":".5px",e.style.strokeOpacity=1)}))},unhighlight:function(e){te(e).flatMap(R).forEach((function(e){A?"text"!==e.tagName&&(e.style.fill=e.style.stroke,e.style.fillOpacity=e.style.strokeOpacity):(e.style.stroke="",e.style.strokeWidth="",e.style.strokeOpacity="")}))},load:function(e,t){function n(t){var n,r=document.createElement("div");if(r.innerHTML=t,!(n=r.querySelector("svg")))throw new Error("No SVG data.");if(n){Q(),X();var o=i.style.cssText,a=i.getAttribute("class")||"";i.parentNode.replaceChild(n,i),(i=n).setAttribute("touch-action","none"),i.style.touchAction="none";for(var s=n.getElementsByTagName("title"),c=0;c<s.length;c++)s[c].parentNode.removeChild(s[c]);var l=Array.prototype.slice.call(n.childNodes||n.children).filter((function(e){var t=e.nodeName;return"#text"!==t&&"title"!==t&&"defs"!==t&&"desc"!==t})),d=document.createElementNS(u,"g");if(l.forEach((function(e){d.appendChild(e)})),n.appendChild(d),!n.getAttribute("viewBox")){var f=n.getBBox();n.setAttribute("viewBox",f.x+" "+f.y+" "+f.width+" "+f.height)}var h=(n.getAttribute("viewBox")||"0 0 0 0").split(/\s*[\s,]\s*/);v=d.transform.baseVal,v.initialize(n.createSVGTransform()),v.getItem(0).setTranslate(-h[0],-h[1]),h[0]=0,h[1]=0,n.setAttribute("viewBox",h.join(" ")),n.getAttribute("width")||n.setAttribute("width",h[2]),n.getAttribute("height")||n.setAttribute("height",h[3]),n.style.cssText=o,n.setAttribute("class",a),P=!0,re.dispatch("didCompleteLoad",e),S||G(),x=e,w=n.getElementsByTagName("text").length,q(),K()}}if(e!=x)if(k&&(k.abort(),k=null),M&&(M.onload=null,M=null),t||/\.(png|jpe?g|jpe|gif)$/i.test(e)){var r=new Image;r.onload=function(){W();var t=document.createElementNS(u,"image");t.setAttribute("image-rendering","optimizeQuality"),t.setAttribute("width",r.width),t.setAttribute("height",r.height),i.setAttribute("viewBox","0 0 "+r.width+" "+r.height),t.setAttributeNS(c,"href",r.src),i.appendChild(t),K(),P=!0,re.dispatch("didCompleteLoad",r.src),S||G(),x=e},r.src=e,M=r}else{var o=new window.XMLHttpRequest;o.overrideMimeType&&o.overrideMimeType("application/octet-stream");try{o.open("GET",e,!0),o.responseType="arraybuffer",o.onerror=function(){re.dispatch("onProgress",0,-1),re.dispatch("failedLoadingDocument",e,o.status)},o.onprogress=function(e){var t=e.loaded,n=e.lengthComputable||void 0===e.lengthComputable?e.total:0;re.dispatch("onProgress",t,n)},o.onload=function(){re.dispatch("onProgress",0,-1);var t=new Uint8Array(o.response);Promise.resolve().then((function(){return I(new Uint8Array(h.inflate(t)))})).catch((function(){return I(t)})).then(n).catch((function(){re.dispatch("failedLoadingDocument",e,o.status),x=""}))},o.send(null),k=o}catch(t){re.dispatch("failedLoadingDocument",e,t.message),x=""}}},unload:W,attach:G,detach:X,getSVGSource:function(){var e=document.createElement("div");return e.appendChild(i.cloneNode(!0)),e.firstChild.removeAttribute("id"),e.firstChild.removeAttribute("style"),e.innerHTML},getObjectsWithName:te,checkComplete:function(){return P},checkShown:function(){return!S},addObjectsWithClassName:function(e,t){(Array.isArray(e)?e:[e]).forEach((function(e){J(e,t,!0)}))},setObjectsWithClassName:function(e,t){i.querySelectorAll("."+t).forEach((function(e){return e.classList.remove(t)})),(Array.isArray(e)?e:[e]).forEach((function(e){return J(e,t,!0)}))},removeObjectsWithClassName:function(e,t){(Array.isArray(e)?e:[e]).forEach((function(e){return J(e,t,!1)}))},getObjectsWithClassName:function(e){var t=[];return i.querySelectorAll("."+e).forEach((function(e){var n=e.getAttribute("name")||e.parentNode.getAttribute("name");"string"==typeof n&&t.indexOf(n)<0&&t.push(n)})),t},delegate:{}});Object.defineProperties(re,{svg:{get:function(){return i},enumerable:!0},enableDrawingOptimization:{get:function(){return _},set:function(e){_=!!e},enumerable:!0},enableHoverFilling:{get:function(){return A},set:function(e){A=!!e},enumerable:!0},maxScale:{get:function(){return b},set:function(e){E=!!e,b=Math.max(+e>0?e:50,y)},enumerable:!0},minScale:{get:function(){return y},set:function(e){y=Math.min(+e>0?e:1,b)},enumerable:!0}}),e.exports=re},function(e,t){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{configurable:!0,writable:!0,value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=t[r];if(e.call(i,o,r,t))return o;r++}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{configurable:!0,writable:!0,value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=t[r];if(e.call(i,o,r,t))return r;r++}return-1}}),Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,writable:!0,value:function(){var e=void 0===arguments[0]?1:Number(arguments[0])||0,t=[],n=t.forEach,i=function(e,r){n.call(e,(function(e){r>0&&Array.isArray(e)?i(e,r-1):t.push(e)}))};return i(this,e),t}}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,writable:!0,value:function(){return Array.prototype.map.apply(this,arguments).flat(1)}})},function(e,t,n){
/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */
!function(e){"use strict";function t(e){for(var t=e.length;--t>=0;)e[t]=0}var n=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),i=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),r=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),o=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=new Array(576);t(a);var s=new Array(60);t(s);var u=new Array(512);t(u);var c=new Array(256);t(c);var l=new Array(29);t(l);var d,f,h,p=new Array(30);function m(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function v(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}t(p);var g=function(e){return e<256?u[e]:u[256+(e>>>7)]},b=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},y=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,b(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},_=function(e,t,n){y(e,n[2*t],n[2*t+1])},w=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},E=function(e,t,n){var i,r,o=new Array(16),a=0;for(i=1;i<=15;i++)a=a+n[i-1]<<1,o[i]=a;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=w(o[s]++,s))}},A=function(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},T=function(e){e.bi_valid>8?b(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},O=function(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]},S=function(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&O(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!O(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i},P=function(e,t,r){var o,a,s,u,d=0;if(0!==e.sym_next)do{o=255&e.pending_buf[e.sym_buf+d++],o+=(255&e.pending_buf[e.sym_buf+d++])<<8,a=e.pending_buf[e.sym_buf+d++],0===o?_(e,a,t):(s=c[a],_(e,s+256+1,t),0!==(u=n[s])&&(a-=l[s],y(e,a,u)),o--,s=g(o),_(e,s,r),0!==(u=i[s])&&(o-=p[s],y(e,o,u)))}while(d<e.sym_next);_(e,256,t)},x=function(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)S(e,o,n);r=u;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],S(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,S(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,a,s,u=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=u[2*u[2*(i=e.heap[n])+1]+1]+1)>p&&(o=p,m++),u[2*i+1]=o,i>c||(e.bl_count[o]++,a=0,i>=h&&(a=f[i-h]),s=u[2*i],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(l[2*i+1]+a)));if(0!==m){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>c||(u[2*r+1]!==o&&(e.opt_len+=(o-u[2*r+1])*u[2*r],u[2*r+1]=o),i--)}}(e,t),E(o,c,e.bl_count)},M=function(e,t,n){var i,r,o=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<u&&r===a||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=r,0===a?(u=138,c=3):r===a?(u=6,c=3):(u=7,c=4))},k=function(e,t,n){var i,r,o=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<u&&r===a)){if(s<c)do{_(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(_(e,r,e.bl_tree),s--),_(e,16,e.bl_tree),y(e,s-3,2)):s<=10?(_(e,17,e.bl_tree),y(e,s-3,3)):(_(e,18,e.bl_tree),y(e,s-11,7));s=0,o=r,0===a?(u=138,c=3):r===a?(u=6,c=3):(u=7,c=4)}},I=!1,C=function(e,t,n,i){y(e,0+(i?1:0),3),T(e),b(e,n),b(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},R=C,L=function(e,t,n,i){for(var r=65535&e,o=e>>>16&65535,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(r=r+t[i++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16},j=new Uint32Array(function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),N=function(e,t,n,i){var r=j,o=i+n;e^=-1;for(var a=i;a<o;a++)e=e>>>8^r[255&(e^t[a])];return~e},D={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},F={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},H=function(e){I||(function(){var e,t,o,v,g,b=new Array(16);for(o=0,v=0;v<28;v++)for(l[v]=o,e=0;e<1<<n[v];e++)c[o++]=v;for(c[o-1]=v,g=0,v=0;v<16;v++)for(p[v]=g,e=0;e<1<<i[v];e++)u[g++]=v;for(g>>=7;v<30;v++)for(p[v]=g<<7,e=0;e<1<<i[v]-7;e++)u[256+g++]=v;for(t=0;t<=15;t++)b[t]=0;for(e=0;e<=143;)a[2*e+1]=8,e++,b[8]++;for(;e<=255;)a[2*e+1]=9,e++,b[9]++;for(;e<=279;)a[2*e+1]=7,e++,b[7]++;for(;e<=287;)a[2*e+1]=8,e++,b[8]++;for(E(a,287,b),e=0;e<30;e++)s[2*e+1]=5,s[2*e]=w(e,5);d=new m(a,n,257,286,15),f=new m(s,i,0,30,15),h=new m(new Array(0),r,0,19,7)}(),I=!0),e.l_desc=new v(e.dyn_ltree,d),e.d_desc=new v(e.dyn_dtree,f),e.bl_desc=new v(e.bl_tree,h),e.bi_buf=0,e.bi_valid=0,A(e)},U=R,z=function(e,t,n,i){var r,u,c=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),x(e,e.l_desc),x(e,e.d_desc),c=function(e){var t;for(M(e,e.dyn_ltree,e.l_desc.max_code),M(e,e.dyn_dtree,e.d_desc.max_code),x(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*o[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(u=e.static_len+3+7>>>3)<=r&&(r=u)):r=u=n+5,n+4<=r&&-1!==t?C(e,t,n,i):4===e.strategy||u===r?(y(e,2+(i?1:0),3),P(e,a,s)):(y(e,4+(i?1:0),3),function(e,t,n,i){var r;for(y(e,t-257,5),y(e,n-1,5),y(e,i-4,4),r=0;r<i;r++)y(e,e.bl_tree[2*o[r]+1],3);k(e,e.dyn_ltree,t-1),k(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,c+1),P(e,e.dyn_ltree,e.dyn_dtree)),A(e),i&&T(e)},B=function(e,t,n){return e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(c[n]+256+1)]++,e.dyn_dtree[2*g(t)]++),e.sym_next===e.sym_end},V=function(e){y(e,2,3),_(e,256,a),function(e){16===e.bi_valid?(b(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)},$=F.Z_NO_FLUSH,Y=F.Z_PARTIAL_FLUSH,G=F.Z_FULL_FLUSH,X=F.Z_FINISH,W=F.Z_BLOCK,Z=F.Z_OK,q=F.Z_STREAM_END,K=F.Z_STREAM_ERROR,J=F.Z_DATA_ERROR,Q=F.Z_BUF_ERROR,ee=F.Z_DEFAULT_COMPRESSION,te=F.Z_FILTERED,ne=F.Z_HUFFMAN_ONLY,ie=F.Z_RLE,re=F.Z_FIXED,oe=F.Z_UNKNOWN,ae=F.Z_DEFLATED,se=function(e,t){return e.msg=D[t],t},ue=function(e){return 2*e-(e>4?9:0)},ce=function(e){for(var t=e.length;--t>=0;)e[t]=0},le=function(e){var t,n,i,r=e.w_size;i=t=e.hash_size;do{n=e.head[--i],e.head[i]=n>=r?n-r:0}while(--t);i=t=r;do{n=e.prev[--i],e.prev[i]=n>=r?n-r:0}while(--t)},de=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},fe=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},he=function(e,t){z(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,fe(e.strm)},pe=function(e,t){e.pending_buf[e.pending++]=t},me=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},ve=function(e,t,n,i){var r=e.avail_in;return r>i&&(r=i),0===r?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),n),1===e.state.wrap?e.adler=L(e.adler,t,r,n):2===e.state.wrap&&(e.adler=N(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)},ge=function(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,c=e.window,l=e.w_mask,d=e.prev,f=e.strstart+258,h=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===p&&c[n+a-1]===h&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<f);if(i=258-(f-o),o=f-258,i>a){if(e.match_start=t,a=i,i>=s)break;h=c[o+a-1],p=c[o+a]}}}while((t=d[t&l])>u&&0!=--r);return a<=e.lookahead?a:e.lookahead},be=function(e){var t,n,i,r=e.w_size;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=r+(r-262)&&(e.window.set(e.window.subarray(r,r+r-n),0),e.match_start-=r,e.strstart-=r,e.block_start-=r,e.insert>e.strstart&&(e.insert=e.strstart),le(e),n+=r),0===e.strm.avail_in)break;if(t=ve(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=t,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=de(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=de(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)},ye=function(e,t){var n,i,r,o=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a=0,s=e.strm.avail_in;do{if(n=65535,r=e.bi_valid+42>>3,e.strm.avail_out<r)break;if(r=e.strm.avail_out-r,n>(i=e.strstart-e.block_start)+e.strm.avail_in&&(n=i+e.strm.avail_in),n>r&&(n=r),n<o&&(0===n&&t!==X||t===$||n!==i+e.strm.avail_in))break;a=t===X&&n===i+e.strm.avail_in?1:0,U(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,fe(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(ve(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===a);return(s-=e.strm.avail_in)&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?4:t!==$&&t!==X&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(r=e.window_size-e.strstart,e.strm.avail_in>r&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,r+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),r>e.strm.avail_in&&(r=e.strm.avail_in),r&&(ve(e.strm,e.window,e.strstart,r),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.high_water<e.strstart&&(e.high_water=e.strstart),r=e.bi_valid+42>>3,o=(r=e.pending_buf_size-r>65535?65535:e.pending_buf_size-r)>e.w_size?e.w_size:r,((i=e.strstart-e.block_start)>=o||(i||t===X)&&t!==$&&0===e.strm.avail_in&&i<=r)&&(n=i>r?r:i,a=t===X&&0===e.strm.avail_in&&n===i?1:0,U(e,e.block_start,n,a),e.block_start+=n,fe(e.strm)),a?3:1)},_e=function(e,t){for(var n,i;;){if(e.lookahead<262){if(be(e),e.lookahead<262&&t===$)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=de(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=ge(e,n)),e.match_length>=3)if(i=B(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=de(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=de(e,e.ins_h,e.window[e.strstart+1]);else i=B(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(he(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===X?(he(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(he(e,!1),0===e.strm.avail_out)?1:2},we=function(e,t){for(var n,i,r;;){if(e.lookahead<262){if(be(e),e.lookahead<262&&t===$)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=de(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=ge(e,n),e.match_length<=5&&(e.strategy===te||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=B(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=de(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(he(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=B(e,0,e.window[e.strstart-1]))&&he(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=B(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===X?(he(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(he(e,!1),0===e.strm.avail_out)?1:2};function Ee(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}var Ae=[new Ee(0,0,0,0,ye),new Ee(4,4,8,4,_e),new Ee(4,5,16,8,_e),new Ee(4,6,32,32,_e),new Ee(4,4,16,16,we),new Ee(8,16,32,32,we),new Ee(8,16,128,128,we),new Ee(8,32,128,256,we),new Ee(32,128,258,1024,we),new Ee(32,258,258,4096,we)];function Te(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ae,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),ce(this.dyn_ltree),ce(this.dyn_dtree),ce(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),ce(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),ce(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Oe=function(e){if(!e)return 1;var t=e.state;return!t||t.strm!==e||42!==t.status&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&113!==t.status&&666!==t.status?1:0},Se=function(e){var t,n=function(e){if(Oe(e))return se(e,K);e.total_in=e.total_out=0,e.data_type=oe;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=-2,H(t),Z}(e);return n===Z&&((t=e.state).window_size=2*t.w_size,ce(t.head),t.max_lazy_match=Ae[t.level].max_lazy,t.good_match=Ae[t.level].good_length,t.nice_match=Ae[t.level].nice_length,t.max_chain_length=Ae[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n},Pe=function(e,t,n,i,r,o){if(!e)return K;var a=1;if(t===ee&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),r<1||r>9||n!==ae||i<8||i>15||t<0||t>9||o<0||o>re||8===i&&1!==a)return se(e,K);8===i&&(i=9);var s=new Te;return e.state=s,s.strm=e,s.status=42,s.wrap=a,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=o,s.method=n,Se(e)},xe=function(e,t){if(Oe(e)||t>W||t<0)return e?se(e,K):K;var n=e.state;if(!e.output||0!==e.avail_in&&!e.input||666===n.status&&t!==X)return se(e,0===e.avail_out?Q:K);var i=n.last_flush;if(n.last_flush=t,0!==n.pending){if(fe(e),0===e.avail_out)return n.last_flush=-1,Z}else if(0===e.avail_in&&ue(t)<=ue(i)&&t!==X)return se(e,Q);if(666===n.status&&0!==e.avail_in)return se(e,Q);if(42===n.status&&0===n.wrap&&(n.status=113),42===n.status){var r=ae+(n.w_bits-8<<4)<<8;if(r|=(n.strategy>=ne||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(r|=32),me(n,r+=31-r%31),0!==n.strstart&&(me(n,e.adler>>>16),me(n,65535&e.adler)),e.adler=1,n.status=113,fe(e),0!==n.pending)return n.last_flush=-1,Z}if(57===n.status)if(e.adler=0,pe(n,31),pe(n,139),pe(n,8),n.gzhead)pe(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),pe(n,255&n.gzhead.time),pe(n,n.gzhead.time>>8&255),pe(n,n.gzhead.time>>16&255),pe(n,n.gzhead.time>>24&255),pe(n,9===n.level?2:n.strategy>=ne||n.level<2?4:0),pe(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(pe(n,255&n.gzhead.extra.length),pe(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=N(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(pe(n,0),pe(n,0),pe(n,0),pe(n,0),pe(n,0),pe(n,9===n.level?2:n.strategy>=ne||n.level<2?4:0),pe(n,3),n.status=113,fe(e),0!==n.pending)return n.last_flush=-1,Z;if(69===n.status){if(n.gzhead.extra){for(var o=n.pending,a=(65535&n.gzhead.extra.length)-n.gzindex;n.pending+a>n.pending_buf_size;){var s=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>o&&(e.adler=N(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex+=s,fe(e),0!==n.pending)return n.last_flush=-1,Z;o=0,a-=s}var u=new Uint8Array(n.gzhead.extra);n.pending_buf.set(u.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending+=a,n.gzhead.hcrc&&n.pending>o&&(e.adler=N(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){var c,l=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>l&&(e.adler=N(e.adler,n.pending_buf,n.pending-l,l)),fe(e),0!==n.pending)return n.last_flush=-1,Z;l=0}c=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,pe(n,c)}while(0!==c);n.gzhead.hcrc&&n.pending>l&&(e.adler=N(e.adler,n.pending_buf,n.pending-l,l)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){var d,f=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>f&&(e.adler=N(e.adler,n.pending_buf,n.pending-f,f)),fe(e),0!==n.pending)return n.last_flush=-1,Z;f=0}d=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,pe(n,d)}while(0!==d);n.gzhead.hcrc&&n.pending>f&&(e.adler=N(e.adler,n.pending_buf,n.pending-f,f))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(fe(e),0!==n.pending))return n.last_flush=-1,Z;pe(n,255&e.adler),pe(n,e.adler>>8&255),e.adler=0}if(n.status=113,fe(e),0!==n.pending)return n.last_flush=-1,Z}if(0!==e.avail_in||0!==n.lookahead||t!==$&&666!==n.status){var h=0===n.level?ye(n,t):n.strategy===ne?function(e,t){for(var n;;){if(0===e.lookahead&&(be(e),0===e.lookahead)){if(t===$)return 1;break}if(e.match_length=0,n=B(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(he(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===X?(he(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(he(e,!1),0===e.strm.avail_out)?1:2}(n,t):n.strategy===ie?function(e,t){for(var n,i,r,o,a=e.window;;){if(e.lookahead<=258){if(be(e),e.lookahead<=258&&t===$)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=a[r=e.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){o=e.strstart+258;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<o);e.match_length=258-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=B(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=B(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(he(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===X?(he(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(he(e,!1),0===e.strm.avail_out)?1:2}(n,t):Ae[n.level].func(n,t);if(3!==h&&4!==h||(n.status=666),1===h||3===h)return 0===e.avail_out&&(n.last_flush=-1),Z;if(2===h&&(t===Y?V(n):t!==W&&(U(n,0,0,!1),t===G&&(ce(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),fe(e),0===e.avail_out))return n.last_flush=-1,Z}return t!==X?Z:n.wrap<=0?q:(2===n.wrap?(pe(n,255&e.adler),pe(n,e.adler>>8&255),pe(n,e.adler>>16&255),pe(n,e.adler>>24&255),pe(n,255&e.total_in),pe(n,e.total_in>>8&255),pe(n,e.total_in>>16&255),pe(n,e.total_in>>24&255)):(me(n,e.adler>>>16),me(n,65535&e.adler)),fe(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?Z:q)},Me=function(e){if(Oe(e))return K;var t=e.state.status;return e.state=null,113===t?se(e,J):Z};function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ie=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Ce=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==ke(n))throw new TypeError(n+"must be non-object");for(var i in n)Ie(n,i)&&(e[i]=n[i])}}return e},Re=function(e){for(var t=0,n=0,i=e.length;n<i;n++)t+=e[n].length;for(var r=new Uint8Array(t),o=0,a=0,s=e.length;o<s;o++){var u=e[o];r.set(u,a),a+=u.length}return r},Le=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){Le=!1}for(var je=new Uint8Array(256),Ne=0;Ne<256;Ne++)je[Ne]=Ne>=252?6:Ne>=248?5:Ne>=240?4:Ne>=224?3:Ne>=192?2:1;je[254]=je[254]=1;var De=function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,i,r,o,a=e.length,s=0;for(r=0;r<a;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<a&&56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,r=0;o<s;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<a&&56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},Fe=function(e,t){var n,i,r=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var o=new Array(2*r);for(i=0,n=0;n<r;){var a=e[n++];if(a<128)o[i++]=a;else{var s=je[a];if(s>4)o[i++]=65533,n+=s-1;else{for(a&=2===s?31:3===s?15:7;s>1&&n<r;)a=a<<6|63&e[n++],s--;s>1?o[i++]=65533:a<65536?o[i++]=a:(a-=65536,o[i++]=55296|a>>10&1023,o[i++]=56320|1023&a)}}}return function(e,t){if(t<65534&&e.subarray&&Le)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}(o,i)},He=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+je[e[n]]>t?n:t},Ue=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},ze=Object.prototype.toString,Be=F.Z_NO_FLUSH,Ve=F.Z_SYNC_FLUSH,$e=F.Z_FULL_FLUSH,Ye=F.Z_FINISH,Ge=F.Z_OK,Xe=F.Z_STREAM_END,We=F.Z_DEFAULT_COMPRESSION,Ze=F.Z_DEFAULT_STRATEGY,qe=F.Z_DEFLATED;function Ke(e){this.options=Ce({level:We,method:qe,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ze},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ue,this.strm.avail_out=0;var n=Pe(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Ge)throw new Error(D[n]);if(t.header&&function(e,t){Oe(e)||2!==e.state.wrap||(e.state.gzhead=t)}(this.strm,t.header),t.dictionary){var i;if(i="string"==typeof t.dictionary?De(t.dictionary):"[object ArrayBuffer]"===ze.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=function(e,t){var n=t.length;if(Oe(e))return K;var i=e.state,r=i.wrap;if(2===r||1===r&&42!==i.status||i.lookahead)return K;if(1===r&&(e.adler=L(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){0===r&&(ce(i.head),i.strstart=0,i.block_start=0,i.insert=0);var o=new Uint8Array(i.w_size);o.set(t.subarray(n-i.w_size,n),0),t=o,n=i.w_size}var a=e.avail_in,s=e.next_in,u=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,be(i);i.lookahead>=3;){var c=i.strstart,l=i.lookahead-2;do{i.ins_h=de(i,i.ins_h,i.window[c+3-1]),i.prev[c&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=c,c++}while(--l);i.strstart=c,i.lookahead=2,be(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=s,e.input=u,e.avail_in=a,i.wrap=r,Z}(this.strm,i))!==Ge)throw new Error(D[n]);this._dict_set=!0}}function Je(e,t){var n=new Ke(t);if(n.push(e,!0),n.err)throw n.msg||D[n.err];return n.result}Ke.prototype.push=function(e,t){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;for(i=t===~~t?t:!0===t?Ye:Be,"string"==typeof e?r.input=De(e):"[object ArrayBuffer]"===ze.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(o),r.next_out=0,r.avail_out=o),(i===Ve||i===$e)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if((n=xe(r,i))===Xe)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),n=Me(this.strm),this.onEnd(n),this.ended=!0,n===Ge;if(0!==r.avail_out){if(i>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},Ke.prototype.onData=function(e){this.chunks.push(e)},Ke.prototype.onEnd=function(e){e===Ge&&(this.result=Re(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Qe=Ke,et=Je,tt=function(e,t){var n,i,r,o,a,s,u,c,l,d,f,h,p,m,v,g,b,y,_,w,E,A,T,O,S=e.state;n=e.next_in,T=e.input,i=n+(e.avail_in-5),r=e.next_out,O=e.output,o=r-(t-e.avail_out),a=r+(e.avail_out-257),s=S.dmax,u=S.wsize,c=S.whave,l=S.wnext,d=S.window,f=S.hold,h=S.bits,p=S.lencode,m=S.distcode,v=(1<<S.lenbits)-1,g=(1<<S.distbits)-1;e:do{h<15&&(f+=T[n++]<<h,h+=8,f+=T[n++]<<h,h+=8),b=p[f&v];t:for(;;){if(f>>>=y=b>>>24,h-=y,0==(y=b>>>16&255))O[r++]=65535&b;else{if(!(16&y)){if(!(64&y)){b=p[(65535&b)+(f&(1<<y)-1)];continue t}if(32&y){S.mode=16191;break e}e.msg="invalid literal/length code",S.mode=16209;break e}_=65535&b,(y&=15)&&(h<y&&(f+=T[n++]<<h,h+=8),_+=f&(1<<y)-1,f>>>=y,h-=y),h<15&&(f+=T[n++]<<h,h+=8,f+=T[n++]<<h,h+=8),b=m[f&g];n:for(;;){if(f>>>=y=b>>>24,h-=y,!(16&(y=b>>>16&255))){if(!(64&y)){b=m[(65535&b)+(f&(1<<y)-1)];continue n}e.msg="invalid distance code",S.mode=16209;break e}if(w=65535&b,h<(y&=15)&&(f+=T[n++]<<h,(h+=8)<y&&(f+=T[n++]<<h,h+=8)),(w+=f&(1<<y)-1)>s){e.msg="invalid distance too far back",S.mode=16209;break e}if(f>>>=y,h-=y,w>(y=r-o)){if((y=w-y)>c&&S.sane){e.msg="invalid distance too far back",S.mode=16209;break e}if(E=0,A=d,0===l){if(E+=u-y,y<_){_-=y;do{O[r++]=d[E++]}while(--y);E=r-w,A=O}}else if(l<y){if(E+=u+l-y,(y-=l)<_){_-=y;do{O[r++]=d[E++]}while(--y);if(E=0,l<_){_-=y=l;do{O[r++]=d[E++]}while(--y);E=r-w,A=O}}}else if(E+=l-y,y<_){_-=y;do{O[r++]=d[E++]}while(--y);E=r-w,A=O}for(;_>2;)O[r++]=A[E++],O[r++]=A[E++],O[r++]=A[E++],_-=3;_&&(O[r++]=A[E++],_>1&&(O[r++]=A[E++]))}else{E=r-w;do{O[r++]=O[E++],O[r++]=O[E++],O[r++]=O[E++],_-=3}while(_>2);_&&(O[r++]=O[E++],_>1&&(O[r++]=O[E++]))}break}}break}}while(n<i&&r<a);n-=_=h>>3,f&=(1<<(h-=_<<3))-1,e.next_in=n,e.next_out=r,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=r<a?a-r+257:257-(r-a),S.hold=f,S.bits=h},nt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),it=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),rt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ot=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),at=function(e,t,n,i,r,o,a,s){var u,c,l,d,f,h,p,m,v,g=s.bits,b=0,y=0,_=0,w=0,E=0,A=0,T=0,O=0,S=0,P=0,x=null,M=new Uint16Array(16),k=new Uint16Array(16),I=null;for(b=0;b<=15;b++)M[b]=0;for(y=0;y<i;y++)M[t[n+y]]++;for(E=g,w=15;w>=1&&0===M[w];w--);if(E>w&&(E=w),0===w)return r[o++]=20971520,r[o++]=20971520,s.bits=1,0;for(_=1;_<w&&0===M[_];_++);for(E<_&&(E=_),O=1,b=1;b<=15;b++)if(O<<=1,(O-=M[b])<0)return-1;if(O>0&&(0===e||1!==w))return-1;for(k[1]=0,b=1;b<15;b++)k[b+1]=k[b]+M[b];for(y=0;y<i;y++)0!==t[n+y]&&(a[k[t[n+y]]++]=y);if(0===e?(x=I=a,h=20):1===e?(x=nt,I=it,h=257):(x=rt,I=ot,h=0),P=0,y=0,b=_,f=o,A=E,T=0,l=-1,d=(S=1<<E)-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){p=b-T,a[y]+1<h?(m=0,v=a[y]):a[y]>=h?(m=I[a[y]-h],v=x[a[y]-h]):(m=96,v=0),u=1<<b-T,_=c=1<<A;do{r[f+(P>>T)+(c-=u)]=p<<24|m<<16|v}while(0!==c);for(u=1<<b-1;P&u;)u>>=1;if(0!==u?(P&=u-1,P+=u):P=0,y++,0==--M[b]){if(b===w)break;b=t[n+a[y]]}if(b>E&&(P&d)!==l){for(0===T&&(T=E),f+=_,O=1<<(A=b-T);A+T<w&&!((O-=M[A+T])<=0);)A++,O<<=1;if(S+=1<<A,1===e&&S>852||2===e&&S>592)return 1;r[l=P&d]=E<<24|A<<16|f-o}}return 0!==P&&(r[f+P]=b-T<<24|64<<16),s.bits=E,0},st=F.Z_FINISH,ut=F.Z_BLOCK,ct=F.Z_TREES,lt=F.Z_OK,dt=F.Z_STREAM_END,ft=F.Z_NEED_DICT,ht=F.Z_STREAM_ERROR,pt=F.Z_DATA_ERROR,mt=F.Z_MEM_ERROR,vt=F.Z_BUF_ERROR,gt=F.Z_DEFLATED,bt=16209,yt=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function _t(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var wt,Et,At=function(e){if(!e)return 1;var t=e.state;return!t||t.strm!==e||t.mode<16180||t.mode>16211?1:0},Tt=function(e){if(At(e))return ht;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,function(e){if(At(e))return ht;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=16180,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,lt}(e)},Ot=!0,St=function(e){if(Ot){wt=new Int32Array(512),Et=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(at(1,e.lens,0,288,wt,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;at(2,e.lens,0,32,Et,0,e.work,{bits:5}),Ot=!1}e.lencode=wt,e.lenbits=9,e.distcode=Et,e.distbits=5},Pt=function(e,t,n,i){var r,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):((r=o.wsize-o.wnext)>i&&(r=i),o.window.set(t.subarray(n-i,n-i+r),o.wnext),(i-=r)?(o.window.set(t.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0},xt=Tt,Mt=function(e,t){if(!e)return ht;var n=new _t;e.state=n,n.strm=e,n.window=null,n.mode=16180;var i=function(e,t){var n;if(At(e))return ht;var i=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?ht:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,Tt(e))}(e,t);return i!==lt&&(e.state=null),i},kt=function(e,t){var n,i,r,o,a,s,u,c,l,d,f,h,p,m,v,g,b,y,_,w,E,A,T,O,S=0,P=new Uint8Array(4),x=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(At(e)||!e.output||!e.input&&0!==e.avail_in)return ht;16191===(n=e.state).mode&&(n.mode=16192),a=e.next_out,r=e.output,u=e.avail_out,o=e.next_in,i=e.input,s=e.avail_in,c=n.hold,l=n.bits,d=s,f=u,A=lt;e:for(;;)switch(n.mode){case 16180:if(0===n.wrap){n.mode=16192;break}for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,P[0]=255&c,P[1]=c>>>8&255,n.check=N(n.check,P,2,0),c=0,l=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=bt;break}if((15&c)!==gt){e.msg="unknown compression method",n.mode=bt;break}if(l-=4,E=8+(15&(c>>>=4)),0===n.wbits&&(n.wbits=E),E>15||E>n.wbits){e.msg="invalid window size",n.mode=bt;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&c?16189:16191,c=0,l=0;break;case 16181:for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(n.flags=c,(255&n.flags)!==gt){e.msg="unknown compression method",n.mode=bt;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=bt;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(P[0]=255&c,P[1]=c>>>8&255,n.check=N(n.check,P,2,0)),c=0,l=0,n.mode=16182;case 16182:for(;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(P[0]=255&c,P[1]=c>>>8&255,P[2]=c>>>16&255,P[3]=c>>>24&255,n.check=N(n.check,P,4,0)),c=0,l=0,n.mode=16183;case 16183:for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(P[0]=255&c,P[1]=c>>>8&255,n.check=N(n.check,P,2,0)),c=0,l=0,n.mode=16184;case 16184:if(1024&n.flags){for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(P[0]=255&c,P[1]=c>>>8&255,n.check=N(n.check,P,2,0)),c=0,l=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&((h=n.length)>s&&(h=s),h&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+h),E)),512&n.flags&&4&n.wrap&&(n.check=N(n.check,i,h,o)),s-=h,o+=h,n.length-=h),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===s)break e;h=0;do{E=i[o+h++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E))}while(E&&h<s);if(512&n.flags&&4&n.wrap&&(n.check=N(n.check,i,h,o)),s-=h,o+=h,E)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===s)break e;h=0;do{E=i[o+h++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E))}while(E&&h<s);if(512&n.flags&&4&n.wrap&&(n.check=N(n.check,i,h,o)),s-=h,o+=h,E)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(4&n.wrap&&c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=bt;break}c=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=16191;break;case 16189:for(;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}e.adler=n.check=yt(c),c=0,l=0,n.mode=16190;case 16190:if(0===n.havedict)return e.next_out=a,e.avail_out=u,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,ft;e.adler=n.check=1,n.mode=16191;case 16191:if(t===ut||t===ct)break e;case 16192:if(n.last){c>>>=7&l,l-=7&l,n.mode=16206;break}for(;l<3;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}switch(n.last=1&c,l-=1,3&(c>>>=1)){case 0:n.mode=16193;break;case 1:if(St(n),n.mode=16199,t===ct){c>>>=2,l-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=bt}c>>>=2,l-=2;break;case 16193:for(c>>>=7&l,l-=7&l;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=bt;break}if(n.length=65535&c,c=0,l=0,n.mode=16194,t===ct)break e;case 16194:n.mode=16195;case 16195:if(h=n.length){if(h>s&&(h=s),h>u&&(h=u),0===h)break e;r.set(i.subarray(o,o+h),a),s-=h,o+=h,u-=h,a+=h,n.length-=h;break}n.mode=16191;break;case 16196:for(;l<14;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(n.nlen=257+(31&c),c>>>=5,l-=5,n.ndist=1+(31&c),c>>>=5,l-=5,n.ncode=4+(15&c),c>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=bt;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;l<3;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.lens[x[n.have++]]=7&c,c>>>=3,l-=3}for(;n.have<19;)n.lens[x[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},A=at(0,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,A){e.msg="invalid code lengths set",n.mode=bt;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;g=(S=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,b=65535&S,!((v=S>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(b<16)c>>>=v,l-=v,n.lens[n.have++]=b;else{if(16===b){for(O=v+2;l<O;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(c>>>=v,l-=v,0===n.have){e.msg="invalid bit length repeat",n.mode=bt;break}E=n.lens[n.have-1],h=3+(3&c),c>>>=2,l-=2}else if(17===b){for(O=v+3;l<O;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}l-=v,E=0,h=3+(7&(c>>>=v)),c>>>=3,l-=3}else{for(O=v+7;l<O;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}l-=v,E=0,h=11+(127&(c>>>=v)),c>>>=7,l-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=bt;break}for(;h--;)n.lens[n.have++]=E}}if(n.mode===bt)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=bt;break}if(n.lenbits=9,T={bits:n.lenbits},A=at(1,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,A){e.msg="invalid literal/lengths set",n.mode=bt;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},A=at(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,A){e.msg="invalid distances set",n.mode=bt;break}if(n.mode=16199,t===ct)break e;case 16199:n.mode=16200;case 16200:if(s>=6&&u>=258){e.next_out=a,e.avail_out=u,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,tt(e,f),a=e.next_out,r=e.output,u=e.avail_out,o=e.next_in,i=e.input,s=e.avail_in,c=n.hold,l=n.bits,16191===n.mode&&(n.back=-1);break}for(n.back=0;g=(S=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,b=65535&S,!((v=S>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(g&&!(240&g)){for(y=v,_=g,w=b;g=(S=n.lencode[w+((c&(1<<y+_)-1)>>y)])>>>16&255,b=65535&S,!(y+(v=S>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}c>>>=y,l-=y,n.back+=y}if(c>>>=v,l-=v,n.back+=v,n.length=b,0===g){n.mode=16205;break}if(32&g){n.back=-1,n.mode=16191;break}if(64&g){e.msg="invalid literal/length code",n.mode=bt;break}n.extra=15&g,n.mode=16201;case 16201:if(n.extra){for(O=n.extra;l<O;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;g=(S=n.distcode[c&(1<<n.distbits)-1])>>>16&255,b=65535&S,!((v=S>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(!(240&g)){for(y=v,_=g,w=b;g=(S=n.distcode[w+((c&(1<<y+_)-1)>>y)])>>>16&255,b=65535&S,!(y+(v=S>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}c>>>=y,l-=y,n.back+=y}if(c>>>=v,l-=v,n.back+=v,64&g){e.msg="invalid distance code",n.mode=bt;break}n.offset=b,n.extra=15&g,n.mode=16203;case 16203:if(n.extra){for(O=n.extra;l<O;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=bt;break}n.mode=16204;case 16204:if(0===u)break e;if(h=f-u,n.offset>h){if((h=n.offset-h)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=bt;break}h>n.wnext?(h-=n.wnext,p=n.wsize-h):p=n.wnext-h,h>n.length&&(h=n.length),m=n.window}else m=r,p=a-n.offset,h=n.length;h>u&&(h=u),u-=h,n.length-=h;do{r[a++]=m[p++]}while(--h);0===n.length&&(n.mode=16200);break;case 16205:if(0===u)break e;r[a++]=n.length,u--,n.mode=16200;break;case 16206:if(n.wrap){for(;l<32;){if(0===s)break e;s--,c|=i[o++]<<l,l+=8}if(f-=u,e.total_out+=f,n.total+=f,4&n.wrap&&f&&(e.adler=n.check=n.flags?N(n.check,r,f,a-f):L(n.check,r,f,a-f)),f=u,4&n.wrap&&(n.flags?c:yt(c))!==n.check){e.msg="incorrect data check",n.mode=bt;break}c=0,l=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(4&n.wrap&&c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=bt;break}c=0,l=0}n.mode=16208;case 16208:A=dt;break e;case bt:A=pt;break e;case 16210:return mt;default:return ht}return e.next_out=a,e.avail_out=u,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,(n.wsize||f!==e.avail_out&&n.mode<bt&&(n.mode<16206||t!==st))&&Pt(e,e.output,e.next_out,f-e.avail_out),d-=e.avail_in,f-=e.avail_out,e.total_in+=d,e.total_out+=f,n.total+=f,4&n.wrap&&f&&(e.adler=n.check=n.flags?N(n.check,r,f,e.next_out-f):L(n.check,r,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(16191===n.mode?128:0)+(16199===n.mode||16194===n.mode?256:0),(0===d&&0===f||t===st)&&A===lt&&(A=vt),A},It=function(e){if(At(e))return ht;var t=e.state;return t.window&&(t.window=null),e.state=null,lt},Ct=function(e,t){var n,i=t.length;return At(e)||0!==(n=e.state).wrap&&16190!==n.mode?ht:16190===n.mode&&L(1,t,i,0)!==n.check?pt:Pt(e,t,i,i)?(n.mode=16210,mt):(n.havedict=1,lt)},Rt=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Lt=Object.prototype.toString,jt=F.Z_NO_FLUSH,Nt=F.Z_FINISH,Dt=F.Z_OK,Ft=F.Z_STREAM_END,Ht=F.Z_NEED_DICT,Ut=F.Z_STREAM_ERROR,zt=F.Z_DATA_ERROR,Bt=F.Z_MEM_ERROR;function Vt(e){this.options=Ce({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ue,this.strm.avail_out=0;var n=Mt(this.strm,t.windowBits);if(n!==Dt)throw new Error(D[n]);if(this.header=new Rt,function(e,t){if(At(e))return ht;var n=e.state;2&n.wrap&&(n.head=t,t.done=!1)}(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=De(t.dictionary):"[object ArrayBuffer]"===Lt.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Ct(this.strm,t.dictionary))!==Dt))throw new Error(D[n])}function $t(e,t){var n=new Vt(t);if(n.push(e),n.err)throw n.msg||D[n.err];return n.result}Vt.prototype.push=function(e,t){var n,i,r,o=this.strm,a=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(i=t===~~t?t:!0===t?Nt:jt,"[object ArrayBuffer]"===Lt.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;;){for(0===o.avail_out&&(o.output=new Uint8Array(a),o.next_out=0,o.avail_out=a),(n=kt(o,i))===Ht&&s&&((n=Ct(o,s))===Dt?n=kt(o,i):n===zt&&(n=Ht));o.avail_in>0&&n===Ft&&o.state.wrap>0&&0!==e[o.next_in];)xt(o),n=kt(o,i);switch(n){case Ut:case zt:case Ht:case Bt:return this.onEnd(n),this.ended=!0,!1}if(r=o.avail_out,o.next_out&&(0===o.avail_out||n===Ft))if("string"===this.options.to){var u=He(o.output,o.next_out),c=o.next_out-u,l=Fe(o.output,u);o.next_out=c,o.avail_out=a-c,c&&o.output.set(o.output.subarray(u,u+c),0),this.onData(l)}else this.onData(o.output.length===o.next_out?o.output:o.output.subarray(0,o.next_out));if(n!==Dt||0!==r){if(n===Ft)return n=It(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===o.avail_in)break}}return!0},Vt.prototype.onData=function(e){this.chunks.push(e)},Vt.prototype.onEnd=function(e){e===Dt&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Re(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Yt=Qe,Gt=et,Xt=function(e,t){return(t=t||{}).raw=!0,Je(e,t)},Wt=function(e,t){return(t=t||{}).gzip=!0,Je(e,t)},Zt=Vt,qt=$t,Kt=function(e,t){return(t=t||{}).raw=!0,$t(e,t)},Jt=$t,Qt=F,en={Deflate:Yt,deflate:Gt,deflateRaw:Xt,gzip:Wt,Inflate:Zt,inflate:qt,inflateRaw:Kt,ungzip:Jt,constants:Qt};e.Deflate=Yt,e.Inflate=Zt,e.constants=Qt,e.default=en,e.deflate=Gt,e.deflateRaw=Xt,e.gzip=Wt,e.inflate=qt,e.inflateRaw=Kt,e.ungzip=Jt,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){(t=n(4)(!1)).push([e.i,"html, body {\n    margin: 0;\n    height: 100%;\n} \n",""]),e.exports=t},function(e,t,n){var i=n(1).app,r=n(0).expand;e.exports=function(e,t){var o=e.json,a=n(7),s={dpl:[],def:[],preferredViews:[],sheets:{},options:{},metadata:{},info:[]},u=o.$("ipc/figure/dplist/item").map((function(e){return e.$attr("id")})),c={};(i.modelInfo||{sheets:o.$("ipc/figure/views/view").filter((function(e){return 0==+e.$attr("hidden")})).map((function(e){return{id:e.$attr("id")}}))}).sheets.forEach((function(e){var n=o.$("ipc/figure/views/view").filter((function(t){return t.$attr("id")===e.id}))[0],i=r(e,{changed:!!+n.$attr("changed"),items:n.$("refItem").map((function(e){return u.indexOf(e.$attr("ref"))})).sort((function(e,t){return e-t}))}),a=n.$("refmedia").filter((function(e){return 1!=e.$attr("ref")}));if(a.length>0){var s=a[0].$attr("ref"),l=o.$("ipc/figure/media").filter((function(e){return e.$attr("id")==s}))[0].$attr("src");i.drawing=t+l}c[e.id]=i}));var l=n(10)(o),d=a(o.$("ipc/figure/metadata/value")),f=o.$("ipc/figure/dplist/item").map((function(e,t,n){for(var i=g(e)-1,r=-1,o=t-1;o>=0;o--){var a=+v(n[o],"ASP")||0,s=+v(n[o],"_301F121F8EF84EC0B9979C8D10D19A79")||0;if(1!==a&&0===s&&g(n[o])===i)break}for(;o>=0;o--)if(g(n[o])===i&&!+v(n[o],"NIL")){r=o;break}return r})),h=o.$("ipc/figure/dplist/item").map((function(e,t){var n={row:t},i=e.$("metadata/value");n.id=e.$attr("id"),n.metadata=a(i),n.part={},n.part.id=e.$attr("refPart");var r=o.$("ipc/parts/part").reduce((function(e,t){return t.$attr("id")==n.part.id?t:e})).$("metadata/value");return n.part.metadata=a(r),n.roles=new Array(8),i.concat(r).forEach((function(e){var t=+e.$attr("role");t&&(n.roles[t]=e.$text())})),n.sheetId=e.refview?e.refview.$attr("ref"):"",n.screentip=e.tooltip?e.$text("tooltip"):"",n.callout=e.callout?e.$text("callout"):"",n.objectNames=e.$("refmedia").filter((function(e){return 1==e.$attr("ref")})).map((function(e){return e.$text()})),n.commands=e.$("commands/command").map((function(e){var t={};return e.$("value").forEach((function(e){t[e.$attr("name")]=e.$text()})),{id:e.$attr("id"),type:e.$attr("type"),args:e.$("value").map((function(e){return e.$text()})),values:t}})),n}));function p(e){return String(e).replace(/(^\s+|\s+$)/g,"").replace(/^0+(\d)/,"$1")}function m(e){s.dpl||(s.dpl=o.$("ipc/figure/dplist/item").map((function(t,n){var i;return"function"==typeof e.willGetCSNString?i=e.willGetCSNString(h[n],n):h[n].callout?i=h[n].callout:(i=h[n].roles[3]||"",i+=h[n].roles[4]||""),i})))}function v(e,t){return e.$("metadata/value").filter((function(e){return e.$attr("decl-id")==t})).reduce((function(e,t){return e+t.$text()}),"")}function g(e){var t=e.$("metadata/value").filter((function(e){return 5==e.$attr("role")}));return t.length>0&&(t=+t[0].$text()||0),t}return s={info:h,def:o.$("ipc/figure/dplist/item").map((function(e,t){return h[t].objectNames})),preferredViews:o.$("ipc/figure/dplist/item").map((function(e,t){return h[t].sheetId})),sheets:c,options:l,metadata:d,parent:f,children:f.map((function(e,t,n){return n.reduce((function(e,n,i,r){return n===t?e.concat(i):e}),[])}))},{interactivity:{getRowByIndex:function(e){var t=i.ipc.getCurrentSheet().id;return s.sheets[t].items[e]},getIndexByRow:function(e){var t=i.ipc.getCurrentSheet().id;return s.sheets[t].items.indexOf(e)},getRowByItem:function(e){m(this);var t,n=p(e);for(t=s.dpl.length-1;t>=0&&p(s.dpl[t])!==n;t--);return t},getItemByRow:function(e){return m(this),s.dpl[e]},getIndexByItem:function(e){return this.getIndexByRow(this.getRowByItem(e))},getItemByIndex:function(e){return this.getItemByRow(this.getRowByIndex(e))},getRowByObjectName:function(e){var t,n=s.def;for(t=n.length-1;t>=0&&!(n[t].indexOf(e)>=0);t--);return t},getObjectsNamesByRow:function(e){return s.def[e]},getDrawingForIPCView:function(e){e=e||i.ipc.currentSheetInfo.id;var t=s.sheets[e];return t&&t.drawing||""},getSheetInfo:function(e){return e=e||i.ipc.currentSheetInfo.id,s.sheets[e]},getOptions:function(){return s.options},getProjectMetadata:function(){return s.metadata},getScreenTip:function(e){var t=this.getRowByIndex(e);return this.getItemInfo(t).screentip},getPrefferedSheetId:function(e){var t=this.getRowByIndex(e);return this.getItemInfo(t).sheetId},getItemInfo:function(e){return s.info[e]},getParent:function(e){return s.parent[e]},getChildren:function(e,t){var n=[],i=s.children[e],r=this;return t?i.forEach((function(e){n.push(e),n=n.concat(r.getChildren(e,t))})):n=i,n}}}}},function(e,t,n){n(1).app,e.exports=function(e,t){var i=e.json,r=n(7),o={defs:{},docitems:{},procedureItems:{},options:{},metadata:{}};i.$("SimulationInteractivity/DocItems/DocItem").forEach((function(e){var t=e.$attr("id"),n={},i={};e.$("metadata/value").forEach((function(e){var t=e.$text();n[e.$attr("name")]=t,n["{"+e.$attr("decl-id")+"}"]=t,i[e.$attr("decl-id")]=t})),o.defs[t]=n;var r=n["{DocID}"];o.docitems[r]||(o.docitems[r]={id:r,objectNames:[],metadata:i,screentip:e.$text("tooltip")}),o.docitems[r].objectNames.push(t)})),o.pictures=i.$("SimulationInteractivity/Resources/Picture").map((function(e){return{description:e.$attr("descr"),drawing:t+e.$text(),flags:e.$attr("flags")||0}})),o.options=n(10)(i),o.metadata=r(i.$("SimulationInteractivity/SimulationInformation/metadata/value")),o.procedureId=i.SimulationInteractivity.Simulation&&(i.SimulationInteractivity.Simulation.$attr("id")||s(i.SimulationInteractivity.Simulation));var a=1;function s(e){var t="_generic_id-"+a;return a++,e["@attributes"]||(e["@attributes"]={}),e["@attributes"].id=t,t}function u(e,t){var n,r="";if((t=t||i.SimulationInteractivity.Simulation).$attr("id")!=e){if(t.Step){var o=t.$("Step");for(n=0;n<o.length&&!r;n++)r=u(e,o[n])}else if(t.Substep){var a=t.$("Substep");for(n=0;n<a.length&&!r;n++)r=u(e,a[n])}}else r=t.$text("Description");return r}function c(e,t){var n=e.$attr("id")||s(e);o.procedureItems[n]={id:n,type:"event",description:e.$text("Description"),eventType:e.$text("Type").toUpperCase(),parent:t}}return i.SimulationInteractivity.Procedure&&(i.SimulationInteractivity.Procedure["@attributes"]||(i.SimulationInteractivity.Procedure["@attributes"]={}),i.SimulationInteractivity.Procedure["@attributes"].id=o.procedureId,function e(t,n){var r,a=t.$attr("id")||s(t),l={id:a,comment:t.$text("Comment"),description:u(a),children:t.$("Item").map((function(e){return e.$attr("id")||s(e)})),actions:t.$("Action").map((function(e){return e.$attr("id")||s(e)})),metadata:t.$("metadata/value").reduce((function(e,t){return e[t.$attr("decl-id")]=t.$text(),e}),{}),raw:t};if(l.type=l.children.length+l.actions.length>0||"Action"!==t["@name"]?"step":"action",n&&(l.parent=n),"action"==l.type){delete l.children,delete l.actions;var d=i.$("SimulationInteractivity/Simulation/Step");for(r=0;r<d.length;r++){var f=d[r],h=f.$("Substep").filter((function(e){return e.$attr("id")==a}));if(h.length>0){l.parentStep=f.$attr("id"),l.events=h[0].$("Event").map((function(e){return c(e,a),e.$attr("id")}));break}}}o.procedureItems[a]=l,t.$("Action").forEach((function(t){e(t,a)})),t.$("Item").forEach((function(t){e(t,a)}))}(i.SimulationInteractivity.Procedure),o.procedureItems[o.procedureId].type="procedure",o.procedureItems[o.procedureId].comment=i.$text("SimulationInteractivity/Simulation/Comment")),{interactivity:{getProcedureId:function(){return o.procedureId},getDrawings:function(){return o.pictures},getDocIdByObjectName:function(e){var t=o.defs[e];return t?t["{DocID}"]:null},getObjectNamesByDocId:function(e){var t=o.docitems[e];return t?t.objectNames:[]},getDocItemInfo:function(e){return o.docitems[e]},getDocItemMetadata:function(e){return o.defs[e]},getDocItems:function(){var e=[];for(var t in o.docitems)e.push(t);return e},getProcedureItemInfo:function(e){return o.procedureItems[e]},getOptions:function(){return o.options},getProjectMetadata:function(){return o.metadata}}}}},function(e,t,n){var i=n(3),r=n(39);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(4)(!1)).push([e.i,".tiramisu-panel-group {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\twidth: 100%;\n\theight: 100%; \n\toverflow: hidden;\n\tvisibility: hidden;\n}\n.tiramisu-panel {\n\tposition: absolute; \n\tbox-sizing: border-box;\n\toverflow: hidden; \n\tpointer-events: none;\n\tfont-family: serif;\n\tfont-size: 10pt;\n\tpadding: 0;\n\tmargin: 0;\n\tborder-style: solid;\n\ttransform-style: preserve-3d;\n}\n.tiramisu-panel > div {\n\tposition: relative;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n}\n.tiramisu-panel > div > img {\n\tdisplay: block;\n\theight: auto;\n\tmax-height: 100%;\n\tmax-width: 100%;\n\tmargin: auto;\n\tposition: relative;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n}\n.tiramisu-panel > div > canvas {\n\tdisplay: block;\n\tmax-height: 100%;\n\tmax-width: 100%;\n\tmargin: auto;\n\tposition: relative;\n\ttop: 50%;\n\ttransform: translateY(-50%) scale(1, -1);\n}\n.tiramisu-panel p {\n\tmargin: 0;\n\tpadding: 0;\n}\n.tiramisu-panel a {\n\tpointer-events: auto;\n}\n.tiramisu-panel-measure {\n\tposition: absolute; \n\tfont-family: serif;\n\tfont-size: 10pt;\n\tvisibility: hidden;\n\tpadding: 0;\n\tmargin: 0;\n\tleft: 0;\n\ttop: 0;\n}\n\n.tiramisu-banner {\n\tposition: absolute;\n\tright: 8px;\n\tbottom: 8px;\n\toverflow: hidden;\n\tvisibility: visible;\n\tpointer-events: none;\n\tpadding: 0;\n\tmargin: 0;\n\tz-index: 10;\n}\n\n.tiramisu-speaker {\n\tposition: absolute;\n\tvisibility: visible;\n\tdisplay: block-inline;\n\tz-index: 100;\n\tbackground-color: rgba(240,240,240,0.5);\n\tborder-radius: 50%;\n\tpadding: 6px;\n\tbottom: 8px; \n\tleft: 8px;\n\twidth: 26px;\n\theight: 26px;\n\tpointer-events: none;\t\n\topacity: 0;\n\ttransition: opacity 0.3s ease-in-out;\n}\n.tiramisu-speaker div {\n\twidth: 0;\n\theight: 0;\n\tborder: 6px solid transparent;\n\tborder-right-color: inherit;\n\tborder-left: none;\n\tbox-shadow: inset 10px 0;\n\tdisplay: inline-block;\n\tpadding: 5px 3px;\n\tmargin: 2px;\n}\n.tiramisu-speaker span {\n\tposition: absolute;\n\tdisplay: inline-block;\n\tborder: 1px solid transparent;\n\tborder-right: 1px solid #444;\n\tborder-radius: 50%;\n\tmargin: auto;\n\ttop: 0;\n\tbottom: 0;\n\tright: 0;\n\tanimation: tiramisu-wave-animation 1s linear 0s infinite alternate;\n}\n.tiramisu-speaker span:nth-child(2) {\n\twidth: 13px;\n\theight: 13px;\n\tleft: 1px;\n}\n.tiramisu-speaker span:nth-child(3) {\n\twidth: 19px;\n\theight: 19px;\n\tleft: 1px;\n\tanimation-delay: 300ms;\n}\n.tiramisu-speaker span:last-child {\n\twidth: 25px;\n\theight: 25px;\n\tleft: 0;\n\tanimation-delay: 600ms;\n}\n@keyframes tiramisu-wave-animation {\n\tfrom { opacity: 1; }\n\tto { opacity: 0.1; }\n}\n\n",""]),e.exports=t},function(e,t,n){var i=n(3),r=n(41);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(4)(!1)).push([e.i,".cortona3dsolo-canvas {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    display: block;\n}\n\n.cortona3dsolo-popover {\n    touch-action: none;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n            user-select: none;\n}\n\n.tiramisu-speaker {\n    display: inline-block;\n    box-sizing: content-box;\n}\n\n.tiramisu-panel {\n    white-space: normal;\n    word-wrap: break-word;\n}\n\n.dpl-table {\n    -webkit-touch-callout: none !important;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n            user-select: none;\n}\n\n/* IPC */\n.dpl-table {width: 100%; padding: 0; border-spacing: 0; border-collapse: collapse; cursor: default; border: 1px solid grey;}\n.dpl-table td {padding: 4px; vertical-align: top; border-right: 1px solid grey;}\n.dpl-table thead {font-size: 10pt;}\n.dpl-table tbody {margin: 0; padding: 0; font-size: 10pt;}\n.dpl-table thead td {border-bottom: 1px solid grey; \n\tbackground: linear-gradient(to bottom, #FFFFFF 0%, #F8F8F8 100%);}\n.dpl-table tbody td {}\n.dpl-table tbody tr.selected {\n\tbackground: linear-gradient(to bottom, #abd3ee 0%,#89c3eb 100%);\n}\n.dpl-table tbody td.hover {background-color: #C8E8FF;}\n.dpl-table tbody tr.hidden {display: none;}\n.dpl-table thead pre {font-family: sans; padding: 0; margin: 0;}\n.dpl-table td.strut {padding: 0 4px;}\n.dpl-table td.strut div {height: 1px; overflow: hidden; white-space: nowrap;}\n.dpl-table tr {transition: all 0.3s;}\n.dpl-table tr:hover, .dpl-table tr.hover {background-color: #C8E8FF;}\n.dpl-table td:last-of-type {border-right: 0;}\n.dpl-table tr:last-child td {border-bottom: 1px solid grey;}\n.dpl-table pre, pre.dpl-table-measure {margin-top:0; margin-bottom:0;}\n\n.dpl-checkbox {padding: 0; margin: 0 0.4em 0 0; display: inline;}\n.dpl-checkbox:hover {color: #367ebd;}\n\n/* PROCEDURE */\n.tiramisu-proc-title {display: block; padding: 4px; margin-bottom: 2px; font-weight: bold; cursor: default;}\n.tiramisu-proc-item {display: block; padding: 4px; margin-bottom: 2px; border-radius: 10px; border: 1px solid transparent;\n\ttransition: background-color .3s ease-out, border-color .3s ease-out; cursor: default;}\n.tiramisu-proc-item.highlighted {background-color: #E5F4FF; border: 1px solid #C8E8FF;}\n.tiramisu-proc-item.selected {background-color: #C8E8FF; border: 1px solid #80A2BC;}\n.tiramisu-proc-item:hover {background-color: #E5F4FF; border: 1px solid #C8E8FF;}\n.tiramisu-proc-item.selected:hover {background-color: #A3DAFF; border: 1px solid #80A2BC;}\n.tiramisu-proc-item-number {display: table-cell; width: 24px; padding-right: 6pt; cursor: default;}\n.tiramisu-proc-item-content {display: table-cell; width: 100%; cursor: default;}\n.thumbnail {max-width:100%; max-height:100%; margin-top: 3pt;}\n",""]),e.exports=t},function(e,t,n){var i=n(2),r=Module.Tiramisu,o=n(1).app;(0,n(0).expand)(r,{procedure:{didFireEvent:function(e,t,n,r){i.dispatch("app.procedure.didFireEvent",e,t,n,r)},didChangePlayerState:function(e,t){i.dispatch("app.procedure.didChangePlayerState",e,t)},didEnterSubstep:function(e){i.dispatch("app.procedure.didEnterSubstep",e)},didEnterSubstepWithName:function(e){i.dispatch("app.procedure.didEnterSubstepWithName",e)}}});var a={procedure:{seekToSubstep:function(e,t){Module.ccall("procedure_seekToSubstep","null",["string","number"],[e,"number"==typeof t?t:-1])},setPlaybackSpeed:function(e){Module.ccall("procedure_setPlaybackSpeed","null",["number"],arguments)},freezeCamera:function(e){Module.ccall("procedure_freezeCamera","null",["number"],arguments)},setPlayPosition:function(e,t){Module.ccall("procedure_setPlayPosition","null",["number","number"],arguments)},backward:function(e){Module.ccall("procedure_backward","null",["number"],["number"==typeof e?e:-1])},forward:function(e){Module.ccall("procedure_forward","null",["number"],["number"==typeof e?e:-1])},stop:function(){Module.ccall("procedure_stop","null")},play:function(e){Module.ccall("procedure_play","null",["number"],arguments)},pause:function(){Module.ccall("procedure_pause","null")},setPlayRange:function(e,t,n){Module.ccall("procedure_setPlayRange","null",["string","string","number"],[e,t||e,n||0]),i.dispatch("app.procedure.didChangePlayRange",Module._procedure_getPlayableRangeStartTime(),Module._procedure_getPlayableRangeStopTime())},getPlayableRangeStartTime:function(){return Module.ccall("procedure_getPlayableRangeStartTime","number")},getPlayableRangeStopTime:function(){return Module.ccall("procedure_getPlayableRangeStopTime","number")},requestPlayerState:function(){Module.ccall("procedure_requestPlayerState","null")},getOptions:function(){return o.getOptions()},getOption:function(e){return o.getOption(e)},setPlayableItemList:function(e){var t,n,r=e?e.length:0,o=0,a=stackSave();if(r)for(o=stackAlloc(4*r),t=0;t<r;++t)setValue(o+4*t,allocate(intArrayFromString(e[t]),"i8",ALLOC_STACK),"*");return n=Module._procedure_setPlayableItemList(o,r),stackRestore(a),n&&i.dispatch("app.procedure.didChangePlayableItemList",Module._procedure_getDuration(),e),0!==n}}};Object.defineProperty(a.procedure,"defaultSeekMode",{get:function(){return Module._procedure_getDefaultSeekMode()},set:function(e){Module._procedure_setDefaultSeekMode(e)},enumerable:!0,configurable:!0}),Object.defineProperty(a.procedure,"duration",{get:function(){return Module._procedure_getDuration()},enumerable:!0,configurable:!0}),Object.defineProperty(a.procedure,"RANGE_FLAGS_SEEK_TO_START",{value:1,writable:!1}),Object.defineProperty(a.procedure,"RANGE_FLAGS_SEEK_TO_END",{value:2,writable:!1}),Object.defineProperty(a.procedure,"RANGE_FLAGS_REQUEST_NOTIFICATION",{value:4,writable:!1}),Object.defineProperty(a.procedure,"RANGE_FLAGS_DO_NOT_RECALCULATE_POSITION",{value:8,writable:!1}),Object.defineProperty(a.procedure,"SEEK_DEFAULT",{value:-1,writable:!1}),Object.defineProperty(a.procedure,"SEEK_TO_BEGIN",{value:0,writable:!1}),Object.defineProperty(a.procedure,"SEEK_TO_CUE_POINT",{value:1,writable:!1}),Object.defineProperty(a.procedure,"SEEK_TO_END",{value:2,writable:!1}),Object.defineProperty(a.procedure,"RANGE_VALUE_CURRENT_STEP",{value:"%%CURRENT_STEP%%",writable:!1}),Object.defineProperty(a.procedure,"RANGE_VALUE_CURRENT_SUBSTEP",{value:"%%CURRENT_SUBSTEP%%",writable:!1}),e.exports={app:a}},function(e,t,n){var i=n(2),r=Module.Tiramisu,o=n(1).app,a=n(0).expand,s=n(1).checkConfigureOptions,u=n(1).usedModules,c={};function l(e){var t,n=getValue(e,"i32"),i=new Array(n);for(t=1;t<=n;++t)i[t-1]=getValue(e+4*t,"i32");return i}i.once("app.didAttachDocument",(function(e){"ipc"==e.type&&(e.sheets,delete(c=a({},e.sheet)).drawing,i.once("app.firstFrameDidArrive",(function(){r.ipc.didSelectSheet(c)})),u.core.config.ipcHoverColor&&(o.hoverColor=u.core.config.ipcHoverColor),u.core.config.ipcSelectionColor&&(o.selectionColor=u.core.config.ipcSelectionColor))})),a(r,{ipc:{didSelectSheet:function(e){o.ipc.interactivity&&(e.drawing=o.ipc.interactivity.getDrawingForIPCView(e.id)),o.drawing&&o.drawing.load(e.drawing).catch((function(){s(o.ENABLE_AUTO_SWITCHING_DISPLAY_MODE)&&o.ui.isDrawingDisplayMode()&&o.ipc.toggleDrawingDisplayMode()})),c=e,i.dispatch("app.ipc.didSelectSheet",e)},didHoverItem:function(e,t){i.dispatch("app.ipc.didHoverItem",e,l(t))},didSelectItem:function(e,t){i.dispatch("app.ipc.didSelectItem",e,l(t))},didChangeItemVisibility:function(e,t,n){var r,o=new Array(n);for(r=0;r<n;++r)o[r]=getValue(t+4*r,"i32");i.dispatch("app.ipc.didChangeItemVisibility",e,o)},willStartSheetTransitionAnimation:function(e){i.dispatch("app.ipc.willStartSheetTransitionAnimation",e.id)},didStopSheetTransitionAnimation:function(e){i.dispatch("app.ipc.didStopSheetTransitionAnimation",e.id)}}});var d={ipc:{setCurrentSheet:function(e,t){Module.ccall("ipc_setCurrentSheet","null",["string","number"],[e,!o.ui.isDrawingDisplayMode()&&t])},toggleItemVisibility:function(e){Module.ccall("ipc_toggleItemVisibility","null",["number"],arguments)},selectItem:function(e,t){return l(Module.ccall("ipc_selectItem","number",["number"],[e,void 0===t||t]))},hoverItem:function(e,t){return l(Module.ccall("ipc_hoverItem","null",["number"],[e,void 0===t||t]))},selectObject:function(e,t,n){Module._ipc_selectObject(e,t,n)},resetCurrentSheet:function(e){o.drawing&&n(5).getSVGViewer().reset(e),Module.ccall("ipc_resetCurrentSheet","null",["number"],arguments)},getItemWithHotspot:function(e){return Module.ccall("ipc_getItemWithHotspot","number",["string"],arguments)},getCurrentSheet:function(){return c},toggleDrawingDisplayMode:function(e){return!!o.drawing&&(e=void 0===e?!o.drawing.isVisible():e,o.drawing.show(e),o.ui.showCanvas(!e),i.dispatch("app.ipc.didDrawingDisplayMode",e),e)},makeItemSnapshot:function(e,t,n){var i=Module._ipc_makeItemSnapshot(e,t,n);if(!i)return null;t=Module.HEAP32[i>>2],n=Module.HEAP32[1+(i>>2)];var r=document.createElement("canvas"),o=r.getContext("2d"),a=o.createImageData(t,n);return a.data.set(Module.HEAPU8.subarray(i+8,i+8+t*n*4)),r.width=t,r.height=n,o.putImageData(a,0,0),Module._free(i),r.toDataURL()}}};Object.defineProperty(d.ipc,"currentSheetInfo",{get:function(){return c},enumerable:!0}),Object.defineProperties(d.ipc,{sheetTransitionRate:{get:function(){return 1/getValue(Module._ipc_getSheetTransitionAnimationDurations()+4,"float")},set:function(e){e>0&&Module._ipc_setSheetTransitionAnimationDurations(1/e,1/e)},enumerable:!0},DEFAULT_TRANSITION_STEP_DURATION:{value:1,enumerable:!0}}),Object.defineProperties(d.ipc,{hasTransitionAnimation:{get:function(){return!!Module._ipc_hasTransitionAnimation()},enumerable:!0},transitionAnimationFraction:{get:function(){return Module._ipc_getTransitionAnimationFraction()},set:function(e){Module._ipc_setTransitionAnimationFraction(e)},enumerable:!0},transitionAnimationType:{get:function(){return Module._ipc_getTransitionAnimationType()},set:function(e){Module._ipc_setTransitionAnimationType(e)},enumerable:!0},"TRANSITION_ANIMATION_TYPE_FROM_TOP_LEVEL_PARENT ":{value:0,enumerable:!0},"TRANSITION_ANIMATION_TYPE_FROM_PARENT ":{value:1,enumerable:!0},"TRANSITION_ANIMATION_TYPE_LAST_ANIMATION ":{value:2,enumerable:!0}}),Object.defineProperty(d.ipc,"selectOnlyClickedObject",{get:function(){return!!Module._ipc_getSelectOnlyClickedObject()},set:function(e){Module._ipc_setSelectOnlyClickedObject(e)},enumerable:!0}),d.ipc.dpl=n(44),e.exports={app:d}},function(e,t,n){var i=n(2),r=(n(1).app,n(0)),o=-1,a={dpl:{setupTable:function(e){if(i.dispatch("app.ipc.dpl.willSetupTable",e),e){var t,n;o=-1;var r=function(t){var n=+this.getAttribute("data-index"),r=e,o=r.getBoundingClientRect(),a=t.clientX-o.left,s=t.clientY-o.top;i.dispatch("app.ipc.dpl.didCallContextMenu",n,a,s,r)};Array.prototype.slice.call(e.rows).forEach((function(e){if(e.id){var o=+e.id.substring(3);e.setAttribute("data-index",o),e.onmouseover=function(e){clearTimeout(t);var r=+this.getAttribute("data-index");n!==r&&(n=null,i.dispatch("app.ipc.dpl.didHoverRow",r))},e.onmouseout=function(e){n=+this.getAttribute("data-index"),clearTimeout(t),t=setTimeout((function(){i.dispatch("app.ipc.dpl.didHoverRow",-1),n=null}),10)},e.onclick=function(e){var t=+this.getAttribute("data-index"),n=+(e.shiftKey&&1)|+(e.ctrlKey&&2)|+(e.altKey&&4),r=this;this.__debounceTimeout?(clearTimeout(this.__debounceTimeout),delete this.__debounceTimeout):this.__debounceTimeout=setTimeout((function(){delete r.__debounceTimeout,i.dispatch("app.ipc.dpl.didSelectRow",t,n)}),250)},e.oncontextmenu=function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),this.__pointerDown||r.call(this,e)},e.onpointerdown=function(e){"mouse"!=e.pointerType&&e.isPrimary&&(this.__pointerDown=!0,this.__pressTimeout=setTimeout(function(){delete this.__pressTimeout,r.call(this,e)}.bind(this),750))},e.onpointerout=function(e){"mouse"!=e.pointerType&&e.isPrimary&&(clearTimeout(this.__pressTimeout),delete this.__pressTimeout,setTimeout(function(){delete this.__pointerDown}.bind(this),100))},i.dispatch("app.ipc.dpl.didSetupRow",e,o)}}))}i.dispatch("app.ipc.dpl.didSetupTable",e)},hoverRow:function(e){var t;o>=0&&(t=document.getElementById("row"+o))&&t.classList.remove("hover"),e>=0&&(t=document.getElementById("row"+e))&&t.classList.add("hover"),o=e},highlightRow:function(e,t){t=void 0===t||t,r.toggleClass(document.getElementById("row"+e),"hover",t)},selectRow:function(e,t){t=void 0===t||t,r.toggleClass(document.getElementById("row"+e),"selected",t)},toggleRow:function(e,t){var n=document.getElementById("row"+e);n&&(t=void 0===t?n.classList.contains("hidden"):t,r.toggleClass(n,"hidden",!t))}}};e.exports=a.dpl},function(e,t,n){var i=n(21);function r(){if(4==arguments.length)this.x=arguments[0],this.y=arguments[1],this.z=arguments[2],this.angle=arguments[3];else if(2==arguments.length)if("number"==typeof arguments[1])this.setAxis(arguments[0]),this.angle=arguments[1];else{var e=1.192092896e-7,t=arguments[0].normalize(),n=arguments[1].normalize(),r=t.cross(n),o=r.length();o<=e?t.dot(n)<0?(r=t.cross(new i(1,0,0)),this.angle=Math.PI,(o=r.length())<=e&&(r=t.cross(new i(0,1,0))),r=r.normalize()):(r=new i(0,1,0),this.angle=0):(this.angle=Math.atan2(o,t.dot(n)),r=r.normalize()),this.setAxis(r)}else 1==arguments.length&&Array.isArray(arguments[0])&&4===arguments[0].length?(this.x=arguments[0][0],this.y=arguments[0][1],this.z=arguments[0][2],this.angle=arguments[0][3]):(this.x=0,this.y=1,this.z=0,this.angle=0)}r.prototype.toArray=function(){return[this.x,this.y,this.z,this.angle]},r.prototype.multVec=function(e){var t=-this.angle,n=Math.sin(t),r=Math.cos(t),o=this.x,a=this.y,s=this.z,u=e.x,c=e.y,l=e.z,d=(o*u+a*c+s*l)*(1-r);return new i(o*d+r*u+n*(s*c-a*l),a*d+r*c+n*(o*l-s*u),s*d+r*l+n*(a*u-o*c))},r.prototype.inverse=function(){return new r(this.x,this.y,this.z,-this.angle)},r.prototype.multiply=function(e){var t=e.angle,n=Math.sin(t/2),i=Math.cos(t/2),o=e.getAxis().multiply(n),a=Math.sin(this.angle/2),s=Math.cos(this.angle/2),u=this.getAxis().multiply(a),c=i*s-o.dot(u),l=o.multiply(s).add(u.multiply(i)).add(u.cross(o)),d=l.x*l.x+l.y*l.y+l.z*l.z,f=new r(0,0,1,0);if(0!==d){var h=Math.sqrt(d);f.setAxis(l.divide(h)),f.angle=2*Math.atan2(h,c)}return f},r.prototype.setAxis=function(e){this.x=e.x,this.y=e.y,this.z=e.z},r.prototype.getAxis=function(){return new i(this.x,this.y,this.z)},r.prototype.toString=function(){return this.toArray().join(" ")},e.exports=r},function(e,t,n){n(47);var i,r,o=n(2),a=n(0),s={MOUSE_CLICK_THRESHOLD:3,FEATURE_PICK_TOPMOST:!0},u={},c=[0,1,4,2],l=[1,4,2,8,16],d=function(){return(new Date).valueOf()},f=function(e,t){var n,i=+(e.shiftKey&&1)|+(e.ctrlKey&&2)|+(e.altKey&&4);n=t&&void 0!==e.buttons?e.buttons:void 0!==e.which?c[e.which]:l[e.button];var r=(e.target||e.srcElement).getBoundingClientRect();return[e.clientX-r.left,e.clientY-r.top,n,i,e]},h=function(e,t){return!(!e||!t)&&(i=t,r=(n=e)[0]-i[0],o=n[1]-i[1],Math.sqrt(r*r+o*o)>s.MOUSE_CLICK_THRESHOLD);var n,i,r,o},p=null,m=null,v=null,g=0,b=null,y=navigator.userAgent.lastIndexOf("Firefox")>0,_=function(){y&&((b=document.createElement("div")).style.position="absolute",b.style.top="0",b.style.bottom="0",b.style.left="0",b.style.right="0",b.style.zIndex=1e4,b.onmousemove=function(e){return e=e||window.event,document.body.removeChild(e.target),b=null,e.preventDefault(),e.stopPropagation(),!1},setTimeout((function(){b&&(document.body.removeChild(b),b=null)}),100),document.body.appendChild(b))},w={pointermove:function(e){var t=(e.target||e.srcElement).getBoundingClientRect(),n=e.clientX-t.left,a=e.clientY-t.top,u=f(e,!0),c=p?p.handle:null;if(!v||h(v,u)){if(v=u,u[2])p&&(_(),o.dispatch("touch.didObjectOut",c,p.name),p=null);else{var l=(r=A(n,a,s.FEATURE_PICK_TOPMOST)).picked;l&&o.dispatch("touch.didObjectMove",l.handle,l.name);var d=l?l.handle:null;c!==d&&(p&&(_(),o.dispatch("touch.didObjectOut",c,p.name)),l&&o.dispatch("touch.didObjectEnter",d,l.name)),p=l}i=["touch.didPointerMove"].concat(u),o.dispatch.apply(o,i)}},pointerenter:function(e){b||(o.dispatch("touch.didPointerEnter"),v=null)},pointerout:function(e){b||(p&&(o.dispatch("touch.didObjectOut",p.handle,p.name),p=null,_()),o.dispatch("touch.didPointerOut"),v=null)},pointerdown:function(e){g=d(),m=f(e),i=["touch.didPointerDown"].concat(m),o.dispatch.apply(o,i)},pointerup:function(e){var t,n=(e.target||e.srcElement).getBoundingClientRect(),a=e.clientX-n.left,c=e.clientY-n.top,l=f(e),v=(r=A(a,c,s.FEATURE_PICK_TOPMOST)).picked;h(m,l)||(t=g,d()-t>750)||(v||(v={handle:0,name:""}),u[v.name]?(clearTimeout(u[v.name].t),delete u[v.name]):u[v.name]={lpi:r,t:setTimeout((function(){var e=r;r=u[v.name].lpi,delete u[v.name],i=["touch.didObjectClick",v.handle,v.name].concat(l),o.dispatch.apply(o,i),r=e}),250)});var b=p?p.handle:null,y=v?v.handle:null;b!==y&&(p&&(_(),o.dispatch("touch.didObjectOut",b,p.name)),v&&o.dispatch("touch.didObjectEnter",y,v.name)),p=v,i=["touch.didPointerUp"].concat(l),o.dispatch.apply(o,i),m=null}};if(!1===navigator.pointerEnabled)for(var E in w)0===E.indexOf("pointer")&&(w[E.replace(/^pointer/,"mouse")]=w[E],delete w[E]);function A(e,t,n){var i,r=[],a=o.app.pickObject(e,t,!!n);if(a)for(i=a.handle;i;i=o.app.getParentObject(i))r.push(i);return{x:e,y:t,picked:a,chain:r}}!function e(){if(o.core&&o.core.runtimeReady&&o.core.canvas){var t=o.core.canvas;for(E in w)t.addEventListener(E,w[E],!1)}else o.on("app.firstFrameDidArrive",e)}();var T={touch:{options:s,pickObjectsRightThrough:function(e,t){var n,i=[];for(n=o.app.pickObject(e,t,!1);n;)i.push(n.handle),o.app.setObjectIgnorableByPicker(n.handle,!0),n=o.app.pickObject(e,t,!1);return i.forEach((function(e){o.app.setObjectIgnorableByPicker(e,!1)})),i},pickObjectChain:A}};Object.defineProperty(T.touch,"lastPickInfo",{get:function(){return r},enumerable:!0}),e.exports={configure:function(e){return a.expand(T.touch.options,e),T}}},function(e,t,n){
/*!
 * PEP v0.5.1 | https://github.com/jquery/PEP
 * Copyright jQuery Foundation and other contributors | http://jquery.org/license
 */
e.exports=function(){"use strict";var e=["bubbles","cancelable","view","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],t=[!1,!1,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0];function n(n,i){i=i||Object.create(null);var r,o=document.createEvent("Event");o.initEvent(n,i.bubbles||!1,i.cancelable||!1);for(var a,s=2;s<e.length;s++)o[a=e[s]]=i[a]||t[s];return o.buttons=i.buttons||0,r=void 0!==i.pressure&&o.buttons?i.pressure:o.buttons?.5:0,o.x=o.clientX,o.y=o.clientY,o.pointerId=i.pointerId||0,o.width=i.width||1,o.height=i.height||1,o.pressure=r,o.tiltX=i.tiltX||0,o.tiltY=i.tiltY||0,o.twist=i.twist||0,o.tangentialPressure=i.tangentialPressure||0,o.pointerType=i.pointerType||"",o.hwTimestamp=i.hwTimestamp||0,o.isPrimary=i.isPrimary||!1,o.detail=0,o}var i=window.Map&&window.Map.prototype.forEach?Map:r;function r(){this.array=[],this.size=0}r.prototype={set:function(e,t){if(void 0===t)return this.delete(e);this.has(e)||this.size++,this.array[e]=t},has:function(e){return void 0!==this.array[e]},delete:function(e){this.has(e)&&(delete this.array[e],this.size--)},get:function(e){return this.array[e]},clear:function(){this.array.length=0,this.size=0},forEach:function(e,t){return this.array.forEach((function(n,i){e.call(t,n,i,this)}),this)}};var o=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],a=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],s={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},u="undefined"!=typeof SVGElementInstance,c={pointermap:new i,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(e,t){var n=t,i=n.events;i&&(i.forEach((function(e){n[e]&&(this.eventMap[e]=n[e].bind(n))}),this),this.eventSources[e]=n,this.eventSourceList.push(n))},register:function(e){for(var t,n=this.eventSourceList.length,i=0;i<n&&(t=this.eventSourceList[i]);i++)t.register.call(t,e)},unregister:function(e){for(var t,n=this.eventSourceList.length,i=0;i<n&&(t=this.eventSourceList[i]);i++)t.unregister.call(t,e)},contains:function(e,t){try{return e.contains(t)}catch(e){return!1}},down:function(e){e.bubbles=!0,this.fireEvent("pointerdown",e)},move:function(e){e.bubbles=!0,this.fireEvent("pointermove",e)},up:function(e){e.bubbles=!0,this.fireEvent("pointerup",e)},enter:function(e){e.bubbles=!1,this.fireEvent("pointerenter",e)},leave:function(e){e.bubbles=!1,this.fireEvent("pointerleave",e)},over:function(e){e.bubbles=!0,this.fireEvent("pointerover",e)},out:function(e){e.bubbles=!0,this.fireEvent("pointerout",e)},cancel:function(e){e.bubbles=!0,this.fireEvent("pointercancel",e)},leaveOut:function(e){this.out(e),this.propagate(e,this.leave,!1)},enterOver:function(e){this.over(e),this.propagate(e,this.enter,!0)},eventHandler:function(e){if(!e._handledByPE){var t=e.type,n=this.eventMap&&this.eventMap[t];n&&n(e),e._handledByPE=!0}},listen:function(e,t){t.forEach((function(t){this.addEvent(e,t)}),this)},unlisten:function(e,t){t.forEach((function(t){this.removeEvent(e,t)}),this)},addEvent:function(e,t){e.addEventListener(t,this.boundHandler)},removeEvent:function(e,t){e.removeEventListener(t,this.boundHandler)},makeEvent:function(e,t){this.captureInfo[t.pointerId]&&(t.relatedTarget=null);var i=new n(e,t);return t.preventDefault&&(i.preventDefault=t.preventDefault),i._target=i._target||t.target,i},fireEvent:function(e,t){var n=this.makeEvent(e,t);return this.dispatchEvent(n)},cloneEvent:function(e){for(var t,n=Object.create(null),i=0;i<o.length;i++)n[t=o[i]]=e[t]||a[i],!u||"target"!==t&&"relatedTarget"!==t||n[t]instanceof SVGElementInstance&&(n[t]=n[t].correspondingUseElement);return e.preventDefault&&(n.preventDefault=function(){e.preventDefault()}),n},getTarget:function(e){var t=this.captureInfo[e.pointerId];return t?e._target!==t&&e.type in s?void 0:t:e._target},propagate:function(e,t,n){for(var i=e.target,r=[];null!=i&&i!==document&&!i.contains(e.relatedTarget);)if(r.push(i),!(i=i.parentNode))return;n&&r.reverse(),r.forEach((function(n){e.target=n,t.call(this,e)}),this)},setCapture:function(e,t,i){this.captureInfo[e]&&this.releaseCapture(e,i),this.captureInfo[e]=t,this.implicitRelease=this.releaseCapture.bind(this,e,i),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var r=new n("gotpointercapture",{bubbles:!0});r.pointerId=e,r._target=t,i||this.asyncDispatchEvent(r)},releaseCapture:function(e,t){var i=this.captureInfo[e];if(i){this.captureInfo[e]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var r=new n("lostpointercapture",{bubbles:!0});r.pointerId=e,r._target=i,t||this.asyncDispatchEvent(r)}},dispatchEvent:function(e){var t=this.getTarget(e);if(t)return t.dispatchEvent(e)},asyncDispatchEvent:function(e){requestAnimationFrame(this.dispatchEvent.bind(this,e))}};c.boundHandler=c.eventHandler.bind(c);var l={shadow:function(e){if(e)return e.shadowRoot||e.webkitShadowRoot},canTarget:function(e){return e&&Boolean(e.elementFromPoint)},targetingShadow:function(e){var t=this.shadow(e);if(this.canTarget(t))return t},olderShadow:function(e){var t=e.olderShadowRoot;if(!t){var n=e.querySelector("shadow");n&&(t=n.olderShadowRoot)}return t},allShadows:function(e){for(var t=[],n=this.shadow(e);n;)t.push(n),n=this.olderShadow(n);return t},searchRoot:function(e,t,n){if(e){var i,r,o=e.elementFromPoint(t,n);for(r=this.targetingShadow(o);r;){if(i=r.elementFromPoint(t,n)){var a=this.targetingShadow(i);return this.searchRoot(a,t,n)||i}r=this.olderShadow(r)}return o}},owner:function(e){for(var t=e;t.parentNode;)t=t.parentNode;return t.nodeType!==Node.DOCUMENT_NODE&&t.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(t=document),t},findTarget:function(e){var t=e.clientX,n=e.clientY,i=this.owner(e.target);return i.elementFromPoint(t,n)||(i=document),this.searchRoot(i,t,n)}},d=Array.prototype.forEach.call.bind(Array.prototype.forEach),f=Array.prototype.map.call.bind(Array.prototype.map),h=Array.prototype.slice.call.bind(Array.prototype.slice),p=Array.prototype.filter.call.bind(Array.prototype.filter),m=window.MutationObserver||window.WebKitMutationObserver,v={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};function g(e,t,n,i){this.addCallback=e.bind(i),this.removeCallback=t.bind(i),this.changedCallback=n.bind(i),m&&(this.observer=new m(this.mutationWatcher.bind(this)))}function b(e){return"{ -ms-touch-action: "+e+"; touch-action: "+e+"; }"}g.prototype={watchSubtree:function(e){this.observer&&l.canTarget(e)&&this.observer.observe(e,v)},enableOnSubtree:function(e){this.watchSubtree(e),e===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(e)},installNewSubtree:function(e){d(this.findElements(e),this.addElement,this)},findElements:function(e){return e.querySelectorAll?e.querySelectorAll("[touch-action]"):[]},removeElement:function(e){this.removeCallback(e)},addElement:function(e){this.addCallback(e)},elementChanged:function(e,t){this.changedCallback(e,t)},concatLists:function(e,t){return e.concat(h(t))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(e){return e.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(e){var t=f(e,this.findElements,this);return t.push(p(e,this.isElement)),t.reduce(this.concatLists,[])},mutationWatcher:function(e){e.forEach(this.mutationHandler,this)},mutationHandler:function(e){"childList"===e.type?(this.flattenMutationTree(e.addedNodes).forEach(this.addElement,this),this.flattenMutationTree(e.removedNodes).forEach(this.removeElement,this)):"attributes"===e.type&&this.elementChanged(e.target,e.oldValue)}};var y=[{selector:'[touch-action="none"]',value:"none"},{selector:'[touch-action="auto"]',value:"auto"},{selector:'[touch-action~="pan-x"]',value:"pan-x"},{selector:'[touch-action~="pan-y"]',value:"pan-y"},{selector:'[touch-action~="pan-up"]',value:"pan-up"},{selector:'[touch-action~="pan-down"]',value:"pan-down"},{selector:'[touch-action~="pan-left"]',value:"pan-left"},{selector:'[touch-action~="pan-right"]',value:"pan-right"}],_="",w=window.PointerEvent||window.MSPointerEvent,E=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,A=c.pointermap,T=[1,4,2,8,16],O=!1;try{O=1===new MouseEvent("test",{buttons:1}).buttons}catch(e){}var S,P={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","webkitmouseforcechanged","mousemove","mouseup","mouseover","mouseout"],register:function(e){c.listen(e,this.events)},unregister:function(e){c.unlisten(e,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(e){for(var t,n=this.lastTouches,i=e.clientX,r=e.clientY,o=0,a=n.length;o<a&&(t=n[o]);o++){var s=Math.abs(i-t.x),u=Math.abs(r-t.y);if(s<=25&&u<=25)return!0}},prepareEvent:function(e){var t=c.cloneEvent(e),n=t.preventDefault;return t.preventDefault=function(){e.preventDefault(),n()},t.pointerId=this.POINTER_ID,t.isPrimary=!0,t.pointerType=this.POINTER_TYPE,"webkitForce"in e&&(t.pressure=e.webkitForce-MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN),t},prepareButtonsForMove:function(e,t){var n=A.get(this.POINTER_ID);0!==t.which&&n?e.buttons=n.buttons:e.buttons=0,t.buttons=e.buttons},mousedown:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=A.get(this.POINTER_ID),n=this.prepareEvent(e);O||(n.buttons=T[n.button],t&&(n.buttons|=t.buttons),e.buttons=n.buttons),A.set(this.POINTER_ID,e),t&&0!==t.buttons?c.move(n):c.down(n)}},webkitmouseforcechanged:function(e){this.mousemove(e)},mousemove:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);O||this.prepareButtonsForMove(t,e),t.button=-1,A.set(this.POINTER_ID,e),c.move(t)}},mouseup:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=A.get(this.POINTER_ID),n=this.prepareEvent(e);if(!O){var i=T[n.button];n.buttons=t?t.buttons&~i:0,e.buttons=n.buttons}A.set(this.POINTER_ID,e),n.buttons&=~T[n.button],0===n.buttons?c.up(n):c.move(n)}},mouseover:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);O||this.prepareButtonsForMove(t,e),t.button=-1,A.set(this.POINTER_ID,e),c.enterOver(t)}},mouseout:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);O||this.prepareButtonsForMove(t,e),t.button=-1,c.leaveOut(t)}},cancel:function(e){var t=this.prepareEvent(e);c.cancel(t),this.deactivateMouse()},deactivateMouse:function(){A.delete(this.POINTER_ID)}},x=c.captureInfo,M=l.findTarget.bind(l),k=l.allShadows.bind(l),I=c.pointermap,C={events:["touchstart","touchmove","touchforcechange","touchend","touchcancel"],register:function(e){S.enableOnSubtree(e)},unregister:function(){},elementAdded:function(e){var t=e.getAttribute("touch-action"),n=this.touchActionToScrollType(t);"number"==typeof n&&(e._scrollType=n,c.listen(e,this.events),k(e).forEach((function(e){e._scrollType=n,c.listen(e,this.events)}),this))},elementRemoved:function(e){if(I.size>0){var t=this.events;e.addEventListener("touchend",(function(){e._scrollType=void 0,c.unlisten(e,t)}))}else e._scrollType=void 0,c.unlisten(e,this.events);k(e).forEach((function(e){e._scrollType=void 0,c.unlisten(e,this.events)}),this)},elementChanged:function(e,t){var n=e.getAttribute("touch-action"),i=this.touchActionToScrollType(n),r=this.touchActionToScrollType(t);"number"==typeof i&&"number"==typeof r?(e._scrollType=i,k(e).forEach((function(e){e._scrollType=i}),this)):"number"==typeof r?this.elementRemoved(e):"number"==typeof i&&this.elementAdded(e)},scrollTypes:{UP:function(e){return e.includes("pan-y")||e.includes("pan-up")?1:0},DOWN:function(e){return e.includes("pan-y")||e.includes("pan-down")?2:0},LEFT:function(e){return e.includes("pan-x")||e.includes("pan-left")?4:0},RIGHT:function(e){return e.includes("pan-x")||e.includes("pan-right")?8:0}},touchActionToScrollType:function(e){if(e){if("auto"===e)return 15;if("none"===e)return 0;var t=e.split(" "),n=this.scrollTypes;return n.UP(t)|n.DOWN(t)|n.LEFT(t)|n.RIGHT(t)}},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(e){return this.firstTouch===e.identifier},setPrimaryTouch:function(e){(0===I.size||1===I.size&&I.has(1))&&(this.firstTouch=e.identifier,this.firstXY={X:e.clientX,Y:e.clientY},this.scrolling=!1)},removePrimaryPointer:function(e){e.isPrimary&&(this.firstTouch=null,this.firstXY=null)},typeToButtons:function(e){var t=0;return"touchstart"!==e&&"touchmove"!==e&&"touchforcechange"!==e||(t=1),t},touchToPointer:function(e){var t=this.currentTouchEvent,n=c.cloneEvent(e),i=n.pointerId=e.identifier+2;if(n.target=x[i]||M(n),n.bubbles=!0,n.cancelable=!0,n.button=0,n.buttons=this.typeToButtons(t.type),n.width=2*(e.radiusX||e.webkitRadiusX||0),n.height=2*(e.radiusY||e.webkitRadiusY||0),n.pressure=void 0!==e.force?e.force:void 0!==e.webkitForce?e.webkitForce:void 0,n.isPrimary=this.isPrimaryTouch(e),e.altitudeAngle){var r=Math.tan(e.altitudeAngle),o=180/Math.PI;n.tiltX=Math.atan(Math.cos(e.azimuthAngle)/r)*o,n.tiltY=Math.atan(Math.sin(e.azimuthAngle)/r)*o}else n.tiltX=0,n.tiltY=0;"stylus"===e.touchType?n.pointerType="pen":n.pointerType=this.POINTER_TYPE,n.altKey=t.altKey,n.ctrlKey=t.ctrlKey,n.metaKey=t.metaKey,n.shiftKey=t.shiftKey;var a=this;return n.preventDefault=function(){a.scrolling=!1,a.firstXY=null,t.preventDefault()},n},processTouches:function(e,t){var n=e.changedTouches;this.currentTouchEvent=e;for(var i,r=0;r<n.length;r++)i=n[r],t.call(this,this.touchToPointer(i))},shouldScroll:function(e){if(this.firstXY){var t,n=e.currentTarget._scrollType;if(0===n)t=!1;else if(15===n)t=!0;else{var i=e.changedTouches[0],r=i.clientY-this.firstXY.Y,o=Math.abs(r),a=i.clientX-this.firstXY.X,s=Math.abs(a),u=1&n,c=2&n,l=4&n,d=8&n;l&&d?t=s>o:l?t=s>o&&a>0:d&&(t=s>o&&a<0),t||(u&&c?t=s<o:u?t=s<o&&r>0:c&&(t=s<o&&r<0))}return this.firstXY=null,t}},findTouch:function(e,t){for(var n,i=0,r=e.length;i<r&&(n=e[i]);i++)if(n.identifier===t)return!0},vacuumTouches:function(e){var t=e.touches;if(I.size>=t.length){var n=[];I.forEach((function(e,i){if(1!==i&&!this.findTouch(t,i-2)){var r=e.out;n.push(r)}}),this),n.forEach(this.cancelOut,this)}},touchstart:function(e){this.vacuumTouches(e),this.setPrimaryTouch(e.changedTouches[0]),this.dedupSynthMouse(e),this.scrolling||this.processTouches(e,this.overDown)},overDown:function(e){I.set(e.pointerId,{target:e.target,out:e,outTarget:e.target}),c.enterOver(e),c.down(e)},touchforcechange:function(e){this.touchmove(e)},touchmove:function(e){this.scrolling||(this.shouldScroll(e)?(this.scrolling=!0,this.touchcancel(e)):("touchforcechange"!==e.type&&e.preventDefault(),this.processTouches(e,this.moveOverOut)))},moveOverOut:function(e){var t=e,n=I.get(t.pointerId);if(n){var i=n.out,r=n.outTarget;c.move(t),i&&r!==t.target&&(i.relatedTarget=t.target,t.relatedTarget=r,i.target=r,t.target?(c.leaveOut(i),c.enterOver(t)):(t.target=r,t.relatedTarget=null,this.cancelOut(t))),n.out=t,n.outTarget=t.target}},touchend:function(e){this.dedupSynthMouse(e),this.processTouches(e,this.upOut)},upOut:function(e){this.scrolling||(c.up(e),c.leaveOut(e)),this.cleanUpPointer(e)},touchcancel:function(e){this.processTouches(e,this.cancelOut)},cancelOut:function(e){c.cancel(e),c.leaveOut(e),this.cleanUpPointer(e)},cleanUpPointer:function(e){I.delete(e.pointerId),this.removePrimaryPointer(e)},dedupSynthMouse:function(e){var t=P.lastTouches,n=e.changedTouches[0];if(this.isPrimaryTouch(n)){var i={x:n.clientX,y:n.clientY};t.push(i);var r=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}.bind(null,t,i);setTimeout(r,2500)}}};S=new g(C.elementAdded,C.elementRemoved,C.elementChanged,C);var R,L,j,N=c.pointermap,D=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,F={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(e){c.listen(e,this.events)},unregister:function(e){c.unlisten(e,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(e){var t=e;return D&&((t=c.cloneEvent(e)).pointerType=this.POINTER_TYPES[e.pointerType]),t},cleanup:function(e){N.delete(e)},MSPointerDown:function(e){N.set(e.pointerId,e);var t=this.prepareEvent(e);c.down(t)},MSPointerMove:function(e){var t=this.prepareEvent(e);c.move(t)},MSPointerUp:function(e){var t=this.prepareEvent(e);c.up(t),this.cleanup(e.pointerId)},MSPointerOut:function(e){var t=this.prepareEvent(e);c.leaveOut(t)},MSPointerOver:function(e){var t=this.prepareEvent(e);c.enterOver(t)},MSPointerCancel:function(e){var t=this.prepareEvent(e);c.cancel(t),this.cleanup(e.pointerId)},MSLostPointerCapture:function(e){var t=c.makeEvent("lostpointercapture",e);c.dispatchEvent(t)},MSGotPointerCapture:function(e){var t=c.makeEvent("gotpointercapture",e);c.dispatchEvent(t)}};function H(e){if(!c.pointermap.has(e)){var t=new Error("NotFoundError");throw t.name="NotFoundError",t}}function U(e){for(var t=e.parentNode;t&&t!==e.ownerDocument;)t=t.parentNode;if(!t){var n=new Error("InvalidStateError");throw n.name="InvalidStateError",n}}function z(e){return 0!==c.pointermap.get(e).buttons}return window.navigator.msPointerEnabled?(R=function(e){H(e),U(this),z(e)&&(c.setCapture(e,this,!0),this.msSetPointerCapture(e))},L=function(e){H(e),c.releaseCapture(e,!0),this.msReleasePointerCapture(e)}):(R=function(e){H(e),U(this),z(e)&&c.setCapture(e,this)},L=function(e){H(e),c.releaseCapture(e)}),j=function(e){return!!c.captureInfo[e]},function(){if(w){y.forEach((function(e){_+=e.selector+b(e.value)+"\n",E&&(_+=function(e){return"body /shadow-deep/ "+e}(e.selector)+b(e.value)+"\n")}));var e=document.createElement("style");e.textContent=_,document.head.appendChild(e)}}(),function(){if(!window.PointerEvent){if(window.PointerEvent=n,window.navigator.msPointerEnabled){var e=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:e,enumerable:!0}),c.registerSource("ms",F)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),c.registerSource("mouse",P),void 0!==window.ontouchstart&&c.registerSource("touch",C);c.register(document)}}(),window.Element&&!window.Element.prototype.setPointerCapture&&Object.defineProperties(window.Element.prototype,{setPointerCapture:{value:R},releasePointerCapture:{value:L},hasPointerCapture:{value:j}}),{dispatcher:c,Installer:g,PointerEvent:n,PointerMap:i,targetFinding:l}}()},function(e,t,n){n(49);var i=n(2),r={},o=n(51),a=n(0),s={},u={UISkinController:o,create:function(e,t){return r[e]||(r[e]=new u.UISkinController(e,"string"==typeof t?document.querySelector(t):t)),r[e]},remove:function(e){r[e]&&delete r[e]},get:function(e){return r[e]},require:function(e){return i.app.util.requirePromise(e,window.requirejs.config(s))}};e.exports={configure:function(e){return s=a.expand({},e||{}),{skin:u}}}},function(e,t,n){var i=n(3),r=n(50);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]),i(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(4)(!1)).push([e.i,".skin-holder {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  pointer-events: none;\n  display: flex;\n  flex-direction: column;\n  touch-action: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  /*\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\n    font-size: 12px;\n    color: white;\n    .skin-control {\n        background-color: rgba(100, 120, 140, .7);\n    }\n    */\n}\n.skin-holder > * {\n  pointer-events: auto;\n}\n.skin-holder button,\n.skin-holder select,\n.skin-holder input[type=button],\n.skin-holder input[type=checkbox] {\n  display: inline-block;\n  border: none;\n  padding: 0.4em;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: inherit;\n  color: inherit;\n}\n.skin-holder button,\n.skin-holder input[type=button] {\n  min-width: 4em;\n}\n.skin-holder input[type=range] {\n  width: 100%;\n  margin: 0;\n  padding: 0;\n}\n.skin-holder label {\n  font-weight: bold;\n  margin-right: 0.5em;\n}\n.skin-holder label > * {\n  margin-left: 0.5em;\n}\n.skin-holder .skin-container {\n  display: flex;\n}\n.skin-holder .skin-container.row {\n  flex-direction: row;\n}\n.skin-holder .skin-container.col {\n  flex-direction: column;\n}\n.skin-holder .skin-toolbar {\n  z-index: 100;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  white-space: nowrap;\n  padding: 0 0.5em;\n  height: 3em;\n  min-height: 3em;\n  flex: 0 0 auto;\n}\n.skin-holder .skin-toolbar .skin-container {\n  align-items: center;\n  flex-grow: 1;\n  margin: 0 0.5em;\n}\n.skin-holder .skin-toolbar .skin-container.left {\n  justify-content: flex-start;\n  order: -1;\n  flex-grow: 0;\n  margin-left: 0;\n}\n.skin-holder .skin-toolbar .skin-container.right {\n  justify-content: flex-end;\n  order: 1;\n  flex-grow: 0;\n  margin-right: 0;\n}\n.skin-holder .skin-toolbar .skin-control {\n  margin-right: 0.5em;\n}\n.skin-holder .skin-panel {\n  display: flex;\n  flex-direction: column;\n  padding: 0 1em;\n}\n.skin-holder .skin-img-button {\n  background-repeat: no-repeat;\n  margin: 0;\n  display: inline-block;\n  vertical-align: top;\n}\n",""]),e.exports=t},function(e,t,n){var i=n(0),r=n(9).EventEmitter,o=n(8).createElement,a=n(8).createElementsFromHTML,s=n(22),u=n(11);function c(e,t){return i.isNumber(t)?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e)}function l(e,t,n){var r=t;return i.isString(t)&&(e+=t,r={}),o(e,r,c(arguments,2))}function d(e){return i.isObject(e)&&e.hasOwnProperty("$el")}var f=i.defineClass(r,(function(){this.setMaxListeners(0)}),{emit:function(e){r.prototype.emit.apply(this,arguments)},append:function(){this.$el&&Element.prototype.append.apply(this.$el,Array.prototype.slice.call(arguments).map((function(e){return d(e)?e.$el||"":e||""})))},remove:function(){arguments.length?Array.prototype.slice.call(arguments).forEach((function(e){if("string"==typeof e&&this.$el)return e=this.$el.querySelectorAll(e),void this.remove.apply(this,Array.prototype.slice.call(e));d(e)&&(e=e.$el),e&&e.parentNode&&e.parentNode.removeChild(e)}),this):d(this)&&this.$el&&this.$el.parentNode.removeChild(this.$el)}}),h=i.defineClass(f,(function(){f.call(this)}),{exports:function(e,t){if(Object.defineProperties(this,{$el:{value:e},element:{value:e}}),e&&e.classList&&Object.defineProperty(this,"classList",{value:e.classList}),t)for(var n in t)t.hasOwnProperty(n)&&("function"==typeof t[n]?Object.defineProperty(this,n,{configurable:!0,enumerable:!0,writable:!0,value:t[n]}):Object.defineProperty(this,n,t[n]));return this}}),p=i.defineClass(f,(function(e,t){f.call(this),this.name=e;var n=document.body;t?n=t:Cortona3DSolo.core&&Cortona3DSolo.core.canvas?n=Cortona3DSolo.core.canvas.parentNode:Cortona3DSolo.drawing&&Cortona3DSolo.drawing.svg&&(n=Cortona3DSolo.drawing.svg.parentNode);var i,r=n.querySelector(".skin-holder");r&&r.parentNode===n||(i=document.createElement("div"),n.insertBefore(i,n.firstChild).className="skin-holder",r=i),r.classList.add("skin-holder-"+function(e){return e.toLowerCase().replace(/\W/g,"")}(this.name)),Object.defineProperties(this,{$el:{value:r},element:{value:r},classList:{value:r.classList}})}),{render:function(e,t){var n,r=this;if(e){if(i.isString(e))return this.render(this.use(e,t),t);if(i.isFunction(e))return n=this.create(e,t),this.render(n,t);if(i.isObject(e)){if(d(e)||i.isHTMLNode(e))return this.append(e),e;if(i.isPromise(e))return e.then((function(e){return r.render(e,t)}));if(e.forEach)return res=e.map((function(e){return this.render(e,t)}),this),res.some((function(e){return i.isPromise(e)}))?Promise.all(res):res;if(i.isObject(e.rules)&&i.isFunction(e.render))return e.render(),e;if(e.component)return this.render(e.component,Cortona3DSolo.expand(e.options||{},t||{}))}}return e},register:function(e,t){return this.create(e,t)},use:function(e,t){var n=this;return i.isString(e)?Cortona3DSolo.skin.require(e).then((function(e){return n.create(e,t)})):i.isFunction(e)?Promise.resolve(this.create(e,t)):Promise.reject(new Error("The first argument in use() must be string or factory function."))},show:function(e){return i.isString(e)?e=document.querySelector(e):i.isUndefined(e)&&(e=this.$el),e&&(e.style.visibility="visible",e.style.display=""),e},hide:function(e,t){return i.isString(e)?e=document.querySelector(e):i.isUndefined(e)&&(e=this.$el,t=!0),e&&(e.style.visibility="hidden",t&&(e.style.display="none")),e},toggle:function(e,t){return i.isString(e)?e=document.querySelector(e):"boolean"==typeof e?t=e=this.$el:i.isUndefined(e)&&(e=this.$el),e&&(i.isUndefined(t)&&(t="none"===e.style.display),e.style.display=t?"":"none",e.style.visibility=t?"visible":"hidden"),t},clear:function(e){i.isString(e)?e=document.querySelector(e):i.isUndefined(e)&&(e=this.$el),e&&(e.innerHTML="")},create:function(e,t){if(i.isFunction(e)){var n=new h,r=e.call(n,this,t||{},Cortona3DSolo);return i.isUndefined(r)||(n=r),n||{}}return o.apply(this,Array.prototype.slice.call(arguments).map((function e(t){return Array.isArray(t)?t.map(e):d(t)?t.$el||"":t})))},toolbar:function(e,t){var n=this.div.apply(this,arguments);return n.classList.add("skin-toolbar"),n},container:function(e,t){var n=this.div.apply(this,arguments);return n.classList.add("skin-container"),n},panel:function(e,t){var n=this.div.apply(this,arguments);return n.classList.add("skin-panel"),n},button:function(e,t){var n=l.apply(this,["button"].concat(c(arguments)));return n.classList.add("skin-control"),n},buttonImg:function(e,t){var n=this.span.apply(this,arguments);return n.classList.add("skin-img-button"),n},input:function(e,t){var n=l.apply(this,["input"].concat(c(arguments)));return n.classList.add("skin-control"),n},select:function(e,t){var n=l.apply(this,["select",e].concat(t.map((function(e){var t=e;return i.isString(e)&&(t={description:e}),this.create("option",{selected:t.selected,value:t.value},t.description)}),this)));return n.classList.add("skin-control"),n},list:function(e,t,n){return"ul"!==e&&"ol"!==e&&console.error('Type of list must be "ol" or "ul" only.'),l.apply(this,[e,t].concat(n.map((function(e){return this.create("li",{},e)}),this)))},ul:function(e,t){return this.list("ul",e,t)},ol:function(e,t){return this.list("ol",e,t)},dl:function(e,t){var n=this;return l.apply(this,["dl",e].concat(t.reduce((function(e,t){return e.concat(n.create("dt",{},t.term),n.create("dd",{},t.def))}),[])))},text:function(e,t){var n=this.span.apply(this,arguments);return n.classList.add("skin-text"),n},label:l.bind(this,"label"),p:l.bind(this,"p"),a:l.bind(this,"a"),span:l.bind(this,"span"),div:l.bind(this,"div"),isHidden:function(e){return!e.offsetWidth&&!e.offsetHeight},isVisible:function(e,t){var n=e.getBoundingClientRect(),i=(this.$el||this.element).getBoundingClientRect();return n.top>=i.top&&n.bottom<=i.bottom&&(!t||n.left>=i.left&&n.right<=i.right)},createElement:o,html:a,css:s,color:u});e.exports=p},function(e,t,n){var i=n(53),r=n(0).isFunction;function o(e,t){return t.split(".").reduce((function(e,t){return e&&e[t]}),e)}function a(e,t){for(var n,i=e,r=/^\.+\//,o=t.slice(0,t.length-1);o.length&&r.test(i);)i=(n=(n=o.pop()).substr(n.lastIndexOf("!")+1)).substr(0,n.lastIndexOf("/")+1).replace(/^!+/,"")+i;return i}var s={},u=Promise.resolve(),c=null;function l(e,t){if(t=t||{},!s[e]){function n(t,n){if(y.shim[t])return function(e,t){var n=y.shim[e];return m(n.deps||[],(function(){return d(e,t).then(n.exportsFn||function(){return n.init&&n.init()||o(window,n.exports)})}),null,t)}(t,n);var i,r=((i={}).promise=new Promise((function(e,t){i.resolve=e,i.reject=t})),i);return r.name=t,r.path=n,r.context=e,function(e,t){function n(){c=null}u=u.then((function(){return c=e,t()})).then(n,n)}(r,(function(){return d(t,n).catch((function(){r.reject(new Error('Error while loading module "'+t+'"'))}))})),r.promise}function d(e,t){return new Promise((function(n,i){var r=v.load(null,e,w(e,t,!0));r.onerror=i,r.onload=n}))}var f=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,h=/[^.]\s*require\s*\(\s*["']([^'"\s]*)["']\s*\)/g;function p(e,t,n){var i=[];return t.toString().replace(f,"").replace(h,(function(e,t){i.push(t)})),{deps:i,factory:function(){var r=arguments,o=i.reduce((function(e,t,n){return e[t]=r[n],e}),{});function a(e){if(!o[e])throw new Error('Module "'+i+'" has not been loaded yet');return o[e]}return a.toUrl=function(e){return w(e,n)},t(a,_.exports(e),_.module(e))}}}function m(e,t,i,s){var u=s.slice(-1)[0];return new Promise((function(t,i){Promise.all(e.map((function(e){if(s.indexOf(e)>-1)return Promise.reject(new Error("Circular dependency: "+s.concat(e).join(" -> ")));var t=s.concat(e);return _[e]?_[e](u):(e.indexOf("!")>-1&&(g[e]=function(e,t){var n=e.lastIndexOf("!"),i=e.substr(0,n).replace(/^!+/,""),r=l(null).getContext();return e=e.substr(n+1),r._require([i],(function(n){return new Promise((function(i,r){function o(){if(!s)return v.apply(null,arguments)}Object.keys(v).forEach((function(e){o[e]=v[e]}));var s=!1;i.error=r,i.fromText=function(e,n){n||(n=e);var o=c;c={name:e,resolve:i,reject:r,path:t},new Function(n)(),c=o,s=!0},n.load(a(e,t),o,i,y)}))}),null,t)}(e,t)),b[e]?g[e]=Promise.resolve().then((function(){return m.apply(null,b[e].concat([t]))})):g[e]||(g[e]=n(e,t)),g[e])}))).then(t,i)})).then((function(e){if(r(t)){var n=t.apply(null,e);return u&&o(g[u],"module.exports")||n}return t}),(function(e){return r(i)&&i(e),v.onError(e),Promise.reject(e)}))}function v(e,t,n){return m(e,t,n,[])}var g,b,y,_={require:function(e){return v},module:function(e){var t=g[e];if(!t)throw new Error('Module "module" should be required only by modules');return t.module=t.module||{id:e,config:function(){return y.config[e]||{}}}},exports:function(e){return _.module(e).exports={}}};function w(e,t,n){var i=Object.keys(y.bundles).filter((function(t){return y.bundles[t].indexOf(e)>-1}))[0];return i?v.toUrl(i):(y.paths[e]?(e=y.paths[e],n&&(e+=".js")):(n&&(e=function(e){return/^\/|:|\?|\.js$/.test(e)?e:e+".js"}(e)),t&&(e=a(e,t))),/^([\w\+\.\-]+:)?\//.test(e)||(e=y.baseUrl+e),y.urlArgs&&(e+="?"+y.urlArgs),e)}v.resetContext=function(){y={urlArgs:"",baseUrl:"./",paths:{},shim:{},bundles:{},config:{}},g={},b={}},v.config=function(e){if(e.context)return l(e.context,e);y=i(y,e)},v.load=function(e,t,n){var i=document.createElement("script");return i.src=n,i.async=!0,document.getElementsByTagName("body")[0].appendChild(i),i},v.toUrl=function(e){return w(e)},v.specified=function(e){return g.hasOwnProperty(e)},v.onError=function(e){console.error(e)},v.resetContext(),v.getContext=function(){return{config:y,modules:g,predefines:b,wrapCommonJS:p,_require:m}},s[e]=v}var E=i({},t);return delete E.context,s[e].config(E),s[e]}function d(e,t,n){"string"!=typeof e&&(n=t,t=e,e=null),Array.isArray(t)||(n=t,t=[]);var i=c,r=l(e?null:i&&i.context).getContext();if(null===e&&!i)throw new Error("Unexpected define!");if(0===t.length&&n.length>0){var o=r.wrapCommonJS(e||i.name,n,[].concat(i.path,""));t=o.deps,n=o.factory}if(null===e||i&&i.name===e){var a=r._require(t,n,i.reject,i.path);i.resolve(a)}else r.predefines[e]=[t,n,null]}d.amd={};var f=l(null);e.exports={define:d,require:f,requirejs:f}},function(e,t){e.exports=function e(t,n){var i=Array.isArray(n),r=i&&[]||{};return i?(t=t||[],r=r.concat(t),n.forEach((function(n,i){void 0===r[i]?r[i]=n:"object"==typeof n?r[i]=e(t[i],n):-1===t.indexOf(n)&&r.push(n)}))):(t&&"object"==typeof t&&Object.keys(t).forEach((function(e){r[e]=t[e]})),Object.keys(n).forEach((function(i){"object"==typeof n[i]&&n[i]&&t[i]?r[i]=e(t[i],n[i]):r[i]=n[i]}))),r}},function(e,t){define("res",(function(){return{load:function(e,t,n,i){n(t.toUrl(e))}}}))},function(e,t){define("file",(function(){return{load:function(e,t,n,i){n(t.toUrl(e))}}}))},function(e,t){define("css",(function(){return{load:function(e,t,n,i){var r=document.createElement("link");r.href=t.toUrl(e),Array.prototype.slice.call(document.getElementsByTagName("head")[0].querySelectorAll("link[rel=stylesheet]")).some((function(e){return e.href===r.href}))?n({}):(r.rel="stylesheet",r.type="text/css",r.onload=n,r.onerror=n.error,document.getElementsByTagName("head")[0].appendChild(r))}}}))},function(e,t){define("json",(function(){return{load:function(e,t,n,i){Cortona3DSolo.app.util.loadResource(t.toUrl(e),"application/json","json").then((function(t){if(null===t.response)throw new Error('Failed parsing JSON file "'+e+'"');if("string"==typeof t.response){var i=JSON.parse(t.response);if(!i)throw new Error('Failed parsing JSON file "'+e+'"');n(i)}else n(t.response)})).catch(n.error)}}}))},function(e,t){define("xml",(function(){return{load:function(e,t,n,i){Cortona3DSolo.app.util.loadResource(t.toUrl(e),"text/xml").then((function(e){if(!e.responseXML)throw new Error(url+" empty content");n(e.responseXML)})).catch(n.error)}}}))},function(e,t){define("raw",(function(){return{load:function(e,t,n,i){Cortona3DSolo.app.util.loadResource(t.toUrl(e),"text/plain").then((function(e){if(!e.response)throw new Error(url+" empty content");n(e.response)})).catch(n.error)}}}))}])}));